(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{7144:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{A3:()=>D,AL:()=>te,AV:()=>x,Cc:()=>X,IN:()=>Xt,Su:()=>S,UR:()=>G,Uv:()=>Qe,WW:()=>ee,Wg:()=>rt,Ww:()=>Ie,Y7:()=>me,YD:()=>et,Yd:()=>Me,Yj:()=>fs,aw:()=>pn,ik:()=>Gn,kF:()=>hi,kx:()=>ie,my:()=>zr,o9:()=>xe,qk:()=>Ce,sX:()=>Be,t7:()=>Nt,uH:()=>V,yW:()=>T,yy:()=>k});const je=function(O){const P=[];let L=0;for(let Ee=0;Ee<O.length;Ee++){let q=O.charCodeAt(Ee);q<128?P[L++]=q:q<2048?(P[L++]=q>>6|192,P[L++]=63&q|128):55296==(64512&q)&&Ee+1<O.length&&56320==(64512&O.charCodeAt(Ee+1))?(q=65536+((1023&q)<<10)+(1023&O.charCodeAt(++Ee)),P[L++]=q>>18|240,P[L++]=q>>12&63|128,P[L++]=q>>6&63|128,P[L++]=63&q|128):(P[L++]=q>>12|224,P[L++]=q>>6&63|128,P[L++]=63&q|128)}return P},Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,P){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let q=0;q<O.length;q+=3){const ut=O[q],Et=q+1<O.length,Ot=Et?O[q+1]:0,Wr=q+2<O.length,mt=Wr?O[q+2]:0;let Te=(15&Ot)<<2|mt>>6,Kr=63&mt;Wr||(Kr=64,Et||(Te=64)),Ee.push(L[ut>>2],L[(3&ut)<<4|Ot>>4],L[Te],L[Kr])}return Ee.join("")},encodeString(O,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(O):this.encodeByteArray(je(O),P)},decodeString(O,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(O):function(O){const P=[];let L=0,Ee=0;for(;L<O.length;){const q=O[L++];if(q<128)P[Ee++]=String.fromCharCode(q);else if(q>191&&q<224){const ut=O[L++];P[Ee++]=String.fromCharCode((31&q)<<6|63&ut)}else if(q>239&&q<365){const Wr=((7&q)<<18|(63&O[L++])<<12|(63&O[L++])<<6|63&O[L++])-65536;P[Ee++]=String.fromCharCode(55296+(Wr>>10)),P[Ee++]=String.fromCharCode(56320+(1023&Wr))}else{const ut=O[L++],Et=O[L++];P[Ee++]=String.fromCharCode((15&q)<<12|(63&ut)<<6|63&Et)}}return P.join("")}(this.decodeStringToByteArray(O,P))},decodeStringToByteArray(O,P){this.init_();const L=P?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let q=0;q<O.length;){const ut=L[O.charAt(q++)],Ot=q<O.length?L[O.charAt(q)]:0;++q;const mt=q<O.length?L[O.charAt(q)]:64;++q;const en=q<O.length?L[O.charAt(q)]:64;if(++q,null==ut||null==Ot||null==mt||null==en)throw new Z;Ee.push(ut<<2|Ot>>4),64!==mt&&(Ee.push(Ot<<4&240|mt>>2),64!==en&&Ee.push(mt<<6&192|en))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rt=function(O){return function(O){const P=je(O);return Ze.encodeByteArray(P,!0)}(O).replace(/\./g,"")},ee=function(O){try{return Ze.decodeString(O,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function Ie(O,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return P}for(const L in P)!P.hasOwnProperty(L)||!le(L)||(O[L]=Ie(O[L],P[L]));return O}function le(O){return"__proto__"!==O}const z=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const O=process.env.__FIREBASE_DEFAULTS__;return O?JSON.parse(O):void 0})()||(()=>{if(typeof document>"u")return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=O&&ee(O[1]);return P&&JSON.parse(P)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},Me=()=>{var O;return null===(O=z())||void 0===O?void 0:O.config},Be=O=>{var P;return null===(P=z())||void 0===P?void 0:P[`_${O}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,L)=>{this.resolve=P,this.reject=L})}wrapCallback(P){return(L,Ee)=>{L?this.reject(L):this.resolve(Ee),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(L):P(L,Ee))}}}function et(O,P){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=P||"demo-project",q=O.iat||0,ut=O.sub||O.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:q,exp:q+3600,auth_time:q,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},O);return[rt(JSON.stringify({alg:"none",type:"JWT"})),rt(JSON.stringify(Et)),""].join(".")}function S(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function T(){var O;const P=null===(O=z())||void 0===O?void 0:O.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function V(){return"object"==typeof self&&self.self===self}function X(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const O=S();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function Ce(){return!T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"==typeof indexedDB}catch{return!1}}function D(){return new Promise((O,P)=>{try{let L=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Ee);q.onsuccess=()=>{q.result.close(),L||self.indexedDB.deleteDatabase(Ee),O(!0)},q.onupgradeneeded=()=>{L=!1},q.onerror=()=>{var ut;P((null===(ut=q.error)||void 0===ut?void 0:ut.message)||"")}}catch(L){P(L)}})}class ie extends Error{constructor(P,L,Ee){super(L),this.code=P,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(P,L,Ee){this.service=P,this.serviceName=L,this.errors=Ee}create(P,...L){const Ee=L[0]||{},q=`${this.service}/${P}`,ut=this.errors[P],Et=ut?function We(O,P){return O.replace(dt,(L,Ee)=>{const q=P[Ee];return null!=q?String(q):`<${Ee}?>`})}(ut,Ee):"Error";return new ie(q,`${this.serviceName}: ${Et} (${q}).`,Ee)}}const dt=/\{\$([^}]+)}/g;function me(O,P){return Object.prototype.hasOwnProperty.call(O,P)}function Nt(O){for(const P in O)if(Object.prototype.hasOwnProperty.call(O,P))return!1;return!0}function Xt(O,P){if(O===P)return!0;const L=Object.keys(O),Ee=Object.keys(P);for(const q of L){if(!Ee.includes(q))return!1;const ut=O[q],Et=P[q];if(rn(ut)&&rn(Et)){if(!Xt(ut,Et))return!1}else if(ut!==Et)return!1}for(const q of Ee)if(!L.includes(q))return!1;return!0}function rn(O){return null!==O&&"object"==typeof O}function Gn(O){const P=[];for(const[L,Ee]of Object.entries(O))Array.isArray(Ee)?Ee.forEach(q=>{P.push(encodeURIComponent(L)+"="+encodeURIComponent(q))}):P.push(encodeURIComponent(L)+"="+encodeURIComponent(Ee));return P.length?"&"+P.join("&"):""}function pn(O){const P={};return O.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[q,ut]=Ee.split("=");P[decodeURIComponent(q)]=decodeURIComponent(ut)}}),P}function hi(O){const P=O.indexOf("?");if(!P)return"";const L=O.indexOf("#",P);return O.substring(P,L>0?L:void 0)}function zr(O,P){const L=new ri(O,P);return L.subscribe.bind(L)}class ri{constructor(P,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{P(this)}).catch(Ee=>{this.error(Ee)})}next(P){this.forEachObserver(L=>{L.next(P)})}error(P){this.forEachObserver(L=>{L.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,L,Ee){let q;if(void 0===P&&void 0===L&&void 0===Ee)throw new Error("Missing Observer.");q=function Li(O,P){if("object"!=typeof O||null===O)return!1;for(const L of P)if(L in O&&"function"==typeof O[L])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:L,complete:Ee},void 0===q.next&&(q.next=fi),void 0===q.error&&(q.error=fi),void 0===q.complete&&(q.complete=fi);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),ut}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,P)}sendOne(P,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{L(this.observers[P])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}function fs(O){return O&&O._delegate?O._delegate:O}},9248:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{c:()=>U,r:()=>W});const U=(S,x)=>{S.componentOnReady?S.componentOnReady().then(T=>x(T)):W(()=>x(S))},W=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S)},1896:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{L:()=>y,a:()=>ke,b:()=>U,c:()=>je,d:()=>Pt,g:()=>S});const y="ionViewWillEnter",ke="ionViewDidEnter",U="ionViewWillLeave",je="ionViewDidLeave",Pt="ionViewWillUnload",S=x=>x.classList.contains("ion-page")?x:x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||x},388:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{c:()=>De});var y=oe(4829),ke=oe(6384);let U;const Pt=Q=>Q.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ze=Q=>(void 0===U&&(U=void 0===Q.style.animationName&&void 0!==Q.style.webkitAnimationName?"-webkit-":""),U),Z=(Q,z,Y)=>{const Ne=z.startsWith("animation")?Ze(Q):"";Q.style.setProperty(Ne+z,Y)},Je=(Q,z)=>{const Y=z.startsWith("animation")?Ze(Q):"";Q.style.removeProperty(Y+z)},W=[],we=(Q=[],z)=>{if(void 0!==z){const Y=Array.isArray(z)?z:[z];return[...Q,...Y]}return Q},De=Q=>{let z,Y,Ne,Me,Be,xe,V,k,D,M,j,dt,tt,et=[],S=[],x=[],T=!1,X={},te=[],de=[],Qe={},Tt=0,Jt=!1,Ce=!1,ie=!0,G=!1,We=!0,pt=!1;const Vt=Q,dn=[],yt=[],Re=[],se=[],me=[],Ke=[],Nt=[],wn=[],Xt=[],rn=[],Qt=[],Gn="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,pn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Gn,Xn=()=>Qt,fi=(ce,I)=>{const C=I.findIndex(F=>F.c===ce);C>-1&&I.splice(C,1)},pi=(ce,I)=>((null!=I&&I.oneTimeCallback?yt:dn).push({c:ce,o:I}),tt),qr=()=>{if(pn)Qt.forEach(ce=>{ce.cancel()}),Qt.length=0;else{const ce=se.slice();(0,ke.r)(()=>{ce.forEach(I=>{Je(I,"animation-name"),Je(I,"animation-duration"),Je(I,"animation-timing-function"),Je(I,"animation-iteration-count"),Je(I,"animation-delay"),Je(I,"animation-play-state"),Je(I,"animation-fill-mode"),Je(I,"animation-direction")})})}},xn=()=>{Ke.forEach(ce=>{null!=ce&&ce.parentNode&&ce.parentNode.removeChild(ce)}),Ke.length=0},P=()=>void 0!==Be?Be:V?V.getFill():"both",L=()=>void 0!==D?D:void 0!==xe?xe:V?V.getDirection():"normal",Ee=()=>Jt?"linear":void 0!==Ne?Ne:V?V.getEasing():"linear",q=()=>Ce?0:void 0!==M?M:void 0!==Y?Y:V?V.getDuration():0,ut=()=>void 0!==Me?Me:V?V.getIterations():1,Et=()=>void 0!==j?j:void 0!==z?z:V?V.getDelay():0,ct=()=>{0!==Tt&&(Tt--,0===Tt&&((()=>{Yo(),Xt.forEach($=>$()),rn.forEach($=>$());const ce=ie?1:0,I=te,C=de,F=Qe;se.forEach($=>{const K=$.classList;I.forEach(ae=>K.add(ae)),C.forEach(ae=>K.remove(ae));for(const ae in F)F.hasOwnProperty(ae)&&Z($,ae,F[ae])}),M=void 0,D=void 0,j=void 0,dn.forEach($=>$.c(ce,tt)),yt.forEach($=>$.c(ce,tt)),yt.length=0,We=!0,ie&&(G=!0),ie=!0})(),V&&V.animationFinish()))},gn=(ce=!0)=>{xn();const I=(Q=>(Q.forEach(z=>{for(const Y in z)if(z.hasOwnProperty(Y)){const Ne=z[Y];if("easing"===Y)z["animation-timing-function"]=Ne,delete z[Y];else{const Me=Pt(Y);Me!==Y&&(z[Me]=Ne,delete z[Y])}}}),Q))(et);se.forEach(C=>{if(I.length>0){const F=((Q=[])=>Q.map(z=>{const Y=z.offset,Ne=[];for(const Me in z)z.hasOwnProperty(Me)&&"offset"!==Me&&Ne.push(`${Me}: ${z[Me]};`);return`${100*Y}% { ${Ne.join(" ")} }`}).join(" "))(I);dt=void 0!==Q?Q:(Q=>{let z=W.indexOf(Q);return z<0&&(z=W.push(Q)-1),`ion-animation-${z}`})(F);const $=((Q,z,Y)=>{var Ne;const Me=(Q=>{const z=void 0!==Q.getRootNode?Q.getRootNode():Q;return z.head||z})(Y),Be=Ze(Y),xe=Me.querySelector("#"+Q);if(xe)return xe;const et=(null!==(Ne=Y.ownerDocument)&&void 0!==Ne?Ne:document).createElement("style");return et.id=Q,et.textContent=`@${Be}keyframes ${Q} { ${z} } @${Be}keyframes ${Q}-alt { ${z} }`,Me.appendChild(et),et})(dt,F,C);Ke.push($),Z(C,"animation-duration",`${q()}ms`),Z(C,"animation-timing-function",Ee()),Z(C,"animation-delay",`${Et()}ms`),Z(C,"animation-fill-mode",P()),Z(C,"animation-direction",L());const K=ut()===1/0?"infinite":ut().toString();Z(C,"animation-iteration-count",K),Z(C,"animation-play-state","paused"),ce&&Z(C,"animation-name",`${$.id}-alt`),(0,ke.r)(()=>{Z(C,"animation-name",$.id||null)})}})},Bn=(ce=!0)=>{(()=>{Nt.forEach(F=>F()),wn.forEach(F=>F());const ce=S,I=x,C=X;se.forEach(F=>{const $=F.classList;ce.forEach(K=>$.add(K)),I.forEach(K=>$.remove(K));for(const K in C)C.hasOwnProperty(K)&&Z(F,K,C[K])})})(),et.length>0&&(pn?(se.forEach(ce=>{const I=ce.animate(et,{id:Vt,delay:Et(),duration:q(),easing:Ee(),iterations:ut(),fill:P(),direction:L()});I.pause(),Qt.push(I)}),Qt.length>0&&(Qt[0].onfinish=()=>{ct()})):gn(ce)),T=!0},yr=ce=>{if(ce=Math.min(Math.max(ce,0),.9999),pn)Qt.forEach(I=>{I.currentTime=I.effect.getComputedTiming().delay+q()*ce,I.pause()});else{const I=`-${q()*ce}ms`;se.forEach(C=>{et.length>0&&(Z(C,"animation-delay",I),Z(C,"animation-play-state","paused"))})}},Gt=ce=>{Qt.forEach(I=>{I.effect.updateTiming({delay:Et(),duration:q(),easing:Ee(),iterations:ut(),fill:P(),direction:L()})}),void 0!==ce&&yr(ce)},rr=(ce=!0,I)=>{(0,ke.r)(()=>{se.forEach(C=>{Z(C,"animation-name",dt||null),Z(C,"animation-duration",`${q()}ms`),Z(C,"animation-timing-function",Ee()),Z(C,"animation-delay",void 0!==I?`-${I*q()}ms`:`${Et()}ms`),Z(C,"animation-fill-mode",P()||null),Z(C,"animation-direction",L()||null);const F=ut()===1/0?"infinite":ut().toString();Z(C,"animation-iteration-count",F),ce&&Z(C,"animation-name",`${dt}-alt`),(0,ke.r)(()=>{Z(C,"animation-name",dt||null)})})})},Sr=(ce=!1,I=!0,C)=>(ce&&me.forEach(F=>{F.update(ce,I,C)}),pn?Gt(C):rr(I,C),tt),_n=()=>{T&&(pn?Qt.forEach(ce=>{ce.pause()}):se.forEach(ce=>{Z(ce,"animation-play-state","paused")}),pt=!0)},eo=()=>{k=void 0,ct()},Yo=()=>{k&&clearTimeout(k)},ul=ce=>new Promise(I=>{null!=ce&&ce.sync&&(Ce=!0,pi(()=>Ce=!1,{oneTimeCallback:!0})),T||Bn(),G&&(pn?(yr(0),Gt()):rr(),G=!1),We&&(Tt=me.length+1,We=!1);const C=()=>{fi(F,yt),I()},F=()=>{fi(C,Re),I()};pi(F,{oneTimeCallback:!0}),((ce,I)=>{Re.push({c:ce,o:{oneTimeCallback:!0}})})(C),me.forEach($=>{$.play()}),pn?(Qt.forEach(ce=>{ce.play()}),(0===et.length||0===se.length)&&ct()):(()=>{if(Yo(),(0,ke.r)(()=>{se.forEach(ce=>{et.length>0&&Z(ce,"animation-play-state","running")})}),0===et.length||0===se.length)ct();else{const ce=Et()||0,I=q()||0,C=ut()||1;isFinite(C)&&(k=setTimeout(eo,ce+I*C+100)),((Q,z)=>{let Y;const Ne={passive:!0},Be=xe=>{Q===xe.target&&(Y&&Y(),Yo(),(0,ke.r)(()=>{se.forEach(ce=>{Je(ce,"animation-duration"),Je(ce,"animation-delay"),Je(ce,"animation-play-state")}),(0,ke.r)(ct)}))};Q&&(Q.addEventListener("webkitAnimationEnd",Be,Ne),Q.addEventListener("animationend",Be,Ne),Y=()=>{Q.removeEventListener("webkitAnimationEnd",Be,Ne),Q.removeEventListener("animationend",Be,Ne)})})(se[0])}})(),pt=!1}),ga=(ce,I)=>{const C=et[0];return void 0===C||void 0!==C.offset&&0!==C.offset?et=[{offset:0,[ce]:I},...et]:C[ce]=I,tt};return tt={parentAnimation:V,elements:se,childAnimations:me,id:Vt,animationFinish:ct,from:ga,to:(ce,I)=>{const C=et[et.length-1];return void 0===C||void 0!==C.offset&&1!==C.offset?et=[...et,{offset:1,[ce]:I}]:C[ce]=I,tt},fromTo:(ce,I,C)=>ga(ce,I).to(ce,C),parent:ce=>(V=ce,tt),play:ul,pause:()=>(me.forEach(ce=>{ce.pause()}),_n(),tt),stop:()=>{me.forEach(ce=>{ce.stop()}),T&&(qr(),T=!1),Jt=!1,Ce=!1,We=!0,D=void 0,M=void 0,j=void 0,Tt=0,G=!1,ie=!0,pt=!1,Re.forEach(ce=>ce.c(0,tt)),Re.length=0},destroy:ce=>(me.forEach(I=>{I.destroy(ce)}),(ce=>{qr(),ce&&xn()})(ce),se.length=0,me.length=0,et.length=0,dn.length=0,yt.length=0,T=!1,We=!0,tt),keyframes:ce=>{const I=et!==ce;return et=ce,I&&(ce=>{pn?Xn().forEach(I=>{const C=I.effect;if(C.setKeyframes)C.setKeyframes(ce);else{const F=new KeyframeEffect(C.target,ce,C.getTiming());I.effect=F}}):gn()})(et),tt},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const I of ce)I.parent(tt),me.push(I);else ce.parent(tt),me.push(ce);return tt},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)se.push(ce);else if(ce.length>=0)for(let I=0;I<ce.length;I++)se.push(ce[I]);else console.error("Invalid addElement value");return tt},update:Sr,fill:ce=>(Be=ce,Sr(!0),tt),direction:ce=>(xe=ce,Sr(!0),tt),iterations:ce=>(Me=ce,Sr(!0),tt),duration:ce=>(!pn&&0===ce&&(ce=1),Y=ce,Sr(!0),tt),easing:ce=>(Ne=ce,Sr(!0),tt),delay:ce=>(z=ce,Sr(!0),tt),getWebAnimations:Xn,getKeyframes:()=>et,getFill:P,getDirection:L,getDelay:Et,getIterations:ut,getEasing:Ee,getDuration:q,afterAddRead:ce=>(Xt.push(ce),tt),afterAddWrite:ce=>(rn.push(ce),tt),afterClearStyles:(ce=[])=>{for(const I of ce)Qe[I]="";return tt},afterStyles:(ce={})=>(Qe=ce,tt),afterRemoveClass:ce=>(de=we(de,ce),tt),afterAddClass:ce=>(te=we(te,ce),tt),beforeAddRead:ce=>(Nt.push(ce),tt),beforeAddWrite:ce=>(wn.push(ce),tt),beforeClearStyles:(ce=[])=>{for(const I of ce)X[I]="";return tt},beforeStyles:(ce={})=>(X=ce,tt),beforeRemoveClass:ce=>(x=we(x,ce),tt),beforeAddClass:ce=>(S=we(S,ce),tt),onFinish:pi,isRunning:()=>0!==Tt&&!pt,progressStart:(ce=!1,I)=>(me.forEach(C=>{C.progressStart(ce,I)}),_n(),Jt=ce,T||Bn(),Sr(!1,!0,I),tt),progressStep:ce=>(me.forEach(I=>{I.progressStep(ce)}),yr(ce),tt),progressEnd:(ce,I,C)=>(Jt=!1,me.forEach(F=>{F.progressEnd(ce,I,C)}),void 0!==C&&(M=C),G=!1,ie=!0,0===ce?(D="reverse"===L()?"normal":"reverse","reverse"===D&&(ie=!1),pn?(Sr(),yr(1-I)):(j=(1-I)*q()*-1,Sr(!1,!1))):1===ce&&(pn?(Sr(),yr(I)):(j=I*q()*-1,Sr(!1,!1))),void 0!==ce&&!V&&ul(),tt)}}},9637:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{E:()=>ee,a:()=>y,s:()=>Je});const y=W=>{try{if(W instanceof Z)return W.value;if(!je()||"string"!=typeof W||""===W)return W;if(W.includes("onload="))return"";const Ie=document.createDocumentFragment(),le=document.createElement("div");Ie.appendChild(le),le.innerHTML=W,Ze.forEach(Q=>{const z=Ie.querySelectorAll(Q);for(let Y=z.length-1;Y>=0;Y--){const Ne=z[Y];Ne.parentNode?Ne.parentNode.removeChild(Ne):Ie.removeChild(Ne);const Me=U(Ne);for(let Be=0;Be<Me.length;Be++)ke(Me[Be])}});const ve=U(Ie);for(let Q=0;Q<ve.length;Q++)ke(ve[Q]);const we=document.createElement("div");we.appendChild(Ie);const De=we.querySelector("div");return null!==De?De.innerHTML:we.innerHTML}catch(Ie){return console.error(Ie),""}},ke=W=>{if(W.nodeType&&1!==W.nodeType)return;if(typeof NamedNodeMap<"u"&&!(W.attributes instanceof NamedNodeMap))return void W.remove();for(let le=W.attributes.length-1;le>=0;le--){const ve=W.attributes.item(le),we=ve.name;if(!Pt.includes(we.toLowerCase())){W.removeAttribute(we);continue}const De=ve.value,Q=W[we];(null!=De&&De.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&W.removeAttribute(we)}const Ie=U(W);for(let le=0;le<Ie.length;le++)ke(Ie[le])},U=W=>null!=W.children?W.children:W.childNodes,je=()=>{var W;const Ie=window,le=null===(W=null==Ie?void 0:Ie.Ionic)||void 0===W?void 0:W.config;return!le||(le.get?le.get("sanitizerEnabled",!0):!0===le.sanitizerEnabled||void 0===le.sanitizerEnabled)},Pt=["class","id","href","src","name","slot"],Ze=["script","style","iframe","meta","link","object","embed"];class Z{constructor(Ie){this.value=Ie}}const Je=W=>{const Ie=window,le=Ie.Ionic;if(!le||!le.config||"Object"===le.config.constructor.name)return Ie.Ionic=Ie.Ionic||{},Ie.Ionic.config=Object.assign(Object.assign({},Ie.Ionic.config),W),Ie.Ionic.config},ee=!1},495:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{C:()=>Pt,a:()=>U,d:()=>je});var y=oe(1528),ke=oe(6384);const U=function(){var Ze=(0,y.c)(function*(Z,Je,rt,ee,W,Ie){var le;if(Z)return Z.attachViewToDom(Je,rt,W,ee);if(!(Ie||"string"==typeof rt||rt instanceof HTMLElement))throw new Error("framework delegate is missing");const ve="string"==typeof rt?null===(le=Je.ownerDocument)||void 0===le?void 0:le.createElement(rt):rt;return ee&&ee.forEach(we=>ve.classList.add(we)),W&&Object.assign(ve,W),Je.appendChild(ve),yield new Promise(we=>(0,ke.c)(ve,we)),ve});return function(Je,rt,ee,W,Ie,le){return Ze.apply(this,arguments)}}(),je=(Ze,Z)=>{if(Z){if(Ze)return Ze.removeViewFromDom(Z.parentElement,Z);Z.remove()}return Promise.resolve()},Pt=()=>{let Ze,Z;return{attachViewToDom:function(){var ee=(0,y.c)(function*(W,Ie,le={},ve=[]){var we,De;let Q;if(Ze=W,Ie){const Y="string"==typeof Ie?null===(we=Ze.ownerDocument)||void 0===we?void 0:we.createElement(Ie):Ie;ve.forEach(Ne=>Y.classList.add(Ne)),Object.assign(Y,le),Ze.appendChild(Y),Q=Y,yield new Promise(Ne=>(0,ke.c)(Y,Ne))}else if(Ze.children.length>0&&("ION-MODAL"===Ze.tagName||"ION-POPOVER"===Ze.tagName)&&!(Q=Ze.children[0]).classList.contains("ion-delegate-host")){const Ne=null===(De=Ze.ownerDocument)||void 0===De?void 0:De.createElement("div");Ne.classList.add("ion-delegate-host"),ve.forEach(Me=>Ne.classList.add(Me)),Ne.append(...Ze.children),Ze.appendChild(Ne),Q=Ne}const z=document.querySelector("ion-app")||document.body;return Z=document.createComment("ionic teleport"),Ze.parentNode.insertBefore(Z,Ze),z.appendChild(Ze),null!=Q?Q:Ze});return function(Ie,le){return ee.apply(this,arguments)}}(),removeViewFromDom:()=>(Ze&&Z&&(Z.parentNode.insertBefore(Ze,Z),Z.remove()),Promise.resolve())}}},6560:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{G:()=>Pt});class ke{constructor(Z,Je,rt,ee,W){this.id=Je,this.name=rt,this.disableScroll=W,this.priority=1e6*ee+Je,this.ctrl=Z}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Z=this.ctrl.capture(this.name,this.id,this.priority);return Z&&this.disableScroll&&this.ctrl.disableScroll(this.id),Z}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class U{constructor(Z,Je,rt,ee){this.id=Je,this.disable=rt,this.disableScroll=ee,this.ctrl=Z}block(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.disableGesture(Z,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.enableGesture(Z,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const je="backdrop-no-scroll",Pt=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Z){var Je;return new ke(this,this.newID(),Z.name,null!==(Je=Z.priority)&&void 0!==Je?Je:0,!!Z.disableScroll)}createBlocker(Z={}){return new U(this,this.newID(),Z.disable,!!Z.disableScroll)}start(Z,Je,rt){return this.canStart(Z)?(this.requestedStart.set(Je,rt),!0):(this.requestedStart.delete(Je),!1)}capture(Z,Je,rt){if(!this.start(Z,Je,rt))return!1;const ee=this.requestedStart;let W=-1e4;if(ee.forEach(Ie=>{W=Math.max(W,Ie)}),W===rt){this.capturedId=Je,ee.clear();const Ie=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Z}});return document.dispatchEvent(Ie),!0}return ee.delete(Je),!1}release(Z){this.requestedStart.delete(Z),this.capturedId===Z&&(this.capturedId=void 0)}disableGesture(Z,Je){let rt=this.disabledGestures.get(Z);void 0===rt&&(rt=new Set,this.disabledGestures.set(Z,rt)),rt.add(Je)}enableGesture(Z,Je){const rt=this.disabledGestures.get(Z);void 0!==rt&&rt.delete(Je)}disableScroll(Z){this.disabledScroll.add(Z),1===this.disabledScroll.size&&document.body.classList.add(je)}enableScroll(Z){this.disabledScroll.delete(Z),0===this.disabledScroll.size&&document.body.classList.remove(je)}canStart(Z){return!(void 0!==this.capturedId||this.isDisabled(Z))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Z){const Je=this.disabledGestures.get(Z);return!!(Je&&Je.size>0)}newID(){return this.gestureId++,this.gestureId}}},2784:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{MENU_BACK_BUTTON_PRIORITY:()=>rt,OVERLAY_BACK_BUTTON_PRIORITY:()=>Je,blockHardwareBackButton:()=>Ze,shoudUseCloseWatcher:()=>Pt,startHardwareBackButton:()=>Z});var y=oe(1528),ke=oe(4829),U=oe(8523);oe(2992);const Pt=()=>U.c.get("experimentalCloseWatcher",!1)&&void 0!==ke.w&&"CloseWatcher"in ke.w,Ze=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const ee=document;let W=!1;const Ie=()=>{if(W)return;let le=0,ve=[];const we=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(z,Y){ve.push({priority:z,handler:Y,id:le++})}}});ee.dispatchEvent(we);const De=function(){var z=(0,y.c)(function*(Y){try{if(null!=Y&&Y.handler){const Ne=Y.handler(Q);null!=Ne&&(yield Ne)}}catch(Ne){console.error(Ne)}});return function(Ne){return z.apply(this,arguments)}}(),Q=()=>{if(ve.length>0){let z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ve.forEach(Y=>{Y.priority>=z.priority&&(z=Y)}),W=!0,ve=ve.filter(Y=>Y.id!==z.id),De(z).then(()=>W=!1)}};Q()};if(Pt()){let le;const ve=()=>{null==le||le.destroy(),le=new ke.w.CloseWatcher,le.onclose=()=>{Ie(),ve()}};ve()}else ee.addEventListener("backbutton",Ie)},Je=100,rt=99},6384:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{a:()=>Je,b:()=>rt,c:()=>U,d:()=>De,e:()=>we,f:()=>ve,g:()=>ee,h:()=>le,i:()=>Z,j:()=>Be,k:()=>Pt,l:()=>Q,m:()=>je,n:()=>Ie,o:()=>z,p:()=>Me,q:()=>xe,r:()=>W,s:()=>et,t:()=>y,u:()=>Y,v:()=>Ne});const y=(S,x=0)=>new Promise(T=>{ke(S,x,T)}),ke=(S,x=0,T)=>{let V,X;const te={passive:!0},Qe=()=>{V&&V()},Tt=Jt=>{(void 0===Jt||S===Jt.target)&&(Qe(),T(Jt))};return S&&(S.addEventListener("webkitTransitionEnd",Tt,te),S.addEventListener("transitionend",Tt,te),X=setTimeout(Tt,x+500),V=()=>{void 0!==X&&(clearTimeout(X),X=void 0),S.removeEventListener("webkitTransitionEnd",Tt,te),S.removeEventListener("transitionend",Tt,te)}),Qe},U=(S,x)=>{S.componentOnReady?S.componentOnReady().then(T=>x(T)):W(()=>x(S))},je=S=>void 0!==S.componentOnReady,Pt=(S,x=[])=>{const T={};return x.forEach(V=>{S.hasAttribute(V)&&(null!==S.getAttribute(V)&&(T[V]=S.getAttribute(V)),S.removeAttribute(V))}),T},Ze=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Z=(S,x)=>{let T=Ze;return x&&x.length>0&&(T=T.filter(V=>!x.includes(V))),Pt(S,T)},Je=(S,x,T,V)=>{var X;if(typeof window<"u"){const te=window,de=null===(X=null==te?void 0:te.Ionic)||void 0===X?void 0:X.config;if(de){const Qe=de.get("_ael");if(Qe)return Qe(S,x,T,V);if(de._ael)return de._ael(S,x,T,V)}}return S.addEventListener(x,T,V)},rt=(S,x,T,V)=>{var X;if(typeof window<"u"){const te=window,de=null===(X=null==te?void 0:te.Ionic)||void 0===X?void 0:X.config;if(de){const Qe=de.get("_rel");if(Qe)return Qe(S,x,T,V);if(de._rel)return de._rel(S,x,T,V)}}return S.removeEventListener(x,T,V)},ee=(S,x=S)=>S.shadowRoot||x,W=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S),Ie=S=>!!S.shadowRoot&&!!S.attachShadow,le=S=>{const x=S.closest("ion-item");return x?x.querySelector("ion-label"):null},ve=S=>{if(S.focus(),S.classList.contains("ion-focusable")){const x=S.closest("ion-app");x&&x.setFocus([S])}},we=(S,x)=>{let T;const V=S.getAttribute("aria-labelledby"),X=S.id;let te=null!==V&&""!==V.trim()?V:x+"-lbl",de=null!==V&&""!==V.trim()?document.getElementById(V):le(S);return de?(null===V&&(de.id=te),T=de.textContent,de.setAttribute("aria-hidden","true")):""!==X.trim()&&(de=document.querySelector(`label[for="${X}"]`),de&&(""!==de.id?te=de.id:de.id=te=`${X}-lbl`,T=de.textContent)),{label:de,labelId:te,labelText:T}},De=(S,x,T,V,X)=>{if(S||Ie(x)){let te=x.querySelector("input.aux-input");te||(te=x.ownerDocument.createElement("input"),te.type="hidden",te.classList.add("aux-input"),x.appendChild(te)),te.disabled=X,te.name=T,te.value=V||""}},Q=(S,x,T)=>Math.max(S,Math.min(x,T)),z=(S,x)=>{if(!S){const T="ASSERT: "+x;throw console.error(T),new Error(T)}},Y=S=>S.timeStamp||Date.now(),Ne=S=>{if(S){const x=S.changedTouches;if(x&&x.length>0){const T=x[0];return{x:T.clientX,y:T.clientY}}if(void 0!==S.pageX)return{x:S.pageX,y:S.pageY}}return{x:0,y:0}},Me=S=>{const x="rtl"===document.dir;switch(S){case"start":return x;case"end":return!x;default:throw new Error(`"${S}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(S,x)=>{const T=S._original||S;return{_original:S,emit:xe(T.emit.bind(T),x)}},xe=(S,x=0)=>{let T;return(...V)=>{clearTimeout(T),T=setTimeout(S,x,...V)}},et=(S,x)=>{if(null!=S||(S={}),null!=x||(x={}),S===x)return!0;const T=Object.keys(S);if(T.length!==Object.keys(x).length)return!1;for(const V of T)if(!(V in x)||S[V]!==x[V])return!1;return!0}},2528:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>rt});var y=oe(6560);const ke=(le,ve,we,De)=>{const Q=U(le)?{capture:!!De.capture,passive:!!De.passive}:!!De.capture;let z,Y;return le.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",Y="__zone_symbol__removeEventListener"):(z="addEventListener",Y="removeEventListener"),le[z](ve,we,Q),()=>{le[Y](ve,we,Q)}},U=le=>{if(void 0===je)try{const ve=Object.defineProperty({},"passive",{get:()=>{je=!0}});le.addEventListener("optsTest",()=>{},ve)}catch{je=!1}return!!je};let je;const Z=le=>le instanceof Document?le:le.ownerDocument,rt=le=>{let ve=!1,we=!1,De=!0,Q=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},le),Y=z.canStart,Ne=z.onWillStart,Me=z.onStart,Be=z.onEnd,xe=z.notCaptured,et=z.onMove,S=z.threshold,x=z.passive,T=z.blurOnStart,V={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((le,ve,we)=>{const De=we*(Math.PI/180),Q="x"===le,z=Math.cos(De),Y=ve*ve;let Ne=0,Me=0,Be=!1,xe=0;return{start(et,S){Ne=et,Me=S,xe=0,Be=!0},detect(et,S){if(!Be)return!1;const x=et-Ne,T=S-Me,V=x*x+T*T;if(V<Y)return!1;const X=Math.sqrt(V),te=(Q?x:T)/X;return xe=te>z?1:te<-z?-1:0,Be=!1,!0},isGesture:()=>0!==xe,getDirection:()=>xe}})(z.direction,z.threshold,z.maxAngle),te=y.G.createGesture({name:le.gestureName,priority:le.gesturePriority,disableScroll:le.disableScroll}),Tt=()=>{ve&&(Q=!1,et&&et(V))},Jt=()=>!!te.capture()&&(ve=!0,De=!1,V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime,Ne?Ne(V).then(k):k(),!0),k=()=>{T&&(()=>{if(typeof document<"u"){const G=document.activeElement;null!=G&&G.blur&&G.blur()}})(),Me&&Me(V),De=!0},D=()=>{ve=!1,we=!1,Q=!1,De=!0,te.release()},M=G=>{const We=ve,dt=De;if(D(),dt){if(ee(V,G),We)return void(Be&&Be(V));xe&&xe(V)}},j=((le,ve,we,De,Q)=>{let z,Y,Ne,Me,Be,xe,et,S=0;const x=Ce=>{S=Date.now()+2e3,ve(Ce)&&(!Y&&we&&(Y=ke(le,"touchmove",we,Q)),Ne||(Ne=ke(Ce.target,"touchend",V,Q)),Me||(Me=ke(Ce.target,"touchcancel",V,Q)))},T=Ce=>{S>Date.now()||ve(Ce)&&(!xe&&we&&(xe=ke(Z(le),"mousemove",we,Q)),et||(et=ke(Z(le),"mouseup",X,Q)))},V=Ce=>{te(),De&&De(Ce)},X=Ce=>{de(),De&&De(Ce)},te=()=>{Y&&Y(),Ne&&Ne(),Me&&Me(),Y=Ne=Me=void 0},de=()=>{xe&&xe(),et&&et(),xe=et=void 0},Qe=()=>{te(),de()},Tt=(Ce=!0)=>{Ce?(z||(z=ke(le,"touchstart",x,Q)),Be||(Be=ke(le,"mousedown",T,Q))):(z&&z(),Be&&Be(),z=Be=void 0,Qe())};return{enable:Tt,stop:Qe,destroy:()=>{Tt(!1),De=we=ve=void 0}}})(z.el,G=>{const We=Ie(G);return!(we||!De||(W(G,V),V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime=We,V.velocityX=V.velocityY=V.deltaX=V.deltaY=0,V.event=G,Y&&!1===Y(V))||(te.release(),!te.start()))&&(we=!0,0===S?Jt():(X.start(V.startX,V.startY),!0))},G=>{ve?!Q&&De&&(Q=!0,ee(V,G),requestAnimationFrame(Tt)):(ee(V,G),X.detect(V.currentX,V.currentY)&&(!X.isGesture()||!Jt())&&ie())},M,{capture:!1,passive:x}),ie=()=>{D(),j.stop(),xe&&xe(V)};return{enable(G=!0){G||(ve&&M(void 0),D()),j.enable(G)},destroy(){te.destroy(),j.destroy()}}},ee=(le,ve)=>{if(!ve)return;const we=le.currentX,De=le.currentY,Q=le.currentTime;W(ve,le);const z=le.currentX,Y=le.currentY,Me=(le.currentTime=Ie(ve))-Q;if(Me>0&&Me<100){const xe=(Y-De)/Me;le.velocityX=(z-we)/Me*.7+.3*le.velocityX,le.velocityY=.7*xe+.3*le.velocityY}le.deltaX=z-le.startX,le.deltaY=Y-le.startY,le.event=ve},W=(le,ve)=>{let we=0,De=0;if(le){const Q=le.changedTouches;if(Q&&Q.length>0){const z=Q[0];we=z.clientX,De=z.clientY}else void 0!==le.pageX&&(we=le.pageX,De=le.pageY)}ve.currentX=we,ve.currentY=De},Ie=le=>le.timeStamp||Date.now()},6256:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{b:()=>Ze,c:()=>Z,d:()=>Je,e:()=>S,g:()=>V,l:()=>xe,s:()=>x,t:()=>W,w:()=>et});var y=oe(1528),ke=oe(2992),U=oe(6384);const Ze="ionViewWillLeave",Z="ionViewDidLeave",Je="ionViewWillUnload",W=X=>new Promise((te,de)=>{(0,ke.w)(()=>{Ie(X),le(X).then(Qe=>{Qe.animation&&Qe.animation.destroy(),ve(X),te(Qe)},Qe=>{ve(X),de(Qe)})})}),Ie=X=>{const te=X.enteringEl,de=X.leavingEl;T(te,de,X.direction),X.showGoBack?te.classList.add("can-go-back"):te.classList.remove("can-go-back"),x(te,!1),te.style.setProperty("pointer-events","none"),de&&(x(de,!1),de.style.setProperty("pointer-events","none"))},le=function(){var X=(0,y.c)(function*(te){const de=yield we(te);return de&&ke.B.isBrowser?De(de,te):Q(te)});return function(de){return X.apply(this,arguments)}}(),ve=X=>{const te=X.enteringEl,de=X.leavingEl;te.classList.remove("ion-page-invisible"),te.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events"))},we=function(){var X=(0,y.c)(function*(te){return te.leavingEl&&te.animated&&0!==te.duration?te.animationBuilder?te.animationBuilder:"ios"===te.mode?(yield Promise.resolve().then(oe.bind(oe,8512))).iosTransitionAnimation:(yield Promise.resolve().then(oe.bind(oe,6556))).mdTransitionAnimation:void 0});return function(de){return X.apply(this,arguments)}}(),De=function(){var X=(0,y.c)(function*(te,de){yield z(de,!0);const Qe=te(de.baseEl,de);Me(de.enteringEl,de.leavingEl);const Tt=yield Ne(Qe,de);return de.progressCallback&&de.progressCallback(void 0),Tt&&Be(de.enteringEl,de.leavingEl),{hasCompleted:Tt,animation:Qe}});return function(de,Qe){return X.apply(this,arguments)}}(),Q=function(){var X=(0,y.c)(function*(te){const de=te.enteringEl,Qe=te.leavingEl;return yield z(te,!1),Me(de,Qe),Be(de,Qe),{hasCompleted:!0}});return function(de){return X.apply(this,arguments)}}(),z=function(){var X=(0,y.c)(function*(te,de){(void 0!==te.deepWait?te.deepWait:de)&&(yield Promise.all([S(te.enteringEl),S(te.leavingEl)])),yield Y(te.viewIsReady,te.enteringEl)});return function(de,Qe){return X.apply(this,arguments)}}(),Y=function(){var X=(0,y.c)(function*(te,de){te&&(yield te(de))});return function(de,Qe){return X.apply(this,arguments)}}(),Ne=(X,te)=>{const de=te.progressCallback,Qe=new Promise(Tt=>{X.onFinish(Jt=>Tt(1===Jt))});return de?(X.progressStart(!0),de(X)):X.play(),Qe},Me=(X,te)=>{xe(te,Ze),xe(X,"ionViewWillEnter")},Be=(X,te)=>{xe(X,"ionViewDidEnter"),xe(te,Z)},xe=(X,te)=>{if(X){const de=new CustomEvent(te,{bubbles:!1,cancelable:!1});X.dispatchEvent(de)}},et=()=>new Promise(X=>(0,U.r)(()=>(0,U.r)(()=>X()))),S=function(){var X=(0,y.c)(function*(te){const de=te;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(Tt=>(0,U.r)(Tt)));yield Promise.all(Array.from(de.children).map(S))}});return function(de){return X.apply(this,arguments)}}(),x=(X,te)=>{te?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},T=(X,te,de)=>{void 0!==X&&(X.style.zIndex="back"===de?"99":"101"),void 0!==te&&(te.style.zIndex="100")},V=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},2992:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{B:()=>Ie,H:()=>Jt,a:()=>$n,b:()=>Di,c:()=>dt,d:()=>dn,e:()=>Ht,f:()=>Vt,g:()=>tt,h:()=>Qe,i:()=>P,j:()=>le,r:()=>gn,w:()=>ce});var y=oe(1528);let je,Pt,Ze,Z=!1,Je=!1,rt=!1,ee=!1,W=!1;const Ie={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},le=I=>{const C=new URL(I,_n.$resourcesUrl$);return C.origin!==Ir.location.origin?C.href:C.pathname},Ne="s-id",Me="sty-id",et="slot-fb{display:contents}slot-fb[hidden]{display:none}",S="http://www.w3.org/1999/xlink",x={},te=I=>"object"==(I=typeof I)||"function"===I;function de(I){var C,F,$;return null!==($=null===(F=null===(C=I.head)||void 0===C?void 0:C.querySelector('meta[name="csp-nonce"]'))||void 0===F?void 0:F.getAttribute("content"))&&void 0!==$?$:void 0}const Qe=(I,C,...F)=>{let $=null,K=null,ae=null,_e=!1,Ge=!1;const $e=[],Fe=Xe=>{for(let Mt=0;Mt<Xe.length;Mt++)$=Xe[Mt],Array.isArray($)?Fe($):null!=$&&"boolean"!=typeof $&&((_e="function"!=typeof I&&!te($))&&($=String($)),_e&&Ge?$e[$e.length-1].$text$+=$:$e.push(_e?Tt(null,$):$),Ge=_e)};if(Fe(F),C){C.key&&(K=C.key),C.name&&(ae=C.name);{const Xe=C.className||C.class;Xe&&(C.class="object"!=typeof Xe?Xe:Object.keys(Xe).filter(Mt=>Xe[Mt]).join(" "))}}if("function"==typeof I)return I(null===C?{}:C,$e,k);const Pe=Tt(I,null);return Pe.$attrs$=C,$e.length>0&&(Pe.$children$=$e),Pe.$key$=K,Pe.$name$=ae,Pe},Tt=(I,C)=>({$flags$:0,$tag$:I,$text$:C,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Jt={},k={forEach:(I,C)=>I.map(D).forEach(C),map:(I,C)=>I.map(D).map(C).map(M)},D=I=>({vattrs:I.$attrs$,vchildren:I.$children$,vkey:I.$key$,vname:I.$name$,vtag:I.$tag$,vtext:I.$text$}),M=I=>{if("function"==typeof I.vtag){const F=Object.assign({},I.vattrs);return I.vkey&&(F.key=I.vkey),I.vname&&(F.name=I.vname),Qe(I.vtag,F,...I.vchildren||[])}const C=Tt(I.vtag,I.vtext);return C.$attrs$=I.vattrs,C.$children$=I.vchildren,C.$key$=I.vkey,C.$name$=I.vname,C},ie=(I,C,F,$,K,ae,_e)=>{let Ge,$e,Fe,Pe;if(1===ae.nodeType){for(Ge=ae.getAttribute("c-id"),Ge&&($e=Ge.split("."),($e[0]===_e||"0"===$e[0])&&(Fe={$flags$:0,$hostId$:$e[0],$nodeId$:$e[1],$depth$:$e[2],$index$:$e[3],$tag$:ae.tagName.toLowerCase(),$elm$:ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},C.push(Fe),ae.removeAttribute("c-id"),I.$children$||(I.$children$=[]),I.$children$[Fe.$index$]=Fe,I=Fe,$&&"0"===Fe.$depth$&&($[Fe.$index$]=Fe.$elm$))),Pe=ae.childNodes.length-1;Pe>=0;Pe--)ie(I,C,F,$,K,ae.childNodes[Pe],_e);if(ae.shadowRoot)for(Pe=ae.shadowRoot.childNodes.length-1;Pe>=0;Pe--)ie(I,C,F,$,K,ae.shadowRoot.childNodes[Pe],_e)}else if(8===ae.nodeType)$e=ae.nodeValue.split("."),($e[1]===_e||"0"===$e[1])&&(Ge=$e[0],Fe={$flags$:0,$hostId$:$e[1],$nodeId$:$e[2],$depth$:$e[3],$index$:$e[4],$elm$:ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ge?(Fe.$elm$=ae.nextSibling,Fe.$elm$&&3===Fe.$elm$.nodeType&&(Fe.$text$=Fe.$elm$.textContent,C.push(Fe),ae.remove(),I.$children$||(I.$children$=[]),I.$children$[Fe.$index$]=Fe,$&&"0"===Fe.$depth$&&($[Fe.$index$]=Fe.$elm$))):Fe.$hostId$===_e&&("s"===Ge?(Fe.$tag$="slot",ae["s-sn"]=$e[5]?Fe.$name$=$e[5]:"",ae["s-sr"]=!0,$&&(Fe.$elm$=Er.createElement(Fe.$tag$),Fe.$name$&&Fe.$elm$.setAttribute("name",Fe.$name$),ae.parentNode.insertBefore(Fe.$elm$,ae),ae.remove(),"0"===Fe.$depth$&&($[Fe.$index$]=Fe.$elm$)),F.push(Fe),I.$children$||(I.$children$=[]),I.$children$[Fe.$index$]=Fe):"r"===Ge&&($?ae.remove():(K["s-cr"]=ae,ae["s-cn"]=!0))));else if(I&&"style"===I.$tag$){const Xe=Tt(null,ae.textContent);Xe.$elm$=ae,Xe.$index$="0",I.$children$=[Xe]}},G=(I,C)=>{if(1===I.nodeType){let F=0;for(;F<I.childNodes.length;F++)G(I.childNodes[F],C);if(I.shadowRoot)for(F=0;F<I.shadowRoot.childNodes.length;F++)G(I.shadowRoot.childNodes[F],C)}else if(8===I.nodeType){const F=I.nodeValue.split(".");"o"===F[0]&&(C.set(F[1]+"."+F[2],I),I.nodeValue="",I["s-en"]=F[3])}},dt=I=>fa.push(I),tt=I=>ct(I).$modeName$,Vt=I=>ct(I).$hostElement$,dn=(I,C,F)=>{const $=Vt(I);return{emit:K=>yt($,C,{bubbles:!!(4&F),composed:!!(2&F),cancelable:!!(1&F),detail:K})}},yt=(I,C,F)=>{const $=_n.ce(C,F);return I.dispatchEvent($),$},Re=new WeakMap,se=(I,C,F)=>{let $=Sr.get(I);al&&F?($=$||new CSSStyleSheet,"string"==typeof $?$=C:$.replaceSync(C)):$=C,Sr.set(I,$)},me=(I,C,F)=>{var $;const K=Nt(C,F),ae=Sr.get(K);if(I=11===I.nodeType?I:Er,ae)if("string"==typeof ae){let Ge,_e=Re.get(I=I.head||I);if(_e||Re.set(I,_e=new Set),!_e.has(K)){if(I.host&&(Ge=I.querySelector(`[${Me}="${K}"]`)))Ge.innerHTML=ae;else{Ge=Er.createElement("style"),Ge.innerHTML=ae;const $e=null!==($=_n.$nonce$)&&void 0!==$?$:de(Er);null!=$e&&Ge.setAttribute("nonce",$e),I.insertBefore(Ge,I.querySelector("link"))}4&C.$flags$&&(Ge.innerHTML+=et),_e&&_e.add(K)}}else I.adoptedStyleSheets.includes(ae)||(I.adoptedStyleSheets=[...I.adoptedStyleSheets,ae]);return K},Nt=(I,C)=>"sc-"+(C&&32&I.$flags$?I.$tagName$+"-"+C:I.$tagName$),wn=I=>I.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Xt=(I,C,F,$,K,ae)=>{if(F!==$){let _e=Bn(I,C),Ge=C.toLowerCase();if("class"===C){const $e=I.classList,Fe=Qt(F),Pe=Qt($);$e.remove(...Fe.filter(Xe=>Xe&&!Pe.includes(Xe))),$e.add(...Pe.filter(Xe=>Xe&&!Fe.includes(Xe)))}else if("style"===C){for(const $e in F)(!$||null==$[$e])&&($e.includes("-")?I.style.removeProperty($e):I.style[$e]="");for(const $e in $)(!F||$[$e]!==F[$e])&&($e.includes("-")?I.style.setProperty($e,$[$e]):I.style[$e]=$[$e])}else if("key"!==C)if("ref"===C)$&&$(I);else if(_e||"o"!==C[0]||"n"!==C[1]){const $e=te($);if((_e||$e&&null!==$)&&!K)try{if(I.tagName.includes("-"))I[C]=$;else{const Pe=null==$?"":$;"list"===C?_e=!1:(null==F||I[C]!=Pe)&&(I[C]=Pe)}}catch{}let Fe=!1;Ge!==(Ge=Ge.replace(/^xlink\:?/,""))&&(C=Ge,Fe=!0),null==$||!1===$?(!1!==$||""===I.getAttribute(C))&&(Fe?I.removeAttributeNS(S,C):I.removeAttribute(C)):(!_e||4&ae||K)&&!$e&&($=!0===$?"":$,Fe?I.setAttributeNS(S,C,$):I.setAttribute(C,$))}else if(C="-"===C[2]?C.slice(3):Bn(Ir,Ge)?Ge.slice(2):Ge[2]+C.slice(3),F||$){const $e=C.endsWith(Gn);C=C.replace(pn,""),F&&_n.rel(I,C,F,$e),$&&_n.ael(I,C,$,$e)}}},rn=/\s/,Qt=I=>I?I.split(rn):[],Gn="Capture",pn=new RegExp(Gn+"$"),hi=(I,C,F,$)=>{const K=11===C.$elm$.nodeType&&C.$elm$.host?C.$elm$.host:C.$elm$,ae=I&&I.$attrs$||x,_e=C.$attrs$||x;for($ in ae)$ in _e||Xt(K,$,ae[$],void 0,F,C.$flags$);for($ in _e)Xt(K,$,ae[$],_e[$],F,C.$flags$)},Xn=(I,C,F,$)=>{const K=C.$children$[F];let _e,Ge,$e,ae=0;if(Z||(rt=!0,"slot"===K.$tag$&&(je&&$.classList.add(je+"-s"),K.$flags$|=K.$children$?2:1)),null!==K.$text$)_e=K.$elm$=Er.createTextNode(K.$text$);else if(1&K.$flags$)_e=K.$elm$=Er.createTextNode("");else{if(ee||(ee="svg"===K.$tag$),_e=K.$elm$=Er.createElementNS(ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&K.$flags$?"slot-fb":K.$tag$),ee&&"foreignObject"===K.$tag$&&(ee=!1),hi(null,K,ee),(I=>null!=I)(je)&&_e["s-si"]!==je&&_e.classList.add(_e["s-si"]=je),K.$children$)for(ae=0;ae<K.$children$.length;++ae)Ge=Xn(I,K,ae,_e),Ge&&_e.appendChild(Ge);"svg"===K.$tag$?ee=!1:"foreignObject"===_e.tagName&&(ee=!0)}return _e["s-hn"]=Ze,3&K.$flags$&&(_e["s-sr"]=!0,_e["s-cr"]=Pt,_e["s-sn"]=K.$name$||"",$e=I&&I.$children$&&I.$children$[F],$e&&$e.$tag$===K.$tag$&&I.$elm$&&zr(I.$elm$,!1)),_e},zr=(I,C)=>{_n.$flags$|=1;const F=I.childNodes;for(let $=F.length-1;$>=0;$--){const K=F[$];K["s-hn"]!==Ze&&K["s-ol"]&&(pi(K).insertBefore(K,Vi(K)),K["s-ol"].remove(),K["s-ol"]=void 0,K["s-sh"]=void 0,rt=!0),C&&zr(K,C)}_n.$flags$&=-2},ri=(I,C,F,$,K,ae)=>{let Ge,_e=I["s-cr"]&&I["s-cr"].parentNode||I;for(_e.shadowRoot&&_e.tagName===Ze&&(_e=_e.shadowRoot);K<=ae;++K)$[K]&&(Ge=Xn(null,F,K,I),Ge&&($[K].$elm$=Ge,_e.insertBefore(Ge,Vi(C))))},Vr=(I,C,F)=>{for(let $=C;$<=F;++$){const K=I[$];if(K){const ae=K.$elm$;Mo(K),ae&&(Je=!0,ae["s-ol"]?ae["s-ol"].remove():zr(ae,!0),ae.remove())}}},fi=(I,C,F=!1)=>I.$tag$===C.$tag$&&("slot"===I.$tag$?I.$name$===C.$name$:!!F||I.$key$===C.$key$),Vi=I=>I&&I["s-ol"]||I,pi=I=>(I["s-ol"]?I["s-ol"]:I).parentNode,Gr=(I,C,F=!1)=>{const $=C.$elm$=I.$elm$,K=I.$children$,ae=C.$children$,_e=C.$tag$,Ge=C.$text$;let $e;null===Ge?(ee="svg"===_e||"foreignObject"!==_e&&ee,"slot"===_e&&!Z||hi(I,C,ee),null!==K&&null!==ae?((I,C,F,$,K=!1)=>{let wr,Zn,ae=0,_e=0,Ge=0,$e=0,Fe=C.length-1,Pe=C[0],Xe=C[Fe],Mt=$.length-1,on=$[0],Nn=$[Mt];for(;ae<=Fe&&_e<=Mt;)if(null==Pe)Pe=C[++ae];else if(null==Xe)Xe=C[--Fe];else if(null==on)on=$[++_e];else if(null==Nn)Nn=$[--Mt];else if(fi(Pe,on,K))Gr(Pe,on,K),Pe=C[++ae],on=$[++_e];else if(fi(Xe,Nn,K))Gr(Xe,Nn,K),Xe=C[--Fe],Nn=$[--Mt];else if(fi(Pe,Nn,K))("slot"===Pe.$tag$||"slot"===Nn.$tag$)&&zr(Pe.$elm$.parentNode,!1),Gr(Pe,Nn,K),I.insertBefore(Pe.$elm$,Xe.$elm$.nextSibling),Pe=C[++ae],Nn=$[--Mt];else if(fi(Xe,on,K))("slot"===Pe.$tag$||"slot"===Nn.$tag$)&&zr(Xe.$elm$.parentNode,!1),Gr(Xe,on,K),I.insertBefore(Xe.$elm$,Pe.$elm$),Xe=C[--Fe],on=$[++_e];else{for(Ge=-1,$e=ae;$e<=Fe;++$e)if(C[$e]&&null!==C[$e].$key$&&C[$e].$key$===on.$key$){Ge=$e;break}Ge>=0?(Zn=C[Ge],Zn.$tag$!==on.$tag$?wr=Xn(C&&C[_e],F,Ge,I):(Gr(Zn,on,K),C[Ge]=void 0,wr=Zn.$elm$),on=$[++_e]):(wr=Xn(C&&C[_e],F,_e,I),on=$[++_e]),wr&&pi(Pe.$elm$).insertBefore(wr,Vi(Pe.$elm$))}ae>Fe?ri(I,null==$[Mt+1]?null:$[Mt+1].$elm$,F,$,_e,Mt):_e>Mt&&Vr(C,ae,Fe)})($,K,C,ae,F):null!==ae?(null!==I.$text$&&($.textContent=""),ri($,null,C,ae,0,ae.length-1)):null!==K&&Vr(K,0,K.length-1),ee&&"svg"===_e&&(ee=!1)):($e=$["s-cr"])?$e.parentNode.textContent=Ge:I.$text$!==Ge&&($.data=Ge)},qr=I=>{const C=I.childNodes;for(const F of C)if(1===F.nodeType){if(F["s-sr"]){const $=F["s-sn"];F.hidden=!1;for(const K of C)if(K!==F)if(K["s-hn"]!==F["s-hn"]||""!==$){if(1===K.nodeType&&($===K.getAttribute("slot")||$===K["s-sn"])){F.hidden=!0;break}}else if(1===K.nodeType||3===K.nodeType&&""!==K.textContent.trim()){F.hidden=!0;break}}qr(F)}},xn=[],$i=I=>{let C,F,$;for(const K of I.childNodes){if(K["s-sr"]&&(C=K["s-cr"])&&C.parentNode){F=C.parentNode.childNodes;const ae=K["s-sn"];for($=F.length-1;$>=0;$--)if(C=F[$],!C["s-cn"]&&!C["s-nr"]&&C["s-hn"]!==K["s-hn"])if(Go(C,ae)){let _e=xn.find(Ge=>Ge.$nodeToRelocate$===C);Je=!0,C["s-sn"]=C["s-sn"]||ae,_e?(_e.$nodeToRelocate$["s-sh"]=K["s-hn"],_e.$slotRefNode$=K):(C["s-sh"]=K["s-hn"],xn.push({$slotRefNode$:K,$nodeToRelocate$:C})),C["s-sr"]&&xn.map(Ge=>{Go(Ge.$nodeToRelocate$,C["s-sn"])&&(_e=xn.find($e=>$e.$nodeToRelocate$===C),_e&&!Ge.$slotRefNode$&&(Ge.$slotRefNode$=_e.$slotRefNode$))})}else xn.some(_e=>_e.$nodeToRelocate$===C)||xn.push({$nodeToRelocate$:C})}1===K.nodeType&&$i(K)}},Go=(I,C)=>1===I.nodeType?null===I.getAttribute("slot")&&""===C||I.getAttribute("slot")===C:I["s-sn"]===C||""===C,Mo=I=>{I.$attrs$&&I.$attrs$.ref&&I.$attrs$.ref(null),I.$children$&&I.$children$.map(Mo)},gi=(I,C)=>{C&&!I.$onRenderResolve$&&C["s-p"]&&C["s-p"].push(new Promise(F=>I.$onRenderResolve$=F))},ur=(I,C)=>{if(I.$flags$|=16,!(4&I.$flags$))return gi(I,I.$ancestorComponent$),ce(()=>vo(I,C));I.$flags$|=512},vo=(I,C)=>{const $=I.$lazyInstance$;let K;return C&&(I.$flags$|=256,I.$queuedListeners$&&(I.$queuedListeners$.map(([ae,_e])=>Ee($,ae,_e)),I.$queuedListeners$=void 0),K=Ee($,"componentWillLoad")),K=yo(K,()=>Ee($,"componentWillRender")),yo(K,()=>Wo(I,$,C))},yo=(I,C)=>Rn(I)?I.then(C):C(),Rn=I=>I instanceof Promise||I&&I.then&&"function"==typeof I.then,Wo=function(){var I=(0,y.c)(function*(C,F,$){var K;const ae=C.$hostElement$,Ge=ae["s-rc"];$&&(I=>{const C=I.$cmpMeta$,F=I.$hostElement$,$=C.$flags$,ae=me(F.shadowRoot?F.shadowRoot:F.getRootNode(),C,I.$modeName$);10&$&&(F["s-sc"]=ae,F.classList.add(ae+"-h"),2&$&&F.classList.add(ae+"-s"))})(C);fs(C,F,ae,$),Ge&&(Ge.map(Fe=>Fe()),ae["s-rc"]=void 0);{const Fe=null!==(K=ae["s-p"])&&void 0!==K?K:[],Pe=()=>O(C);0===Fe.length?Pe():(Promise.all(Fe).then(Pe),C.$flags$|=4,Fe.length=0)}});return function(F,$,K){return I.apply(this,arguments)}}(),fs=(I,C,F,$)=>{try{C=C.render&&C.render(),I.$flags$&=-17,I.$flags$|=2,((I,C,F=!1)=>{var $,K,ae,_e;const Ge=I.$hostElement$,$e=I.$cmpMeta$,Fe=I.$vnode$||Tt(null,null),Pe=(I=>I&&I.$tag$===Jt)(C)?C:Qe(null,null,C);if(Ze=Ge.tagName,$e.$attrsToReflect$&&(Pe.$attrs$=Pe.$attrs$||{},$e.$attrsToReflect$.map(([Xe,Mt])=>Pe.$attrs$[Mt]=Ge[Xe])),F&&Pe.$attrs$)for(const Xe of Object.keys(Pe.$attrs$))Ge.hasAttribute(Xe)&&!["key","ref","style","class"].includes(Xe)&&(Pe.$attrs$[Xe]=Ge[Xe]);if(Pe.$tag$=null,Pe.$flags$|=4,I.$vnode$=Pe,Pe.$elm$=Fe.$elm$=Ge.shadowRoot||Ge,je=Ge["s-sc"],Z=0!=(1&$e.$flags$),Pt=Ge["s-cr"],Je=!1,Gr(Fe,Pe,F),_n.$flags$|=1,rt){$i(Pe.$elm$);for(const Xe of xn){const Mt=Xe.$nodeToRelocate$;if(!Mt["s-ol"]){const on=Er.createTextNode("");on["s-nr"]=Mt,Mt.parentNode.insertBefore(Mt["s-ol"]=on,Mt)}}for(const Xe of xn){const Mt=Xe.$nodeToRelocate$,on=Xe.$slotRefNode$;if(on){const Nn=on.parentNode;let wr=on.nextSibling;{let Zn=null===($=Mt["s-ol"])||void 0===$?void 0:$.previousSibling;for(;Zn;){let qn=null!==(K=Zn["s-nr"])&&void 0!==K?K:null;if(qn&&qn["s-sn"]===Mt["s-sn"]&&Nn===qn.parentNode&&(qn=qn.nextSibling,!qn||!qn["s-nr"])){wr=qn;break}Zn=Zn.previousSibling}}(!wr&&Nn!==Mt.parentNode||Mt.nextSibling!==wr)&&Mt!==wr&&(!Mt["s-hn"]&&Mt["s-ol"]&&(Mt["s-hn"]=Mt["s-ol"].parentNode.nodeName),Nn.insertBefore(Mt,wr),1===Mt.nodeType&&(Mt.hidden=null!==(ae=Mt["s-ih"])&&void 0!==ae&&ae))}else 1===Mt.nodeType&&(F&&(Mt["s-ih"]=null!==(_e=Mt.hidden)&&void 0!==_e&&_e),Mt.hidden=!0)}}Je&&qr(Pe.$elm$),_n.$flags$&=-2,xn.length=0,Pt=void 0})(I,C,$)}catch(K){yr(K,I.$hostElement$)}return null},O=I=>{const F=I.$hostElement$,K=I.$lazyInstance$,ae=I.$ancestorComponent$;Ee(K,"componentDidRender"),64&I.$flags$?Ee(K,"componentDidUpdate"):(I.$flags$|=64,q(F),Ee(K,"componentDidLoad"),I.$onReadyResolve$(F),ae||L()),I.$onInstanceResolve$(F),I.$onRenderResolve$&&(I.$onRenderResolve$(),I.$onRenderResolve$=void 0),512&I.$flags$&&Yr(()=>ur(I,!1)),I.$flags$&=-517},P=I=>{{const C=ct(I),F=C.$hostElement$.isConnected;return F&&2==(18&C.$flags$)&&ur(C,!1),F}},L=I=>{q(Er.documentElement),Yr(()=>yt(Ir,"appload",{detail:{namespace:"ionic"}}))},Ee=(I,C,F)=>{if(I&&I[C])try{return I[C](F)}catch($){yr($)}},q=I=>I.classList.add("hydrated"),Ot=(I,C,F)=>{var $;const K=I.prototype;if(C.$members$){I.watchers&&(C.$watchers$=I.watchers);const ae=Object.entries(C.$members$);if(ae.map(([_e,[Ge]])=>{31&Ge||2&F&&32&Ge?Object.defineProperty(K,_e,{get(){return((I,C)=>ct(this).$instanceValues$.get(C))(0,_e)},set($e){((I,C,F,$)=>{const K=ct(I),ae=K.$hostElement$,_e=K.$instanceValues$.get(C),Ge=K.$flags$,$e=K.$lazyInstance$;F=((I,C)=>null==I||te(I)?I:4&C?"false"!==I&&(""===I||!!I):2&C?parseFloat(I):1&C?String(I):I)(F,$.$members$[C][0]);const Fe=Number.isNaN(_e)&&Number.isNaN(F);if((!(8&Ge)||void 0===_e)&&F!==_e&&!Fe&&(K.$instanceValues$.set(C,F),$e)){if($.$watchers$&&128&Ge){const Xe=$.$watchers$[C];Xe&&Xe.map(Mt=>{try{$e[Mt](F,_e,C)}catch(on){yr(on,ae)}})}2==(18&Ge)&&ur(K,!1)}})(this,_e,$e,C)},configurable:!0,enumerable:!0}):1&F&&64&Ge&&Object.defineProperty(K,_e,{value(...$e){var Fe;const Pe=ct(this);return null===(Fe=null==Pe?void 0:Pe.$onInstancePromise$)||void 0===Fe?void 0:Fe.then(()=>{var Xe;return null===(Xe=Pe.$lazyInstance$)||void 0===Xe?void 0:Xe[_e](...$e)})}})}),1&F){const _e=new Map;K.attributeChangedCallback=function(Ge,$e,Fe){_n.jmp(()=>{var Pe;const Xe=_e.get(Ge);if(this.hasOwnProperty(Xe))Fe=this[Xe],delete this[Xe];else{if(K.hasOwnProperty(Xe)&&"number"==typeof this[Xe]&&this[Xe]==Fe)return;if(null==Xe){const Mt=ct(this),on=null==Mt?void 0:Mt.$flags$;if(on&&!(8&on)&&128&on&&Fe!==$e){const Nn=Mt.$lazyInstance$,wr=null===(Pe=C.$watchers$)||void 0===Pe?void 0:Pe[Ge];null==wr||wr.forEach(Zn=>{null!=Nn[Zn]&&Nn[Zn].call(Nn,Fe,$e,Ge)})}return}}this[Xe]=(null!==Fe||"boolean"!=typeof this[Xe])&&Fe})},I.observedAttributes=Array.from(new Set([...Object.keys(null!==($=C.$watchers$)&&void 0!==$?$:{}),...ae.filter(([Ge,$e])=>15&$e[0]).map(([Ge,$e])=>{var Fe;const Pe=$e[1]||Ge;return _e.set(Pe,Ge),512&$e[0]&&(null===(Fe=C.$attrsToReflect$)||void 0===Fe||Fe.push([Ge,Pe])),Pe})]))}}return I},Wr=function(){var I=(0,y.c)(function*(C,F,$,K){let ae;if(!(32&F.$flags$)){F.$flags$|=32;{if(ae=rr($),ae.then){const Fe=()=>{};ae=yield ae,Fe()}ae.isProxied||($.$watchers$=ae.watchers,Ot(ae,$,2),ae.isProxied=!0);const $e=()=>{};F.$flags$|=8;try{new ae(F)}catch(Fe){yr(Fe)}F.$flags$&=-9,F.$flags$|=128,$e(),mt(F.$lazyInstance$)}if(ae.style){let $e=ae.style;"string"!=typeof $e&&($e=$e[F.$modeName$=(I=>fa.map(C=>C(I)).find(C=>!!C))(C)]);const Fe=Nt($,F.$modeName$);if(!Sr.has(Fe)){const Pe=()=>{};se(Fe,$e,!!(1&$.$flags$)),Pe()}}}const _e=F.$ancestorComponent$,Ge=()=>ur(F,!0);_e&&_e["s-rc"]?_e["s-rc"].push(Ge):Ge()});return function(F,$,K,ae){return I.apply(this,arguments)}}(),mt=I=>{Ee(I,"connectedCallback")},en=I=>{const C=I["s-cr"]=Er.createComment("");C["s-cn"]=!0,I.insertBefore(C,I.firstChild)},Te=I=>{Ee(I,"disconnectedCallback")},Kr=function(){var I=(0,y.c)(function*(C){if(!(1&_n.$flags$)){const F=ct(C);F.$rmListeners$&&(F.$rmListeners$.map($=>$()),F.$rmListeners$=void 0),null!=F&&F.$lazyInstance$?Te(F.$lazyInstance$):null!=F&&F.$onReadyPromise$&&F.$onReadyPromise$.then(()=>Te(F.$lazyInstance$))}});return function(F){return I.apply(this,arguments)}}(),Di=(I,C={})=>{var F;const K=[],ae=C.exclude||[],_e=Ir.customElements,Ge=Er.head,$e=Ge.querySelector("meta[charset]"),Fe=Er.createElement("style"),Pe=[],Xe=Er.querySelectorAll(`[${Me}]`);let Mt,on=!0,Nn=0;for(Object.assign(_n,C),_n.$resourcesUrl$=new URL(C.resourcesUrl||"./",Er.baseURI).href,_n.$flags$|=2;Nn<Xe.length;Nn++)se(Xe[Nn].getAttribute(Me),wn(Xe[Nn].innerHTML),!0);let wr=!1;if(I.map(Zn=>{Zn[1].map(qn=>{var xo;const Bi={$flags$:qn[0],$tagName$:qn[1],$members$:qn[2],$listeners$:qn[3]};4&Bi.$flags$&&(wr=!0),Bi.$members$=qn[2],Bi.$listeners$=qn[3],Bi.$attrsToReflect$=[],Bi.$watchers$=null!==(xo=qn[4])&&void 0!==xo?xo:{};const Tn=Bi.$tagName$,nd=class extends HTMLElement{constructor(Qo){super(Qo),vr(Qo=this,Bi),1&Bi.$flags$&&Qo.attachShadow({mode:"open",delegatesFocus:!!(16&Bi.$flags$)})}connectedCallback(){Mt&&(clearTimeout(Mt),Mt=null),on?Pe.push(this):_n.jmp(()=>(I=>{if(!(1&_n.$flags$)){const C=ct(I),F=C.$cmpMeta$,$=()=>{};if(1&C.$flags$)Ko(I,C,F.$listeners$),null!=C&&C.$lazyInstance$?mt(C.$lazyInstance$):null!=C&&C.$onReadyPromise$&&C.$onReadyPromise$.then(()=>mt(C.$lazyInstance$));else{let K;if(C.$flags$|=1,K=I.getAttribute(Ne),K){if(1&F.$flags$){const ae=me(I.shadowRoot,F,I.getAttribute("s-mode"));I.classList.remove(ae+"-h",ae+"-s")}((I,C,F,$)=>{const ae=I.shadowRoot,_e=[],$e=ae?[]:null,Fe=$.$vnode$=Tt(C,null);_n.$orgLocNodes$||G(Er.body,_n.$orgLocNodes$=new Map),I[Ne]=F,I.removeAttribute(Ne),ie(Fe,_e,[],$e,I,I,F),_e.map(Pe=>{const Xe=Pe.$hostId$+"."+Pe.$nodeId$,Mt=_n.$orgLocNodes$.get(Xe),on=Pe.$elm$;Mt&&eo&&""===Mt["s-en"]&&Mt.parentNode.insertBefore(on,Mt.nextSibling),ae||(on["s-hn"]=C,Mt&&(on["s-ol"]=Mt,on["s-ol"]["s-nr"]=on)),_n.$orgLocNodes$.delete(Xe)}),ae&&$e.map(Pe=>{Pe&&ae.appendChild(Pe)})})(I,F.$tagName$,K,C)}K||12&F.$flags$&&en(I);{let ae=I;for(;ae=ae.parentNode||ae.host;)if(1===ae.nodeType&&ae.hasAttribute("s-id")&&ae["s-p"]||ae["s-p"]){gi(C,C.$ancestorComponent$=ae);break}}F.$members$&&Object.entries(F.$members$).map(([ae,[_e]])=>{if(31&_e&&I.hasOwnProperty(ae)){const Ge=I[ae];delete I[ae],I[ae]=Ge}}),Wr(I,C,F)}$()}})(this))}disconnectedCallback(){_n.jmp(()=>Kr(this))}componentOnReady(){return ct(this).$onReadyPromise$}};Bi.$lazyBundleId$=Zn[0],!ae.includes(Tn)&&!_e.get(Tn)&&(K.push(Tn),_e.define(Tn,Ot(nd,Bi,1)))})}),K.length>0&&(wr&&(Fe.innerHTML+=et),Fe.innerHTML+=K+"{visibility:hidden}.hydrated{visibility:inherit}",Fe.innerHTML.length)){Fe.setAttribute("data-styles","");const Zn=null!==(F=_n.$nonce$)&&void 0!==F?F:de(Er);null!=Zn&&Fe.setAttribute("nonce",Zn),Ge.insertBefore(Fe,$e?$e.nextSibling:Ge.firstChild)}on=!1,Pe.length?Pe.map(Zn=>Zn.connectedCallback()):_n.jmp(()=>Mt=setTimeout(L,30))},Ko=(I,C,F,$)=>{F&&F.map(([K,ae,_e])=>{const Ge=re(I,K),$e=ye(C,_e),Fe=Oe(K);_n.ael(Ge,ae,$e,Fe),(C.$rmListeners$=C.$rmListeners$||[]).push(()=>_n.rel(Ge,ae,$e,Fe))})},ye=(I,C)=>F=>{try{256&I.$flags$?I.$lazyInstance$[C](F):(I.$queuedListeners$=I.$queuedListeners$||[]).push([C,F])}catch($){yr($)}},re=(I,C)=>4&C?Er:8&C?Ir:16&C?Er.body:I,Oe=I=>Yo?{passive:0!=(1&I),capture:0!=(2&I)}:0!=(2&I),jt=new WeakMap,ct=I=>jt.get(I),gn=(I,C)=>jt.set(C.$lazyInstance$=I,C),vr=(I,C)=>{const F={$flags$:0,$hostElement$:I,$cmpMeta$:C,$instanceValues$:new Map};return F.$onInstancePromise$=new Promise($=>F.$onInstanceResolve$=$),F.$onReadyPromise$=new Promise($=>F.$onReadyResolve$=$),I["s-p"]=[],I["s-rc"]=[],Ko(I,F,C.$listeners$),jt.set(I,F)},Bn=(I,C)=>C in I,yr=(I,C)=>(0,console.error)(I,C),Gt=new Map,rr=(I,C,F)=>{const $=I.$tagName$.replace(/-/g,"_"),K=I.$lazyBundleId$,ae=Gt.get(K);return ae?ae[$]:oe(1480)(`./${K}.entry.js`).then(_e=>(Gt.set(K,_e),_e[$]),yr)},Sr=new Map,fa=[],Ir=typeof window<"u"?window:{},Er=Ir.document||{head:{}},_n={$flags$:0,$resourcesUrl$:"",jmp:I=>I(),raf:I=>requestAnimationFrame(I),ael:(I,C,F,$)=>I.addEventListener(C,F,$),rel:(I,C,F,$)=>I.removeEventListener(C,F,$),ce:(I,C)=>new CustomEvent(I,C)},$n=I=>{Object.assign(_n,I)},eo=!0,Yo=(()=>{let I=!1;try{Er.addEventListener("e",null,Object.defineProperty({},"passive",{get(){I=!0}}))}catch{}return I})(),al=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ll=[],cl=[],ul=(I,C)=>F=>{I.push(F),W||(W=!0,C&&4&_n.$flags$?Yr(ga):_n.raf(ga))},pa=I=>{for(let C=0;C<I.length;C++)try{I[C](performance.now())}catch(F){yr(F)}I.length=0},ga=()=>{pa(ll),pa(cl),(W=ll.length>0)&&_n.raf(ga)},Yr=I=>Promise.resolve(void 0).then(I),Ht=ul(ll,!1),ce=ul(cl,!0)},2032:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{a:()=>ke,b:()=>U,p:()=>y});const y=(je,...Pt)=>console.warn(`[Ionic Warning]: ${je}`,...Pt),ke=(je,...Pt)=>console.error(`[Ionic Error]: ${je}`,...Pt),U=(je,...Pt)=>console.error(`<${je.tagName.toLowerCase()}> must be used inside ${Pt.join(" or ")}.`)},4829:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{d:()=>ke,w:()=>y});const y=typeof window<"u"?window:void 0,ke=typeof document<"u"?document:void 0},3452:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{m:()=>le});var y=oe(1528),ke=oe(4829),U=oe(2784),je=oe(2032),Pt=oe(6384),Ze=oe(8523),Z=oe(388);const Je=ve=>(0,Z.c)().duration(ve?400:300),rt=ve=>{let we,De;const Q=ve.width+8,z=(0,Z.c)(),Y=(0,Z.c)();ve.isEndSide?(we=Q+"px",De="0px"):(we=-Q+"px",De="0px"),z.addElement(ve.menuInnerEl).fromTo("transform",`translateX(${we})`,`translateX(${De})`);const Me="ios"===(0,Ze.b)(ve),Be=Me?.2:.25;return Y.addElement(ve.backdropEl).fromTo("opacity",.01,Be),Je(Me).addAnimation([z,Y])},ee=ve=>{let we,De;const Q=(0,Ze.b)(ve),z=ve.width;ve.isEndSide?(we=-z+"px",De=z+"px"):(we=z+"px",De=-z+"px");const Y=(0,Z.c)().addElement(ve.menuInnerEl).fromTo("transform",`translateX(${De})`,"translateX(0px)"),Ne=(0,Z.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${we})`),Me=(0,Z.c)().addElement(ve.backdropEl).fromTo("opacity",.01,.32);return Je("ios"===Q).addAnimation([Y,Ne,Me])},W=ve=>{const we=(0,Ze.b)(ve),De=ve.width*(ve.isEndSide?-1:1)+"px",Q=(0,Z.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${De})`);return Je("ios"===we).addAnimation(Q)},le=(()=>{const ve=new Map,we=[],De=function(){var D=(0,y.c)(function*(M){const j=yield xe(M,!0);return!!j&&j.open()});return function(j){return D.apply(this,arguments)}}(),Q=function(){var D=(0,y.c)(function*(M){const j=yield void 0!==M?xe(M,!0):et();return void 0!==j&&j.close()});return function(j){return D.apply(this,arguments)}}(),z=function(){var D=(0,y.c)(function*(M){const j=yield xe(M,!0);return!!j&&j.toggle()});return function(j){return D.apply(this,arguments)}}(),Y=function(){var D=(0,y.c)(function*(M,j){const ie=yield xe(j);return ie&&(ie.disabled=!M),ie});return function(j,ie){return D.apply(this,arguments)}}(),Ne=function(){var D=(0,y.c)(function*(M,j){const ie=yield xe(j);return ie&&(ie.swipeGesture=M),ie});return function(j,ie){return D.apply(this,arguments)}}(),Me=function(){var D=(0,y.c)(function*(M){if(null!=M){const j=yield xe(M);return void 0!==j&&j.isOpen()}return void 0!==(yield et())});return function(j){return D.apply(this,arguments)}}(),Be=function(){var D=(0,y.c)(function*(M){const j=yield xe(M);return!!j&&!j.disabled});return function(j){return D.apply(this,arguments)}}(),xe=function(){var D=(0,y.c)(function*(M,j=!1){if(yield k(),"start"===M||"end"===M){const G=we.filter(dt=>dt.side===M&&!dt.disabled);if(G.length>=1)return G.length>1&&j&&(0,je.p)(`menuController queried for a menu on the "${M}" side, but ${G.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,G.map(dt=>dt.el)),G[0].el;const We=we.filter(dt=>dt.side===M);if(We.length>=1)return We.length>1&&j&&(0,je.p)(`menuController queried for a menu on the "${M}" side, but ${We.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,We.map(dt=>dt.el)),We[0].el}else if(null!=M)return Ce(G=>G.menuId===M);return Ce(G=>!G.disabled)||(we.length>0?we[0].el:void 0)});return function(j){return D.apply(this,arguments)}}(),et=function(){var D=(0,y.c)(function*(){return yield k(),Qe()});return function(){return D.apply(this,arguments)}}(),S=function(){var D=(0,y.c)(function*(){return yield k(),Tt()});return function(){return D.apply(this,arguments)}}(),x=function(){var D=(0,y.c)(function*(){return yield k(),Jt()});return function(){return D.apply(this,arguments)}}(),T=(D,M)=>{ve.set(D,M)},te=function(){var D=(0,y.c)(function*(M,j,ie){if(Jt())return!1;if(j){const G=yield et();G&&M.el!==G&&(yield G.setOpen(!1,!1))}return M._setOpen(j,ie)});return function(j,ie,G){return D.apply(this,arguments)}}(),Qe=()=>Ce(D=>D._isOpen),Tt=()=>we.map(D=>D.el),Jt=()=>we.some(D=>D.isAnimating),Ce=D=>{const M=we.find(D);if(void 0!==M)return M.el},k=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(D=>new Promise(M=>(0,Pt.c)(D,M))));return T("reveal",W),T("push",ee),T("overlay",rt),null==ke.d||ke.d.addEventListener("ionBackButton",D=>{const M=Qe();M&&D.detail.register(U.MENU_BACK_BUTTON_PRIORITY,()=>M.close())}),{registerAnimation:T,get:xe,getMenus:S,getOpen:et,isEnabled:Be,swipeGesture:Ne,isAnimating:x,isOpen:Me,enable:Y,toggle:z,close:Q,open:De,_getOpenSync:Qe,_createAnimation:(D,M)=>{const j=ve.get(D);if(!j)throw new Error("animation not registered");return j(M)},_register:D=>{we.indexOf(D)<0&&we.push(D)},_unregister:D=>{const M=we.indexOf(D);M>-1&&we.splice(M,1)},_setOpen:te}})()},8523:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{a:()=>W,b:()=>Tt,c:()=>U,i:()=>Jt});var y=oe(2992);class ke{constructor(){this.m=new Map}reset(k){this.m=new Map(Object.entries(k))}get(k,D){const M=this.m.get(k);return void 0!==M?M:D}getBoolean(k,D=!1){const M=this.m.get(k);return void 0===M?D:"string"==typeof M?"true"===M:!!M}getNumber(k,D){const M=parseFloat(this.m.get(k));return isNaN(M)?void 0!==D?D:NaN:M}set(k,D){this.m.set(k,D)}}const U=new ke,rt="ionic-persist-config",W=(Ce,k)=>("string"==typeof Ce&&(k=Ce,Ce=void 0),(Ce=>Ie(Ce))(Ce).includes(k)),Ie=(Ce=window)=>{if(typeof Ce>"u")return[];Ce.Ionic=Ce.Ionic||{};let k=Ce.Ionic.platforms;return null==k&&(k=Ce.Ionic.platforms=le(Ce),k.forEach(D=>Ce.document.documentElement.classList.add(`plt-${D}`))),k},le=Ce=>{const k=U.get("platform");return Object.keys(de).filter(D=>{const M=null==k?void 0:k[D];return"function"==typeof M?M(Ce):de[D](Ce)})},we=Ce=>!!(X(Ce,/iPad/i)||X(Ce,/Macintosh/i)&&Be(Ce)),z=Ce=>X(Ce,/android|sink/i),Be=Ce=>te(Ce,"(any-pointer:coarse)"),et=Ce=>S(Ce)||x(Ce),S=Ce=>!!(Ce.cordova||Ce.phonegap||Ce.PhoneGap),x=Ce=>{const k=Ce.Capacitor;return!(null==k||!k.isNative)},X=(Ce,k)=>k.test(Ce.navigator.userAgent),te=(Ce,k)=>{var D;return null===(D=Ce.matchMedia)||void 0===D?void 0:D.call(Ce,k).matches},de={ipad:we,iphone:Ce=>X(Ce,/iPhone/i),ios:Ce=>X(Ce,/iPhone|iPod/i)||we(Ce),android:z,phablet:Ce=>{const k=Ce.innerWidth,D=Ce.innerHeight,M=Math.min(k,D),j=Math.max(k,D);return M>390&&M<520&&j>620&&j<800},tablet:Ce=>{const k=Ce.innerWidth,D=Ce.innerHeight,M=Math.min(k,D),j=Math.max(k,D);return we(Ce)||(Ce=>z(Ce)&&!X(Ce,/mobile/i))(Ce)||M>460&&M<820&&j>780&&j<1400},cordova:S,capacitor:x,electron:Ce=>X(Ce,/electron/i),pwa:Ce=>{var k;return!!(null!==(k=Ce.matchMedia)&&void 0!==k&&k.call(Ce,"(display-mode: standalone)").matches||Ce.navigator.standalone)},mobile:Be,mobileweb:Ce=>Be(Ce)&&!et(Ce),desktop:Ce=>!Be(Ce),hybrid:et};let Qe;const Tt=Ce=>Ce&&(0,y.g)(Ce)||Qe,Jt=(Ce={})=>{if(typeof window>"u")return;const k=window.document,D=window,M=D.Ionic=D.Ionic||{},j={};Ce._ael&&(j.ael=Ce._ael),Ce._rel&&(j.rel=Ce._rel),Ce._ce&&(j.ce=Ce._ce),(0,y.a)(j);const ie=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ce=>{try{const k=Ce.sessionStorage.getItem(rt);return null!==k?JSON.parse(k):{}}catch{return{}}})(D)),{persistConfig:!1}),M.config),(Ce=>{const k={};return Ce.location.search.slice(1).split("&").map(D=>D.split("=")).map(([D,M])=>[decodeURIComponent(D),decodeURIComponent(M)]).filter(([D])=>((Ce,k)=>Ce.substr(0,k.length)===k)(D,"ionic:")).map(([D,M])=>[D.slice(6),M]).forEach(([D,M])=>{k[D]=M}),k})(D)),Ce);U.reset(ie),U.getBoolean("persistConfig")&&((Ce,k)=>{try{Ce.sessionStorage.setItem(rt,JSON.stringify(k))}catch{return}})(D,ie),Ie(D),M.config=U,M.mode=Qe=U.get("mode",k.documentElement.getAttribute("mode")||(W(D,"ios")?"ios":"md")),U.set("mode",Qe),k.documentElement.setAttribute("mode",Qe),k.documentElement.classList.add(Qe),U.getBoolean("_testing")&&U.set("animated",!1);const G=dt=>{var tt;return null===(tt=dt.tagName)||void 0===tt?void 0:tt.startsWith("ION-")},We=dt=>["ios","md"].includes(dt);(0,y.c)(dt=>{for(;dt;){const tt=dt.mode||dt.getAttribute("mode");if(tt){if(We(tt))return tt;G(dt)&&console.warn('Invalid ionic mode: "'+tt+'", expected: "ios" or "md"')}dt=dt.parentElement}return Qe})}},8512:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{iosTransitionAnimation:()=>le,shadow:()=>Z});var y=oe(388),ke=oe(6256);oe(4829),oe(2992);const Ze=we=>document.querySelector(`${we}.ion-cloned-element`),Z=we=>we.shadowRoot||we,Je=we=>{const De="ION-TABS"===we.tagName?we:we.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const z=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=z?z.querySelector(Q):null}return we.querySelector(Q)},rt=(we,De)=>{const Q="ION-TABS"===we.tagName?we:we.querySelector("ion-tabs");let z=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(z=Y.querySelectorAll("ion-buttons"))}else z=we.querySelectorAll("ion-buttons");for(const Y of z){const Ne=Y.closest("ion-header"),Me=Ne&&!Ne.classList.contains("header-collapse-condense-inactive"),Be=Y.querySelector("ion-back-button"),xe=Y.classList.contains("buttons-collapse");if(null!==Be&&("start"===Y.slot||""===Y.slot)&&(xe&&Me&&De||!xe))return Be}return null},W=(we,De,Q,z,Y,Ne,Me,Be,xe)=>{var et,S;const x=De?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",T=De?"right":"left",V=De?"left":"right",X=De?"right":"left",te=(null===(et=Ne.textContent)||void 0===et?void 0:et.trim())===(null===(S=Be.textContent)||void 0===S?void 0:S.trim()),Qe=(xe.height-ve)/Me.height,Tt=te?`scale(${xe.width/Me.width}, ${Qe})`:`scale(${Qe})`,Jt="scale(1)",k=Z(z).querySelector("ion-icon").getBoundingClientRect(),D=De?k.width/2-(k.right-Y.right)+"px":Y.left-k.width/2+"px",M=De?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,j=`${xe.top}px`,ie=`${Y.top}px`,dt=Q?[{offset:0,transform:`translate3d(${M}, ${ie}, 0)`},{offset:1,transform:`translate3d(${D}, ${j}, 0)`}]:[{offset:0,transform:`translate3d(${D}, ${j}, 0)`},{offset:1,transform:`translate3d(${M}, ${ie}, 0)`}],Vt=Q?[{offset:0,opacity:1,transform:Jt},{offset:1,opacity:0,transform:Tt}]:[{offset:0,opacity:0,transform:Tt},{offset:1,opacity:1,transform:Jt}],Re=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],se=(0,y.c)(),me=(0,y.c)(),Ke=(0,y.c)(),Nt=Ze("ion-back-button"),wn=Z(Nt).querySelector(".button-text"),Xt=Z(Nt).querySelector("ion-icon");Nt.text=z.text,Nt.mode=z.mode,Nt.icon=z.icon,Nt.color=z.color,Nt.disabled=z.disabled,Nt.style.setProperty("display","block"),Nt.style.setProperty("position","fixed"),me.addElement(Xt),se.addElement(wn),Ke.addElement(Nt),Ke.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(dt),se.beforeStyles({"transform-origin":`${T} top`}).beforeAddWrite(()=>{z.style.setProperty("display","none"),Nt.style.setProperty(T,x)}).afterAddWrite(()=>{z.style.setProperty("display",""),Nt.style.setProperty("display","none"),Nt.style.removeProperty(T)}).keyframes(Vt),me.beforeStyles({"transform-origin":`${V} center`}).keyframes(Re),we.addAnimation([se,me,Ke])},Ie=(we,De,Q,z,Y,Ne,Me,Be)=>{var xe,et;const S=De?"right":"left",x=De?`calc(100% - ${Y.right}px)`:`${Y.left}px`,V=`${Y.top}px`,te=De?`-${window.innerWidth-Be.right-8}px`:Be.x-8+"px",Qe=Be.y-2+"px",Tt=(null===(xe=Me.textContent)||void 0===xe?void 0:xe.trim())===(null===(et=z.textContent)||void 0===et?void 0:et.trim()),Ce=Be.height/(Ne.height-ve),k="scale(1)",D=Tt?`scale(${Be.width/Ne.width}, ${Ce})`:`scale(${Ce})`,ie=Q?[{offset:0,opacity:0,transform:`translate3d(${te}, ${Qe}, 0) ${D}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${V}, 0) ${k}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${V}, 0) ${k}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${Qe}, 0) ${D}`}],G=Ze("ion-title"),We=(0,y.c)();G.innerText=z.innerText,G.size=z.size,G.color=z.color,We.addElement(G),We.beforeStyles({"transform-origin":`${S} top`,height:`${Y.height}px`,display:"",position:"relative",[S]:x}).beforeAddWrite(()=>{z.style.setProperty("opacity","0")}).afterAddWrite(()=>{z.style.setProperty("opacity",""),G.style.setProperty("display","none")}).keyframes(ie),we.addAnimation(We)},le=(we,De)=>{var Q;try{const z="cubic-bezier(0.32,0.72,0,1)",Y="opacity",Ne="transform",Me="0%",xe="rtl"===we.ownerDocument.dir,et=xe?"-99.5%":"99.5%",S=xe?"33%":"-33%",x=De.enteringEl,T=De.leavingEl,V="back"===De.direction,X=x.querySelector(":scope > ion-content"),te=x.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),de=x.querySelectorAll(":scope > ion-header > ion-toolbar"),Qe=(0,y.c)(),Tt=(0,y.c)();if(Qe.addElement(x).duration((null!==(Q=De.duration)&&void 0!==Q?Q:0)||540).easing(De.easing||z).fill("both").beforeRemoveClass("ion-page-invisible"),T&&null!=we){const D=(0,y.c)();D.addElement(we),Qe.addAnimation(D)}if(X||0!==de.length||0!==te.length?(Tt.addElement(X),Tt.addElement(te)):Tt.addElement(x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qe.addAnimation(Tt),V?Tt.beforeClearStyles([Y]).fromTo("transform",`translateX(${S})`,`translateX(${Me})`).fromTo(Y,.8,1):Tt.beforeClearStyles([Y]).fromTo("transform",`translateX(${et})`,`translateX(${Me})`),X){const D=Z(X).querySelector(".transition-effect");if(D){const M=D.querySelector(".transition-cover"),j=D.querySelector(".transition-shadow"),ie=(0,y.c)(),G=(0,y.c)(),We=(0,y.c)();ie.addElement(D).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),G.addElement(M).beforeClearStyles([Y]).fromTo(Y,0,.1),We.addElement(j).beforeClearStyles([Y]).fromTo(Y,.03,.7),ie.addAnimation([G,We]),Tt.addAnimation([ie])}}const Jt=x.querySelector("ion-header.header-collapse-condense"),{forward:Ce,backward:k}=((we,De,Q,z,Y)=>{const Ne=rt(z,Q),Me=Je(Y),Be=Je(z),xe=rt(Y,Q),et=null!==Ne&&null!==Me&&!Q,S=null!==Be&&null!==xe&&Q;if(et){const x=Me.getBoundingClientRect(),T=Ne.getBoundingClientRect(),V=Z(Ne).querySelector(".button-text"),X=V.getBoundingClientRect(),de=Z(Me).querySelector(".toolbar-title").getBoundingClientRect();Ie(we,De,Q,Me,x,de,V,X),W(we,De,Q,Ne,T,V,X,Me,de)}else if(S){const x=Be.getBoundingClientRect(),T=xe.getBoundingClientRect(),V=Z(xe).querySelector(".button-text"),X=V.getBoundingClientRect(),de=Z(Be).querySelector(".toolbar-title").getBoundingClientRect();Ie(we,De,Q,Be,x,de,V,X),W(we,De,Q,xe,T,V,X,Be,de)}return{forward:et,backward:S}})(Qe,xe,V,x,T);if(de.forEach(D=>{const M=(0,y.c)();M.addElement(D),Qe.addAnimation(M);const j=(0,y.c)();j.addElement(D.querySelector("ion-title"));const ie=(0,y.c)(),G=Array.from(D.querySelectorAll("ion-buttons,[menuToggle]")),We=D.closest("ion-header"),dt=null==We?void 0:We.classList.contains("header-collapse-condense-inactive");let tt;tt=G.filter(V?Re=>{const se=Re.classList.contains("buttons-collapse");return se&&!dt||!se}:Re=>!Re.classList.contains("buttons-collapse")),ie.addElement(tt);const pt=(0,y.c)();pt.addElement(D.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Vt=(0,y.c)();Vt.addElement(Z(D).querySelector(".toolbar-background"));const dn=(0,y.c)(),yt=D.querySelector("ion-back-button");if(yt&&dn.addElement(yt),M.addAnimation([j,ie,pt,Vt,dn]),ie.fromTo(Y,.01,1),pt.fromTo(Y,.01,1),V)dt||j.fromTo("transform",`translateX(${S})`,`translateX(${Me})`).fromTo(Y,.01,1),pt.fromTo("transform",`translateX(${S})`,`translateX(${Me})`),dn.fromTo(Y,.01,1);else if(Jt||j.fromTo("transform",`translateX(${et})`,`translateX(${Me})`).fromTo(Y,.01,1),pt.fromTo("transform",`translateX(${et})`,`translateX(${Me})`),Vt.beforeClearStyles([Y,"transform"]),(null==We?void 0:We.translucent)?Vt.fromTo("transform",xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Vt.fromTo(Y,.01,"var(--opacity)"),Ce||dn.fromTo(Y,.01,1),yt&&!Ce){const se=(0,y.c)();se.addElement(Z(yt).querySelector(".button-text")).fromTo("transform",xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),M.addAnimation(se)}}),T){const D=(0,y.c)(),M=T.querySelector(":scope > ion-content"),j=T.querySelectorAll(":scope > ion-header > ion-toolbar"),ie=T.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(M||0!==j.length||0!==ie.length?(D.addElement(M),D.addElement(ie)):D.addElement(T.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qe.addAnimation(D),V){D.beforeClearStyles([Y]).fromTo("transform",`translateX(${Me})`,xe?"translateX(-100%)":"translateX(100%)");const G=(0,ke.g)(T);Qe.afterAddWrite(()=>{"normal"===Qe.getDirection()&&G.style.setProperty("display","none")})}else D.fromTo("transform",`translateX(${Me})`,`translateX(${S})`).fromTo(Y,1,.8);if(M){const G=Z(M).querySelector(".transition-effect");if(G){const We=G.querySelector(".transition-cover"),dt=G.querySelector(".transition-shadow"),tt=(0,y.c)(),pt=(0,y.c)(),Vt=(0,y.c)();tt.addElement(G).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(We).beforeClearStyles([Y]).fromTo(Y,.1,0),Vt.addElement(dt).beforeClearStyles([Y]).fromTo(Y,.7,.03),tt.addAnimation([pt,Vt]),D.addAnimation([tt])}}j.forEach(G=>{const We=(0,y.c)();We.addElement(G);const dt=(0,y.c)();dt.addElement(G.querySelector("ion-title"));const tt=(0,y.c)(),pt=G.querySelectorAll("ion-buttons,[menuToggle]"),Vt=G.closest("ion-header"),dn=null==Vt?void 0:Vt.classList.contains("header-collapse-condense-inactive"),yt=Array.from(pt).filter(wn=>{const Xt=wn.classList.contains("buttons-collapse");return Xt&&!dn||!Xt});tt.addElement(yt);const Re=(0,y.c)(),se=G.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");se.length>0&&Re.addElement(se);const me=(0,y.c)();me.addElement(Z(G).querySelector(".toolbar-background"));const Ke=(0,y.c)(),Nt=G.querySelector("ion-back-button");if(Nt&&Ke.addElement(Nt),We.addAnimation([dt,tt,Re,Ke,me]),Qe.addAnimation(We),Ke.fromTo(Y,.99,0),tt.fromTo(Y,.99,0),Re.fromTo(Y,.99,0),V){if(dn||dt.fromTo("transform",`translateX(${Me})`,xe?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),Re.fromTo("transform",`translateX(${Me})`,xe?"translateX(-100%)":"translateX(100%)"),me.beforeClearStyles([Y,"transform"]),(null==Vt?void 0:Vt.translucent)?me.fromTo("transform","translateX(0px)",xe?"translateX(-100%)":"translateX(100%)"):me.fromTo(Y,"var(--opacity)",0),Nt&&!k){const Xt=(0,y.c)();Xt.addElement(Z(Nt).querySelector(".button-text")).fromTo("transform",`translateX(${Me})`,`translateX(${(xe?-124:124)+"px"})`),We.addAnimation(Xt)}}else dn||dt.fromTo("transform",`translateX(${Me})`,`translateX(${S})`).fromTo(Y,.99,0).afterClearStyles([Ne,Y]),Re.fromTo("transform",`translateX(${Me})`,`translateX(${S})`).afterClearStyles([Ne,Y]),Ke.afterClearStyles([Y]),dt.afterClearStyles([Y]),tt.afterClearStyles([Y])})}return Qe}catch(z){throw z}},ve=10},6556:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{mdTransitionAnimation:()=>Pt});var y=oe(388),ke=oe(6256);oe(4829),oe(2992);const Pt=(Ze,Z)=>{var Je,rt,ee;const W="40px",le="back"===Z.direction,we=Z.leavingEl,De=(0,ke.g)(Z.enteringEl),Q=De.querySelector("ion-toolbar"),z=(0,y.c)();if(z.addElement(De).fill("both").beforeRemoveClass("ion-page-invisible"),le?z.duration((null!==(Je=Z.duration)&&void 0!==Je?Je:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(rt=Z.duration)&&void 0!==rt?rt:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${W})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,y.c)();Y.addElement(Q),z.addAnimation(Y)}if(we&&le){z.duration((null!==(ee=Z.duration)&&void 0!==ee?ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,y.c)();Y.addElement((0,ke.g)(we)).onFinish(Ne=>{1===Ne&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${W})`).fromTo("opacity",1,0),z.addAnimation(Y)}return z}},3816:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{B:()=>tt,G:()=>pt,O:()=>Vt,a:()=>Ie,b:()=>le,c:()=>Q,d:()=>dn,e:()=>yt,f:()=>Jt,g:()=>k,h:()=>j,i:()=>G,j:()=>Y,k:()=>Ne,m:()=>we,n:()=>et,o:()=>Qe,s:()=>dt});var y=oe(1528),ke=oe(4829),U=oe(2784),je=oe(8523),Pt=oe(495),Ze=oe(6384),Z=oe(2032);let Je=0,rt=0;const ee=new WeakMap,W=Re=>({create:se=>Me(Re,se),dismiss:(se,me,Ke)=>X(document,se,me,Re,Ke),getTop:()=>(0,y.c)(function*(){return Qe(document,Re)})()}),Ie=W("ion-alert"),le=W("ion-action-sheet"),we=W("ion-modal"),Q=W("ion-popover"),Y=Re=>{typeof document<"u"&&V(document);const se=Je++;Re.overlayIndex=se},Ne=Re=>(Re.hasAttribute("id")||(Re.id="ion-overlay-"+ ++rt),Re.id),Me=(Re,se)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Re).then(()=>{const me=document.createElement(Re);return me.classList.add("overlay-hidden"),Object.assign(me,Object.assign(Object.assign({},se),{hasController:!0})),D(document).appendChild(me),new Promise(Ke=>(0,Ze.c)(me,Ke))}):Promise.resolve(),Be='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',et=(Re,se)=>{const me=Re.querySelector(Be);x(me,se)},S=(Re,se)=>{const me=Array.from(Re.querySelectorAll(Be));x(me.length>0?me[me.length-1]:null,se)},x=(Re,se)=>{let me=Re;const Ke=null==Re?void 0:Re.shadowRoot;Ke&&(me=Ke.querySelector(Be)||Re),me?(0,Ze.f)(me):se.focus()},V=Re=>{0===Je&&(Je=1,Re.addEventListener("focus",se=>{((Re,se)=>{const me=Qe(se,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ke=Re.target;me&&Ke&&!me.classList.contains("ion-disable-focus-trap")&&(me.shadowRoot?(()=>{if(me.contains(Ke))me.lastFocus=Ke;else if("ION-TOAST"===Ke.tagName)x(me.lastFocus,me);else{const Xt=me.lastFocus;et(me,me),Xt===se.activeElement&&S(me,me),me.lastFocus=se.activeElement}})():(()=>{if(me===Ke)me.lastFocus=void 0;else if("ION-TOAST"===Ke.tagName)x(me.lastFocus,me);else{const Xt=(0,Ze.g)(me);if(!Xt.contains(Ke))return;const rn=Xt.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(Ke)||Ke===Xt.querySelector("ion-backdrop"))me.lastFocus=Ke;else{const Qt=me.lastFocus;et(rn,me),Qt===se.activeElement&&S(rn,me),me.lastFocus=se.activeElement}}})())})(se,Re)},!0),Re.addEventListener("ionBackButton",se=>{const me=Qe(Re);null!=me&&me.backdropDismiss&&se.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>{me.dismiss(void 0,tt)})}),(0,U.shoudUseCloseWatcher)()||Re.addEventListener("keydown",se=>{if("Escape"===se.key){const me=Qe(Re);null!=me&&me.backdropDismiss&&me.dismiss(void 0,tt)}}))},X=(Re,se,me,Ke,Nt)=>{const wn=Qe(Re,Ke,Nt);return wn?wn.dismiss(se,me):Promise.reject("overlay does not exist")},de=(Re,se)=>((Re,se)=>(void 0===se&&(se="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Re.querySelectorAll(se)).filter(me=>me.overlayIndex>0)))(Re,se).filter(me=>!(Re=>Re.classList.contains("overlay-hidden"))(me)),Qe=(Re,se,me)=>{const Ke=de(Re,se);return void 0===me?Ke[Ke.length-1]:Ke.find(Nt=>Nt.id===me)},Tt=(Re=!1)=>{const me=D(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");me&&(Re?me.setAttribute("aria-hidden","true"):me.removeAttribute("aria-hidden"))},Jt=function(){var Re=(0,y.c)(function*(se,me,Ke,Nt,wn){var Xt,rn;if(se.presented)return;Tt(!0),void 0!==ke.d&&de(ke.d).forEach(Xn=>Xn.setAttribute("aria-hidden","true")),se.presented=!0,se.willPresent.emit(),null===(Xt=se.willPresentShorthand)||void 0===Xt||Xt.emit();const Qt=(0,je.b)(se),Gn=se.enterAnimation?se.enterAnimation:je.c.get(me,"ios"===Qt?Ke:Nt);(yield M(se,Gn,se.el,wn))&&(se.didPresent.emit(),null===(rn=se.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==se.el.tagName&&Ce(se.el),se.keyboardClose&&(null===document.activeElement||!se.el.contains(document.activeElement))&&se.el.focus(),se.el.removeAttribute("aria-hidden")});return function(me,Ke,Nt,wn,Xt){return Re.apply(this,arguments)}}(),Ce=function(){var Re=(0,y.c)(function*(se){let me=document.activeElement;if(!me)return;const Ke=null==me?void 0:me.shadowRoot;Ke&&(me=Ke.querySelector(Be)||me),yield se.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&me.focus()});return function(me){return Re.apply(this,arguments)}}(),k=function(){var Re=(0,y.c)(function*(se,me,Ke,Nt,wn,Xt,rn){var Qt,Gn,pn;if(!se.presented)return!1;void 0!==ke.d&&1===de(ke.d).length&&Tt(!1),se.presented=!1;try{se.el.style.setProperty("pointer-events","none"),se.willDismiss.emit({data:me,role:Ke}),null===(Qt=se.willDismissShorthand)||void 0===Qt||Qt.emit({data:me,role:Ke});const hi=(0,je.b)(se),Xn=se.leaveAnimation?se.leaveAnimation:je.c.get(Nt,"ios"===hi?wn:Xt);Ke!==pt&&(yield M(se,Xn,se.el,rn)),se.didDismiss.emit({data:me,role:Ke}),null===(Gn=se.didDismissShorthand)||void 0===Gn||Gn.emit({data:me,role:Ke}),(ee.get(se)||[]).forEach(ri=>ri.destroy()),ee.delete(se),se.el.classList.add("overlay-hidden"),se.el.style.removeProperty("pointer-events"),void 0!==se.el.lastFocus&&(se.el.lastFocus=void 0)}catch(hi){console.error(hi)}return se.el.remove(),void 0!==ke.d&&(null===(pn=Qe(ke.d))||void 0===pn||pn.removeAttribute("aria-hidden")),!0});return function(me,Ke,Nt,wn,Xt,rn,Qt){return Re.apply(this,arguments)}}(),D=Re=>Re.querySelector("ion-app")||Re.body,M=function(){var Re=(0,y.c)(function*(se,me,Ke,Nt){Ke.classList.remove("overlay-hidden");const Xt=me(se.el,Nt);(!se.animated||!je.c.getBoolean("animated",!0))&&Xt.duration(0),se.keyboardClose&&Xt.beforeAddWrite(()=>{const Qt=Ke.ownerDocument.activeElement;null!=Qt&&Qt.matches("input,ion-input, ion-textarea")&&Qt.blur()});const rn=ee.get(se)||[];return ee.set(se,[...rn,Xt]),yield Xt.play(),!0});return function(me,Ke,Nt,wn){return Re.apply(this,arguments)}}(),j=(Re,se)=>{let me;const Ke=new Promise(Nt=>me=Nt);return ie(Re,se,Nt=>{me(Nt.detail)}),Ke},ie=(Re,se,me)=>{const Ke=Nt=>{(0,Ze.b)(Re,se,Ke),me(Nt)};(0,Ze.a)(Re,se,Ke)},G=Re=>"cancel"===Re||Re===tt,We=Re=>Re(),dt=(Re,se)=>{if("function"==typeof Re)return je.c.get("_zoneGate",We)(()=>{try{return Re(se)}catch(Ke){throw Ke}})},tt="backdrop",pt="gesture",Vt=39,dn=Re=>{let me,se=!1;const Ke=(0,Pt.C)(),Nt=(rn=!1)=>{if(me&&!rn)return{delegate:me,inline:se};const{el:Qt,hasController:Gn,delegate:pn}=Re;return se=null!==Qt.parentNode&&!Gn,me=se?pn||Ke:pn,{inline:se,delegate:me}};return{attachViewToDom:function(){var rn=(0,y.c)(function*(Qt){const{delegate:Gn}=Nt(!0);if(Gn)return yield Gn.attachViewToDom(Re.el,Qt);const{hasController:pn}=Re;if(pn&&void 0!==Qt)throw new Error("framework delegate is missing");return null});return function(Gn){return rn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:rn}=Nt();rn&&void 0!==Re.el&&rn.removeViewFromDom(Re.el.parentElement,Re.el)}}},yt=()=>{let Re;const se=()=>{Re&&(Re(),Re=void 0)};return{addClickListener:(Ke,Nt)=>{se();const wn=void 0!==Nt?document.getElementById(Nt):null;wn?Re=((rn,Qt)=>{const Gn=()=>{Qt.present()};return rn.addEventListener("click",Gn),()=>{rn.removeEventListener("click",Gn)}})(wn,Ke):(0,Z.p)(`A trigger element with the ID "${Nt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ke)},removeClickListener:se}}},4812:(Mn,Lt,oe)=>{"use strict";var y=oe(1528);let U=null,Pt=1;const Ze=Symbol("SIGNAL");function Z(t){const e=U;return U=t,e}function ve(t){if((!et(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Pt)){if(!t.producerMustRecompute(t)&&!Ne(t))return t.dirty=!1,void(t.lastCleanEpoch=Pt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pt}}function Ne(t){S(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ve(n),r!==n.version))return!0}return!1}function xe(t,e){if(function x(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),S(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)xe(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];S(i),i.producerIndexOfThis[r]=e}}function et(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function S(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let Tt=null;function yt(t){return"function"==typeof t}function Re(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const se=Re(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function me(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ke{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(yt(r))try{r()}catch(o){e=o instanceof se?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Xt(o)}catch(s){e=null!=e?e:[],s instanceof se?e=[...e,...s.errors]:e.push(s)}}if(e)throw new se(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xt(e);else{if(e instanceof Ke){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&me(n,e)}remove(e){const{_finalizers:n}=this;n&&me(n,e),e instanceof Ke&&e._removeParent(this)}}Ke.EMPTY=(()=>{const t=new Ke;return t.closed=!0,t})();const Nt=Ke.EMPTY;function wn(t){return t instanceof Ke||t&&"closed"in t&&yt(t.remove)&&yt(t.add)&&yt(t.unsubscribe)}function Xt(t){yt(t)?t():t.unsubscribe()}const rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Qt={setTimeout(t,e,...n){const{delegate:r}=Qt;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Qt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Gn(t){Qt.setTimeout(()=>{const{onUnhandledError:e}=rn;if(!e)throw t;e(t)})}function pn(){}const hi=ri("C",void 0,void 0);function ri(t,e,n){return{kind:t,value:e,error:n}}let Vr=null;function Li(t){if(rn.useDeprecatedSynchronousErrorHandling){const e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}class Vi extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wn(e)&&e.add(this)):this.destination=qo}static create(e,n,r){return new xn(e,n,r)}next(e){this.isStopped?Mo(function zr(t){return ri("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mo(function Xn(t){return ri("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mo(hi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pi=Function.prototype.bind;function Gr(t,e){return pi.call(t,e)}class qr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$i(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$i(r)}else $i(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$i(n)}}}class xn extends Vi{constructor(e,n,r){let i;if(super(),yt(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gr(e.next,o),error:e.error&&Gr(e.error,o),complete:e.complete&&Gr(e.complete,o)}):i=e}this.destination=new qr(i)}}function $i(t){rn.useDeprecatedSynchronousErrorHandling?function fi(t){rn.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}(t):Gn(t)}function Mo(t,e){const{onStoppedNotification:n}=rn;n&&Qt.setTimeout(()=>n(t,e))}const qo={closed:!0,next:pn,error:function Go(t){throw t},complete:pn},gi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ur(t){return t}function yo(t){return 0===t.length?ur:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Rn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function O(t){return t&&t instanceof Vi||function fs(t){return t&&yt(t.next)&&yt(t.error)&&yt(t.complete)}(t)&&wn(t)}(n)?n:new xn(n,r,i);return Li(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Wo(r))((i,o)=>{const s=new xn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[gi](){return this}pipe(...n){return yo(n)(this)}toPromise(n){return new(n=Wo(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Wo(t){var e;return null!==(e=null!=t?t:rn.Promise)&&void 0!==e?e:Promise}const P=Re(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let L=(()=>{class t extends Rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ee(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new P}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Nt:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,me(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Rn;return n.source=this,n}}return t.create=(e,n)=>new Ee(e,n),t})();class Ee extends L{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Nt}}class q extends L{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ut(t){return yt(null==t?void 0:t.lift)}function Et(t){return e=>{if(ut(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(t,e,n,r,i){return new Wr(t,e,n,r,i)}class Wr extends Vi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function mt(t,e){return Et((n,r)=>{let i=0;n.subscribe(Ot(r,o=>{r.next(t.call(e,o,i++))}))})}const en="https://g.co/ng/security#xss";class Te extends Error{constructor(e,n){super(function Kr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function jt(t){return e=>{setTimeout(t,void 0,e)}}const ct=class At extends L{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const g=e;i=null===(a=g.next)||void 0===a?void 0:a.bind(g),o=null===(l=g.error)||void 0===l?void 0:l.bind(g),s=null===(u=g.complete)||void 0===u?void 0:u.bind(g)}this.__isAsync&&(o=jt(o),i&&(i=jt(i)),s&&(s=jt(s)));const h=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(h),h}};var Gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Gt||{});function rr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Sr(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var $=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($||{}),K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(K||{});function ae(t){return{toString:t}.toString()}const _e=globalThis,Fe={},Pe=[];function Xe(t){for(let e in t)if(t[e]===Xe)return e;throw Error("Could not find renamed property on target object.")}function Mt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}const on=Xe({\u0275cmp:Xe}),Nn=Xe({\u0275dir:Xe}),wr=Xe({\u0275pipe:Xe}),Zn=Xe({\u0275mod:Xe}),qn=Xe({\u0275fac:Xe}),xo=Xe({__NG_ELEMENT_ID__:Xe}),Bi=Xe({__NG_ENV_ID__:Xe});var Tn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Tn||{});function nd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Qo(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];rd(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Sc(t){return 3===t||4===t||6===t}function rd(t){return 64===t.charCodeAt(0)}function Rc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||id(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function id(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const F_="ng-template";function Zf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==nd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function L_(t){return 4===t.type&&t.value!==F_}function Jf(t,e,n){return e===(4!==t.type||n?t.value:F_)}function S0(t,e,n){let r=4;const i=t.attrs||[],o=function ep(t){for(let e=0;e<t.length;e++)if(Sc(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Jf(t,l,n)||""===l&&1===e.length){if(to(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Zf(t.attrs,u,n)){if(to(r))return!1;s=!0}continue}const g=R0(8&r?"class":l,i,L_(t),n);if(-1===g){if(to(r))return!1;s=!0;continue}if(""!==u){let m;m=g>o?"":i[g+1].toLowerCase();const v=8&r?m:null;if(v&&-1!==nd(v,u,0)||2&r&&u!==m){if(to(r))return!1;s=!0}}}}else{if(!s&&!to(r)&&!to(l))return!1;if(s&&to(l))continue;s=!1,r=l|1&r}}return to(r)||s}function to(t){return 0==(1&t)}function R0(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Pc(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function od(t,e,n=!1){for(let r=0;r<e.length;r++)if(S0(t,e[r],n))return!0;return!1}function ps(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function sd(t,e){return t?":not("+e.trim()+")":e}function M0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!to(s)&&(e+=sd(o,i),i=""),r=s,o=o||!to(r);n++}return""!==i&&(e+=sd(o,i)),e}function qe(t){return ae(()=>{var e;const n=k0(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,styles:t.styles||Pe,_:null,schemas:t.schemas||null,tView:null,id:""};ld(r);const i=t.dependencies;return r.directiveDefs=Io(i,!1),r.pipeDefs=Io(i,!0),r.id=function hl(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(r),r})}function N0(t){return ln(t)||Jn(t)}function tp(t){return null!==t}function Zo(t){return ae(()=>({type:t.type,bootstrap:t.bootstrap||Pe,declarations:t.declarations||Pe,imports:t.imports||Pe,exports:t.exports||Pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ad(t,e){if(null==t)return Fe;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=Tn.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==Tn.None?[i,l]:i,e[s]=a):n[s]=i}return n}function kt(t){return ae(()=>{const e=k0(t);return ld(e),e})}function Ui(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ln(t){return t[on]||null}function Jn(t){return t[Nn]||null}function ii(t){return t[wr]||null}function xr(t,e){const n=t[Zn]||null;if(!n&&!0===e)throw new Error(`Type ${rr(t)} does not have '\u0275mod' property.`);return n}function k0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fe,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ad(t.inputs,e),outputs:ad(t.outputs),debugInfo:null}}function ld(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function Io(t,e){if(!t)return null;const n=e?ii:N0;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(tp)}const er=0,nt=1,$t=2,Rr=3,mi=4,_i=5,ji=6,ma=7,Un=8,Qr=9,Nr=10,Wt=11,Mc=12,cd=13,gs=14,ir=15,fl=16,pl=17,Eo=18,_a=19,ud=20,No=21,va=22,Ns=23,Kt=25,dd=1,no=7,Ia=9,dr=10;var hd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(hd||{});function Xr(t){return Array.isArray(t)&&"object"==typeof t[dd]}function vi(t){return Array.isArray(t)&&!0===t[dd]}function xc(t){return 0!=(4&t.flags)}function Ea(t){return t.componentOffset>-1}function ml(t){return 1==(1&t.flags)}function Ai(t){return!!t.template}function Nc(t){return 0!=(512&t[$t])}let W_=!1;function Pn(t){for(;Array.isArray(t);)t=t[er];return t}function Si(t,e){return Pn(e[t.index])}function Fc(t,e){return t.data[e]}function Hi(t,e){const n=e[t];return Xr(n)?n:n[er]}function ap(t){return 128==(128&t[$t])}function ko(t,e){return null==e?null:t[e]}function K_(t){t[pl]=0}function L0(t){1024&t[$t]||(t[$t]|=1024,ap(t)&&_d(t))}function lp(t){var e;return!!(9216&t[$t]||null!==(e=t[Ns])&&void 0!==e&&e.dirty)}function cp(t){if(lp(t))_d(t);else if(64&t[$t])if(function rp(){return W_}())t[$t]|=1024,_d(t);else{var e;null===(e=t[Nr].changeDetectionScheduler)||void 0===e||e.notify()}}function _d(t){var e;null===(e=t[Nr].changeDetectionScheduler)||void 0===e||e.notify();let n=ms(t);for(;null!==n&&!(8192&n[$t])&&(n[$t]|=8192,ap(n));)n=ms(n)}function up(t,e){if(256==(256&t[$t]))throw new Te(911,!1);null===t[No]&&(t[No]=[]),t[No].push(e)}function ms(t){const e=t[Rr];return vi(e)?e[Rr]:e}const qt={lFrame:yp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function V0(){return qt.bindingsEnabled}function Lc(){return null!==qt.skipHydrationRootTNode}function be(){return qt.lFrame.lView}function mn(){return qt.lFrame.tView}function fp(t){return qt.lFrame.contextLView=t,t[Un]}function pp(t){return qt.lFrame.contextLView=null,t}function Sn(){let t=vd();for(;null!==t&&64===t.type;)t=t.parent;return t}function vd(){return qt.lFrame.currentTNode}function ro(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function yd(){return qt.lFrame.isParent}function gp(){qt.lFrame.isParent=!1}function Oo(){return qt.lFrame.bindingIndex++}function kr(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bc(e)}function Bc(t){qt.lFrame.currentDirectiveIndex=t}function Id(t){qt.lFrame.currentQueryIndex=t}function z0(t){const e=t[nt];return 2===e.type?e.declTNode:1===e.type?t[_i]:null}function _p(t,e,n){if(n&Gt.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Gt.Host||(i=z0(o),null===i||(o=o[gs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=qt.lFrame=jc();return r.currentTNode=e,r.lView=t,!0}function vp(t){const e=jc(),n=t[nt];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jc(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?yp(t):e}function yp(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function yl(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Hc=yl;function Ip(){const t=yl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oi(){return qt.lFrame.selectedIndex}function ys(t){qt.lFrame.selectedIndex=t}function Wn(){const t=qt.lFrame;return Fc(t.tView,t.selectedIndex)}let ba=!0;function Ed(){return ba}function Os(t){ba=t}function K0(){return Il(Sn(),be())}function Il(t,e){return new Ve(Si(t,e))}let Ta,Ve=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=K0,e})();function El(t,e){t.forEach(n=>Array.isArray(n)?El(n,e):e(n))}function wd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ad(t){return 128==(128&t.flags)}function St(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cl(t){return tv(t,Sd)||tv(t,nv)}function tv(t,e){return t.hasOwnProperty(e)?t[e]:null}function bl(t){return t&&(t.hasOwnProperty(Kc)||t.hasOwnProperty(Ap))?t[Kc]:null}const Sd=Xe({\u0275prov:Xe}),Kc=Xe({\u0275inj:Xe}),nv=Xe({ngInjectableDef:Xe}),Ap=Xe({ngInjectorDef:Xe});class st{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=St({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rd=new st("",{providedIn:"root",factory:()=>Yc}),Yc="ng",rv=new st(""),Lo=new st("",{providedIn:"platform",factory:()=>"unknown"}),Pd=new st("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Jo(){if(void 0!==Ta)return Ta;if(typeof document<"u")return document;throw new Te(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),sv=Xe({__forward_ref__:Xe});function kn(t){return t.__forward_ref__=kn,t.toString=function(){return rr(this())},t}function zt(t){return Md(t)?t():t}function Md(t){return"function"==typeof t&&t.hasOwnProperty(sv)&&t.__forward_ref__===kn}function Zc(t){return t&&!!t.\u0275providers}function Yt(t){return"string"==typeof t?t:null==t?"":String(t)}function xd(t,e){throw new Te(-201,!1)}let Jc;function hv(){return Jc}function Gi(t){const e=Jc;return Jc=t,e}function fv(t,e,n){const r=Cl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Gt.Optional?null:void 0!==e?e:void xd()}const eu={},Nd="__NG_DI_FLAG__",kd="ngTempTokenPath",nw=/\n/gm,gv="__source";let Tl;function Ls(t){const e=Tl;return Tl=t,e}function ow(t,e=Gt.Default){if(void 0===Tl)throw new Te(-203,!1);return null===Tl?fv(t,void 0,e):Tl.get(t,e&Gt.Optional?null:void 0,e)}function He(t,e=Gt.Default){return(hv()||ow)(zt(t),e)}function ze(t,e=Gt.Default){return He(t,Ld(e))}function Ld(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xp(t){const e=[];for(let n=0;n<t.length;n++){const r=zt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let i,o=Gt.Default;for(let s=0;s<r.length;s++){const a=r[s],l=sw(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(He(i,o))}else e.push(He(r))}return e}function tu(t,e){return t[Nd]=e,t.prototype[Nd]=e,t}function sw(t){return t[Nd]}let vv=()=>null;function Op(t,e,n=!1){return vv(t,e,n)}const Nl="__parameters__";function Ra(t,e,n){return ae(()=>{const r=function Bp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,h){const g=l.hasOwnProperty(Nl)?l[Nl]:Object.defineProperty(l,Nl,{value:[]})[Nl];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const su=tu(Ra("Optional"),8),Ol=tu(Ra("SkipSelf"),4);function Pa(t,e){return t.hasOwnProperty(qn)?t[qn]:null}const es=new st(""),Av=new st("",-1),jp=new st("");class Ud{get(e,n=eu){if(n===eu){const r=new Error(`NullInjectorError: No provider for ${rr(e)}!`);throw r.name="NullInjectorError",r}return n}}function gw(...t){return{\u0275providers:Sv(0,t),\u0275fromNgModule:!0}}function Sv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return El(e,s=>{const a=s;Hd(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&Rv(i,o),n}function Rv(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Hp(i,o=>{e(o,r)})}}function Hd(t,e,n,r){if(!(t=zt(t)))return!1;let i=null,o=bl(t);const s=!o&&ln(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=bl(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Hd(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{El(o.imports,h=>{Hd(h,e,n,r)&&(u||(u=[]),u.push(h))})}finally{}void 0!==u&&Rv(u,e)}if(!a){const u=Pa(i)||(()=>new i);e({provide:i,useFactory:u,deps:Pe},i),e({provide:jp,useValue:i,multi:!0},i),e({provide:es,useValue:()=>He(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;Hp(l,h=>{e(h,u)})}}}return i!==t&&void 0!==t.providers}function Hp(t,e){for(let n of t)Zc(n)&&(n=n.\u0275providers),Array.isArray(n)?Hp(n,e):e(n)}const Pv=Xe({provide:String,useValue:Xe});function zp(t){return null!==t&&"object"==typeof t&&Pv in t}function Ma(t){return"function"==typeof t}const au=new st(""),Fl={},kv={};let Gp;function Ll(){return void 0===Gp&&(Gp=new Ud),Gp}class si{}class Jr extends si{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ts(e,s=>this.processProvider(s)),this.records.set(Av,$s(void 0,this)),i.has("environment")&&this.records.set(si,$s(void 0,this));const o=this.records.get(au);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jp,Pe,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ls(this),r=Gi(void 0);try{return e()}finally{Ls(n),Gi(r)}}get(e,n=eu,r=Gt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Bi))return e[Bi](this);r=Ld(r);const o=Ls(this),s=Gi(void 0);try{if(!(r&Gt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function vw(t){return"function"==typeof t||"object"==typeof t&&t instanceof st}(e)&&Cl(e);l=u&&this.injectableDefInScope(u)?$s(xa(e),Fl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Gt.Self?Ll():this.parent).get(e,n=r&Gt.Optional&&n===eu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[kd]=a[kd]||[]).unshift(rr(e)),o)throw a;return function mv(t,e,n,r){const i=t[kd];throw e[gv]&&i.unshift(e[gv]),t.message=function aw(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=rr(e);if(Array.isArray(e))i=e.map(rr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):rr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nw,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[kd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Gi(s),Ls(o)}}resolveInjectorInitializers(){const e=Ls(this),n=Gi(void 0);try{const i=this.get(es,Pe,Gt.Self);for(const o of i)o()}finally{Ls(e),Gi(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(rr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(e){let n=Ma(e=zt(e))?e:zt(e&&e.provide);const r=function mw(t){return zp(t)?$s(void 0,t.useValue):$s(Gd(t),Fl)}(e);if(!Ma(e)&&!0===e.multi){let i=this.records.get(n);i||(i=$s(void 0,Fl,!0),i.factory=()=>xp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Fl&&(n.value=kv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Fv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=zt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function xa(t){const e=Cl(t),n=null!==e?e.factory:Pa(t);if(null!==n)return n;if(t instanceof st)throw new Te(204,!1);if(t instanceof Function)return function Ov(t){if(t.length>0)throw new Te(204,!1);const n=function X0(t){return t&&(t[Sd]||t[nv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Te(204,!1)}function Gd(t,e,n){let r;if(Ma(t)){const i=zt(t);return Pa(i)||xa(i)}if(zp(t))r=()=>zt(t.useValue);else if(function xv(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...xp(t.deps||[]));else if(function Mv(t){return!(!t||!t.useExisting)}(t))r=()=>He(zt(t.useExisting));else{const i=zt(t&&(t.useClass||t.provide));if(!function _w(t){return!!t.deps}(t))return Pa(i)||xa(i);r=()=>new i(...xp(t.deps))}return r}function $s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ts(t,e){for(const n of t)Array.isArray(n)?ts(n,e):n&&Zc(n)?ts(n.\u0275providers,e):e(n)}function Bs(t,e){t instanceof Jr&&t.assertNotDestroyed();const r=Ls(t),i=Gi(void 0);try{return e()}finally{Ls(r),Gi(i)}}class Ew{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bv(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function f(){return c}function c(t){return t.type.prototype.ngOnChanges&&(t.setInput=p),d}function d(){const t=w(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Fe)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p(t,e,n,r,i){const o=this.declaredInputs[r],s=w(t)||function N(t,e){return t[_]=e}(t,{previous:Fe,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Ew(u&&u.currentValue,n,l===Fe),Bv(t,e,i,n)}f.ngInherit=!0;const _="__ngSimpleChanges__";function w(t){return t[_]||null}const ot=function(t,e,n){};function Dt(t,e){for(let u=e.directiveStart,h=e.directiveEnd;u<h;u++){const m=t.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:A,ngAfterViewChecked:R,ngOnDestroy:H}=m;var n,r,i,o,s,a,l;v&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,v),b&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,b),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,b)),A&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,A),R&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,R),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,R)),null!=H&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,H)}}function Kn(t,e,n){Qp(t,e,3,n)}function qi(t,e,n,r){(3&t[$t])===n&&Qp(t,e,n,r)}function $l(t,e){let n=t[$t];(3&n)===e&&(n&=16383,n+=1,t[$t]=n)}function Qp(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[pl]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[pl]+=65536),(a<o||-1==o)&&(Uv(t,n,e,l),t[pl]=(4294901760&t[pl])+l+2),l++}function Kd(t,e){ot(4,t,e);const n=Z(null);try{e.call(t)}finally{Z(n),ot(5,t,e)}}function Uv(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[$t]>>14<t[pl]>>16&&(3&t[$t])===e&&(t[$t]+=16384,Kd(a,o)):Kd(a,o)}const Na=-1;class ka{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Cw(t){return t!==Na}function Zp(t){return 32767&t}function Jp(t,e){let n=function p3(t){return t>>16}(t),r=e;for(;n>0;)r=r[gs],n--;return r}let bw=!0;function Gv(t){const e=bw;return bw=t,e}const pP=255,gP=5;let g3=0;const Us={};function qv(t,e){const n=mP(t,e);if(-1!==n)return n;const r=e[nt];r.firstCreatePass&&(t.injectorIndex=e.length,Tw(r.data,t),Tw(e,null),Tw(r.blueprint,null));const i=Wv(t,e),o=t.injectorIndex;if(Cw(i)){const s=Zp(i),a=Jp(i,e),l=a[nt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Tw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Wv(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=CP(i),null===r)return Na;if(n++,i=i[gs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Na}function Dw(t,e,n){!function m3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xo)&&(r=n[xo]),null==r&&(r=n[xo]=g3++);const i=r&pP;e.data[t+(i>>gP)]|=1<<i}(t,e,n)}function _P(t,e,n){if(n&Gt.Optional||void 0!==t)return t;xd()}function vP(t,e,n,r){if(n&Gt.Optional&&void 0===r&&(r=null),!(n&(Gt.Self|Gt.Host))){const i=t[Qr],o=Gi(void 0);try{return i?i.get(e,r,n&Gt.Optional):fv(e,r,n&Gt.Optional)}finally{Gi(o)}}return _P(r,0,n)}function yP(t,e,n,r=Gt.Default,i){if(null!==t){if(2048&e[$t]&&!(r&Gt.Self)){const s=function E3(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[$t]&&!(512&s[$t]);){const a=IP(o,s,n,r|Gt.Self,Us);if(a!==Us)return a;let l=o.parent;if(!l){const u=s[ud];if(u){const h=u.get(n,Us,r);if(h!==Us)return h}l=CP(s),s=s[gs]}o=l}return i}(t,e,n,r,Us);if(s!==Us)return s}const o=IP(t,e,n,r,Us);if(o!==Us)return o}return vP(e,n,r,i)}function IP(t,e,n,r,i){const o=function y3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xo)?t[xo]:void 0;return"number"==typeof e?e>=0?e&pP:I3:e}(n);if("function"==typeof o){if(!_p(e,t,r))return r&Gt.Host?_P(i,0,r):vP(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Gt.Optional)return s;xd()}finally{Hc()}}else if("number"==typeof o){let s=null,a=mP(t,e),l=Na,u=r&Gt.Host?e[ir][_i]:null;for((-1===a||r&Gt.SkipSelf)&&(l=-1===a?Wv(t,e):e[a+8],l!==Na&&wP(r,!1)?(s=e[nt],a=Zp(l),e=Jp(l,e)):a=-1);-1!==a;){const h=e[nt];if(EP(o,a,h.data)){const g=v3(a,e,n,s,r,u);if(g!==Us)return g}l=e[a+8],l!==Na&&wP(r,e[nt].data[a+8]===u)&&EP(o,a,e)?(s=h,a=Zp(l),e=Jp(l,e)):a=-1}}return i}function v3(t,e,n,r,i,o){const s=e[nt],a=s.data[t+8],h=function Kv(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<m;v++){const b=s[v];if(v<l&&n===b||v>=l&&b.type===n)return v}if(i){const v=s[l];if(v&&Ai(v)&&v.type===n)return l}return null}(a,s,n,null==r?Ea(a)&&bw:r!=s&&0!=(3&a.type),i&Gt.Host&&o===a);return null!==h?uu(e,s,h,a):Us}function uu(t,e,n,r){let i=t[n];const o=e.data;if(function jv(t){return t instanceof ka}(i)){const s=i;s.resolving&&function dv(t,e){throw e&&e.join(" > "),new Te(-200,t)}(function Cn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Yt(t)}(o[n]));const a=Gv(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Gi(s.injectImpl):null;_p(t,r,Gt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Rt(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const g=c(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,g),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,g)}var l,u,h;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(h=n.preOrderCheckHooks)&&void 0!==h?h:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Gi(u),Gv(a),s.resolving=!1,Hc()}}return i}function EP(t,e,n){return!!(n[e+(t>>gP)]&1<<t)}function wP(t,e){return!(t&Gt.Self||t&Gt.Host&&e)}class ai{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yP(this._tNode,this._lView,e,Ld(r),n)}}function I3(){return new ai(Sn(),be())}function hr(t){return ae(()=>{const e=t.prototype.constructor,n=e[qn]||Aw(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[qn]||Aw(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Aw(t){return Md(t)?()=>{const e=Aw(zt(t));return e&&e()}:Pa(t)}function CP(t){const e=t[nt],n=e.type;return 2===n?e.declTNode:1===n?t[_i]:null}function Bl(t){return function _3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Sc(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Sn(),t)}function SP(t,e=null,n=null,r){const i=RP(t,e,n,r);return i.resolveInjectorInitializers(),i}function RP(t,e=null,n=null,r,i=new Set){const o=[n||Pe,gw(t)];return r=r||("object"==typeof t?void 0:rr(t)),new Jr(o,e||Ll(),r||null,i)}let fr=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return SP({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return SP({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=eu,t.NULL=new Ud,t.\u0275prov=St({token:t,providedIn:"any",factory:()=>He(Av)}),t.__NG_ELEMENT_ID__=-1,e})();function Rw(t){return t.ngOriginalError}class Oa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Rw(e);for(;n&&Rw(n);)n=Rw(n);return n||null}}const MP=new st("",{providedIn:"root",factory:()=>ze(Oa).handleError.bind(void 0)}),NP=new st("",{providedIn:"root",factory:()=>!1});let Zv;function FP(t){var e;return(null===(e=function Mw(){if(void 0===Zv&&(Zv=null,_e.trustedTypes))try{Zv=_e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zv}())||void 0===e?void 0:e.createScriptURL(t))||t}class LP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${en})`}}function Ul(t){return t instanceof LP?t.changingThisBreaksApplicationSecurity:t}function eg(t,e){const n=function F3(t){return t instanceof LP&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${en})`)}return n===e}const B3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jd||{});function du(t){const e=ng();return e?e.sanitize(Jd.URL,t)||"":eg(t,"URL")?Ul(t):function xw(t){return(t=String(t)).match(B3)?t:"unsafe:"+t}(Yt(t))}function zP(t){const e=ng();if(e)return FP(e.sanitize(Jd.RESOURCE_URL,t)||"");if(eg(t,"ResourceURL"))return FP(Ul(t));throw new Te(904,!1)}function ng(){const t=be();return t&&t[Nr].sanitizer}const Fw=new Map;let sH=0;const Vw="__ngContext__";function Wi(t,e){Xr(e)?(t[Vw]=e[_a],function lH(t){Fw.set(t[_a],t)}(e)):t[Vw]=e}function Vo(t){return t instanceof Function?t():t}var Hl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hl||{});let jw;function Hw(t,e){return jw(t,e)}function th(t,e,n,r,i){if(null!=r){let o,s=!1;vi(r)?o=r:Xr(r)&&(s=!0,r=r[er]);const a=Pn(r);0===t&&null!==n?null==i?uM(e,n,a):hu(e,n,a,i||null,!0):1===t&&null!==n?hu(e,n,a,i||null,!0):2===t?function ay(t,e,n){const r=oy(t,e);r&&function PH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function NH(t,e,n,r,i){const o=n[no];o!==Pn(n)&&th(e,t,r,o,i);for(let a=dr;a<n.length;a++){const l=n[a];ly(l[nt],l,t,e,r,o)}}(e,t,o,n,i)}}function ry(t,e,n){return t.createElement(e,n)}function aM(t,e){ly(t,e,e[Wt],2,null,null)}function lM(t,e){const n=t[Ia],r=n.indexOf(e);n.splice(r,1)}function ig(t,e){if(t.length<=dr)return;const n=dr+e,r=t[n];if(r){const i=r[fl];null!==i&&i!==t&&lM(i,r),e>0&&(t[n-1][mi]=r[mi]);const o=Cd(t,dr+e);!function CH(t,e){aM(t,e),e[er]=null,e[_i]=null}(r[nt],r);const s=o[Eo];null!==s&&s.detachView(o[nt]),r[Rr]=null,r[mi]=null,r[$t]&=-129}return r}function iy(t,e){if(!(256&e[$t])){const n=e[Wt];n.destroyNode&&ly(t,e,n,3,null,null),function TH(t){let e=t[Mc];if(!e)return Gw(t[nt],t);for(;e;){let n=null;if(Xr(e))n=e[Mc];else{const r=e[dr];r&&(n=r)}if(!n){for(;e&&!e[mi]&&e!==t;)Xr(e)&&Gw(e[nt],e),e=e[Rr];null===e&&(e=t),Xr(e)&&Gw(e[nt],e),n=e&&e[mi]}e=n}}(e)}}function Gw(t,e){if(!(256&e[$t])){e[$t]&=-129,e[$t]|=256,e[Ns]&&function Me(t){if(S(t),et(t))for(let e=0;e<t.producerNode.length;e++)xe(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[Ns]),function RH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ka)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];ot(4,a,l);try{l.call(a)}finally{ot(5,a,l)}}else{ot(4,i,o);try{o.call(i)}finally{ot(5,i,o)}}}}}(t,e),function SH(t,e){const n=t.cleanup,r=e[ma];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[ma]=null);const i=e[No];if(null!==i){e[No]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[nt].type&&e[Wt].destroy();const n=e[fl];if(null!==n&&vi(e[Rr])){n!==e[Rr]&&lM(n,e);const r=e[Eo];null!==r&&r.detachView(t)}!function cH(t){Fw.delete(t[_a])}(e)}}function qw(t,e,n){return function cM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[er];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===K.None||o===K.Emulated)return null}return Si(r,n)}}(t,e.parent,n)}function hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uM(t,e,n){t.appendChild(e,n)}function dM(t,e,n,r,i){null!==r?hu(t,e,n,r,i):uM(t,e,n)}function oy(t,e){return t.parentNode(e)}function hM(t,e,n){return pM(t,e,n)}let Ww,pM=function fM(t,e,n){return 40&t.type?Si(t,n):null};function sy(t,e,n,r){const i=qw(t,r,e),o=e[Wt],a=hM(r.parent||e[_i],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)dM(o,i,n[l],a,!1);else dM(o,i,n,a,!1);void 0!==Ww&&Ww(o,r,e,n,i)}function og(t,e){if(null!==e){const n=e.type;if(3&n)return Si(e,t);if(4&n)return Kw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return og(t,r);{const i=t[e.index];return vi(i)?Kw(-1,i):Pn(i)}}if(32&n)return Hw(e,t)()||Pn(t[e.index]);{const r=mM(t,e);return null!==r?Array.isArray(r)?r[0]:og(ms(t[ir]),r):og(t,e.next)}}return null}function mM(t,e){return null!==e?t[ir][_i].projection[e.projection]:null}function Kw(t,e){const n=dr+t+1;if(n<e.length){const r=e[n],i=r[nt].firstChild;if(null!==i)return og(r,i)}return e[no]}function Yw(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Wi(Pn(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Yw(t,e,n.child,r,i,o,!1),th(e,t,i,a,o);else if(32&l){const u=Hw(n,r);let h;for(;h=u();)th(e,t,i,h,o);th(e,t,i,a,o)}else 16&l?vM(t,e,r,n,i,o):th(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ly(t,e,n,r,i,o){Yw(n,r,t.firstChild,e,i,o,!1)}function vM(t,e,n,r,i,o){const s=n[ir],l=s[_i].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)th(e,t,i,l[u],o);else{let u=l;const h=s[Rr];Ad(r)&&(u.flags|=128),Yw(t,e,u,h,i,o,!0)}}function yM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IM(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Qo(t,e,r),null!==i&&yM(t,e,i),null!==o&&function OH(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const sn={};function Ri(t=1){EM(mn(),be(),oi()+t,!1)}function EM(t,e,n,r){if(!r)if(3==(3&e[$t])){const o=t.preOrderCheckHooks;null!==o&&Kn(e,o,n)}else{const o=t.preOrderHooks;null!==o&&qi(e,o,0,n)}ys(n)}function E(t,e=Gt.Default){const n=be();return null===n?He(t,e):yP(Sn(),n,zt(t),e)}function CM(t,e,n,r,i,o){const s=Z(null);try{let a=null;i&Tn.SignalBased&&(a=e[r][Ze]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Tn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):Bv(e,a,r,o)}finally{Z(s)}}function cy(t,e,n,r,i,o,s,a,l,u,h){const g=e.blueprint.slice();return g[er]=i,g[$t]=204|r,(null!==u||t&&2048&t[$t])&&(g[$t]|=2048),K_(g),g[Rr]=g[gs]=t,g[Un]=n,g[Nr]=s||t&&t[Nr],g[Wt]=a||t&&t[Wt],g[Qr]=l||t&&t[Qr]||null,g[_i]=o,g[_a]=function aH(){return sH++}(),g[ji]=h,g[ud]=u,g[ir]=2==e.type?t[ir]:g,g}function nh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Qw(t,e,n,r,i){const o=vd(),s=yd(),l=t.data[e]=function HH(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Lc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function $c(){return qt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Vc(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ro(o,!0),o}function sg(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bM(t,e,n,r,i){const o=oi(),s=2&r;try{ys(-1),s&&e.length>Kt&&EM(t,e,Kt,!1),ot(s?2:0,i),n(r,i)}finally{ys(o),ot(s?3:1,i)}}function Xw(t,e,n){if(xc(e)){const r=Z(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Z(r)}}}function Zw(t,e,n){V0()&&(function QH(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ea(n)&&function rz(t,e,n){const r=Si(e,t),i=TM(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=uy(t,cy(t,i,null,s,r,e,null,t[Nr].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qv(n,e),Wi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=uu(e,t,a,n);Wi(u,e),null!==s&&iz(0,a-i,u,l,0,s),Ai(l)&&(Hi(n.index,e)[Un]=uu(e,t,a,n))}}(t,e,n,Si(n,e)),64==(64&n.flags)&&PM(t,e,n))}function Jw(t,e,n=Si){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function TM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=eC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function eC(t,e,n,r,i,o,s,a,l,u,h){const g=Kt+r,m=g+i,v=function LH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:sn);return n}(g,m),b="function"==typeof u?u():u;return v[nt]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}let DM=()=>null;function AM(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=Tn.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let h=s;if(null!==i){if(!i.hasOwnProperty(s))continue;h=i[s]}0===t?SM(r,n,h,l,u):SM(r,n,h,l)}return r}function SM(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function Co(t,e,n,r,i,o,s,a){const l=Si(e,n);let h,u=e.inputs;!a&&null!=u&&(h=u[r])?(oC(t,n,h,r,i),Ea(e)&&function qH(t,e){const n=Hi(e,t);16&n[$t]||(n[$t]|=64)}(n,e.index)):3&e.type&&(r=function GH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function tC(t,e,n,r){if(V0()){const i=null===r?null:{"":-1},o=function ZH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(od(e,a.selectors,!1))if(r||(r=[]),Ai(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),nC(t,e,l.length)}else r.unshift(a),nC(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&RM(t,e,n,s,i,a),i&&function JH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Te(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Rc(n.mergedAttrs,n.attrs)}function RM(t,e,n,r,i,o){for(let g=0;g<r.length;g++)Dw(qv(n,e),t,r[g].type);!function tz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let g=0;g<r.length;g++){const m=r[g];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,l=sg(t,e,r.length,null);for(let g=0;g<r.length;g++){const m=r[g];n.mergedAttrs=Rc(n.mergedAttrs,m.hostAttrs),nz(t,n,e,l,m),ez(l,m,i),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const v=m.type.prototype;var u,h;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!v.ngOnChanges&&!v.ngDoCheck||((null!==(h=t.preOrderCheckHooks)&&void 0!==h?h:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function zH(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<i;h++){const g=o[h],m=n?n.get(g):null,b=m?m.outputs:null;l=AM(0,g.inputs,h,l,m?m.inputs:null),u=AM(1,g.outputs,h,u,b);const A=null===l||null===s||L_(e)?null:oz(l,h,s);a.push(A)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function PM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function H0(){return qt.lFrame.currentDirectiveIndex}();try{ys(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Bc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&XH(l,u)}}finally{ys(-1),Bc(s)}}function XH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function nC(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function ez(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ai(e)&&(n[""]=t)}}function nz(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Pa(i.type)),s=new ka(o,Ai(i),E);t.blueprint[r]=s,n[r]=s,function KH(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function YH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,sg(t,n,i.hostVars,sn),i)}function js(t,e,n,r,i,o){const s=Si(t,e);!function rC(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Yt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Wt],s,o,t.value,n,r,i)}function iz(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)CM(r,n,s[a++],s[a++],s[a++],s[a++])}function oz(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function MM(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function xM(t,e){const n=t.contentQueries;if(null!==n){const r=Z(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Id(n[i]),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function uy(t,e){return t[Mc]?t[cd][mi]=e:t[Mc]=e,t[cd]=e,e}function iC(t,e,n){Id(0);const r=Z(null);try{e(t,n)}finally{Z(r)}}function dy(t,e){const n=t[Qr],r=n?n.get(Oa,null):null;r&&r.handleError(e)}function oC(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];CM(t.data[s],e[s],r,a,l,i)}}function La(t,e,n){const r=function wa(t,e){return Pn(e[t])}(e,t);!function sM(t,e,n){t.setValue(e,n)}(t[Wt],r,n)}function sz(t,e){const n=Hi(e,t),r=n[nt];!function az(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[er];null!==i&&null===n[ji]&&(n[ji]=Op(i,n[Qr])),sC(r,n,n[Un])}function sC(t,e,n){vp(e);try{var r;const i=t.viewQuery;null!==i&&iC(1,i,n);const o=t.template;null!==o&&bM(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[Eo])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&xM(t,e),t.staticViewQueries&&iC(2,t.viewQuery,n);const s=t.components;null!==s&&function lz(t,e){for(let n=0;n<e.length;n++)sz(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[$t]&=-5,Ip()}}function rh(t,e){return!e||null===e.firstChild||Ad(t)}function lg(t,e,n,r=!0){const i=e[nt];if(function DH(t,e,n,r){const i=dr+r,o=n.length;r>0&&(n[i-1][mi]=e),r<o-dr?(e[mi]=n[i],wd(n,dr+r,e)):(n.push(e),e[mi]=null),e[Rr]=n;const s=e[fl];null!==s&&n!==s&&function AH(t,e){const n=t[Ia];e[ir]!==e[Rr][Rr][ir]&&(t[$t]|=hd.HasTransplantedViews),null===n?t[Ia]=[e]:n.push(e)}(s,e);const a=e[Eo];null!==a&&a.insertView(t),cp(e),e[$t]|=128}(i,e,t,n),r){const s=Kw(n,t),a=e[Wt],l=oy(a,t[no]);null!==l&&function bH(t,e,n,r,i,o){r[er]=i,r[_i]=e,ly(t,r,n,1,i,o)}(i,t[_i],a,e,l,s)}const o=e[ji];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function cg(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Pn(o)),vi(o)&&LM(o,r);const s=n.type;if(8&s)cg(t,e,n.child,r);else if(32&s){const a=Hw(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=mM(e,n);if(Array.isArray(a))r.push(...a);else{const l=ms(e[ir]);cg(l[nt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LM(t,e){for(let n=dr;n<t.length;n++){const r=t[n],i=r[nt].firstChild;null!==i&&cg(r[nt],r,i,e)}t[no]!==t[er]&&e.push(t[no])}let VM=[];const hz={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_d(t.lView)},consumerOnSignalRead(){this.lView[Ns]=this}};function $M(t){return UM(t[Mc])}function BM(t){return UM(t[mi])}function UM(t){for(;null!==t&&!vi(t);)t=t[mi];return t}function hy(t,e=!0,n=0){const r=t[Nr],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function gz(t,e){lC(t,e);let n=0;for(;lp(t);){if(100===n)throw new Te(103,!1);n++,lC(t,1)}}(t,n)}catch(u){throw e&&dy(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function mz(t,e,n,r){var i;const o=e[$t];if(256==(256&o))return;null===(i=e[Nr].inlineEffectRunner)||void 0===i||i.flush(),vp(e);let a=null,l=null;(function _z(t){return 2!==t.type})(t)&&(l=function cz(t){var e;return null!==(e=t[Ns])&&void 0!==e?e:function uz(t){var e;const n=null!==(e=VM.pop())&&void 0!==e?e:Object.create(hz);return n.lView=t,n}(t)}(e),a=function z(t){return t&&(t.nextProducerIndex=0),Z(t)}(l));try{K_(e),function _s(t){return qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&bM(t,e,n,2,r);const u=3==(3&o);if(u){const m=t.preOrderCheckHooks;null!==m&&Kn(e,m,null)}else{const m=t.preOrderHooks;null!==m&&qi(e,m,0,null),$l(e,0)}if(function vz(t){for(let e=$M(t);null!==e;e=BM(e)){if(!(e[$t]&hd.HasTransplantedViews))continue;const n=e[Ia];for(let r=0;r<n.length;r++){L0(n[r])}}}(e),HM(e,0),null!==t.contentQueries&&xM(t,e),u){const m=t.contentCheckHooks;null!==m&&Kn(e,m)}else{const m=t.contentHooks;null!==m&&qi(e,m,1),$l(e,1)}!function FH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ys(~i);else{const o=i,s=n[++r],a=n[++r];kr(s,o),a(2,e[o])}}}finally{ys(-1)}}(t,e);const h=t.components;null!==h&&GM(e,h,0);const g=t.viewQuery;if(null!==g&&iC(2,g,r),u){const m=t.viewCheckHooks;null!==m&&Kn(e,m)}else{const m=t.viewHooks;null!==m&&qi(e,m,2),$l(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[va]){for(const m of e[va])m();e[va]=null}e[$t]&=-73}catch(u){throw _d(e),u}finally{null!==l&&(function Y(t,e){if(Z(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(et(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xe(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function dz(t){t.lView[Ns]!==t&&(t.lView=null,VM.push(t))}(l)),Ip()}}function HM(t,e){for(let n=$M(t);null!==n;n=BM(n))for(let r=dr;r<n.length;r++)zM(n[r],e)}function yz(t,e,n){zM(Hi(e,t),n)}function zM(t,e){ap(t)&&lC(t,e)}function lC(t,e){const r=t[nt],i=t[$t],o=t[Ns];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!Ne(o))),o&&(o.dirty=!1),t[$t]&=-9217,s)mz(r,t,r.template,t[Un]);else if(8192&i){HM(t,1);const a=r.components;null!==a&&GM(t,a,1)}}function GM(t,e,n){for(let r=0;r<e.length;r++)yz(t,e[r],n)}function ug(t){var e;for(null===(e=t[Nr].changeDetectionScheduler)||void 0===e||e.notify();t;){t[$t]|=64;const n=ms(t);if(Nc(t)&&!n)return t;t=n}return null}class dg{get rootNodes(){const e=this._lView,n=e[nt];return cg(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Un]}set context(e){this._lView[Un]=e}get destroyed(){return 256==(256&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Rr];if(vi(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ig(e,r),Cd(n,r))}this._attachedToViewContainer=!1}iy(this._lView[nt],this._lView)}onDestroy(e){up(this._lView,e)}markForCheck(){ug(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-129}reattach(){cp(this._lView),this._lView[$t]|=128}detectChanges(){this._lView[$t]|=1024,hy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aM(this._lView[nt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=e,cp(this._lView)}}let ws=(()=>{class e{}return e.__NG_ELEMENT_ID__=wz,e})();const Iz=ws,Ez=class extends Iz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function ag(t,e,n,r){var i,o;const s=e.tView,u=cy(t,s,n,4096&t[$t]?4096:16,null,e,null,null,null,null!==(i=null==r?void 0:r.injector)&&void 0!==i?i:null,null!==(o=null==r?void 0:r.dehydratedView)&&void 0!==o?o:null);u[fl]=t[e.index];const g=t[Eo];return null!==g&&(u[Eo]=g.createEmbeddedView(s)),sC(s,u,n),u}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new dg(i)}};function wz(){return function fy(t,e){return 4&t.type?new Ez(e,t,Il(t,e)):null}(Sn(),be())}class ZM{}class zz{}class JM{}class qz{resolveComponentFactory(e){throw function Gz(t){const e=Error(`No component factory found for ${rr(t)}.`);return e.ngComponent=t,e}(e)}}let vy=(()=>{class e{}return e.NULL=new qz,e})();class tx{}let Va=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Wz(){const t=be(),n=Hi(Sn().index,t);return(Xr(n)?n:t)[Wt]}(),e})(),Kz=(()=>{var t;class e{}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>null}),e})();const pC={};function ix(t){const e=Z(null);try{return t()}finally{Z(e)}}function yy(t){return!!function gC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class ox{constructor(){}supports(e){return yy(e)}create(e){return new e6(e)}}const Jz=(t,e)=>e;class e6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Jz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<ax(r,i,o)?n:r,a=ax(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,h=l-i;if(u!=h){for(let m=0;m<u;m++){const v=m<o.length?o[m]:o[m]=0,b=v+m;h<=b&&b<u&&(o[m]=v+1)}o[s.previousIndex]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!yy(e))throw new Te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Zz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new t6(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class t6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new n6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ax(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cx(){return new mC([new ox])}let mC=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||cx()),deps:[[e,new Ol,new su]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new Te(901,!1)}}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:cx}),e})(),at=(()=>{class e{}return e.__NG_ELEMENT_ID__=s6,e})();function s6(t){return function a6(t,e,n){if(Ea(t)&&!n){const r=Hi(t.index,e);return new dg(r,r)}return 47&t.type?new dg(e[ir],e):null}(Sn(),be(),16==(16&t))}let Ey=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=d6,t.__NG_ENV_ID__=n=>n,e})();class u6 extends Ey{constructor(e){super(),this._lView=e}onDestroy(e){return up(this._lView,e),()=>function Q_(t,e){if(null===t[No])return;const n=t[No].indexOf(e);-1!==n&&t[No].splice(n,1)}(this._lView,e)}}function d6(){return new u6(be())}const dx=new Set;function fu(t){var e,n;dx.has(t)||(dx.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function hx(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function _6(){const t="function"==typeof _e.requestAnimationFrame;let e=_e[t?"requestAnimationFrame":"setTimeout"],n=_e[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function I6(t){const e=()=>{!function y6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vC(t),t.isCheckStableRunning=!0,_C(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function E6(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return fx(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),px(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return fx(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),px(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,vC(t),_C(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new Te(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,v6,hx,hx);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const v6={};function _C(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function px(t){t._nesting--,_C(t)}class gx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var pu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(pu||{});const mx={destroy(){}};function vx(t,e){var n,r,i;!e&&function qp(t){if(!hv()&&!function iw(){return Tl}())throw new Te(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:ze(fr);if(!function jl(t){return"browser"===(null!=t?t:ze(fr)).get(Lo)}(o))return mx;fu("NgAfterNextRender");const s=o.get(mg),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new Ix,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:pu.MixedReadWrite,u=()=>{a.unregister(g),h()},h=o.get(Ey).onDestroy(u),g=new yx(o,l,()=>{u(),t()});return a.register(g),{destroy:u}}class yx{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Se),this.errorHandler=e.get(Oa,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class Ix{constructor(){this.executingCallbacks=!1,this.buckets={[pu.EarlyRead]:new Set,[pu.Write]:new Set,[pu.MixedReadWrite]:new Set,[pu.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let mg=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of i)o();null===(r=this.handler)||void 0===r||r.execute()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>new t}),e})();function Cy(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Sr(i,a):2==o&&(r=Sr(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class Cx extends vy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ln(e);return new yg(n,this.ngModule)}}function bx(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class A6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ld(r);const i=this.injector.get(e,pC,r);return i!==pC||n===pC?i:this.parentInjector.get(e,n,r)}}class yg extends JM{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=bx(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return bx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Xo(t){return t.map(M0).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){var s;let a=(i=i||this.ngModule)instanceof si?i:null===(s=i)||void 0===s?void 0:s.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const l=a?new A6(e,a):e,u=l.get(tx,null);if(null===u)throw new Te(407,!1);const v={rendererFactory:u,sanitizer:l.get(Kz,null),inlineEffectRunner:null,afterRenderEventManager:l.get(mg,null),changeDetectionScheduler:l.get(ZM,null)},b=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?function VH(t,e,n,r){const o=r.get(NP,!1)||n===K.ShadowDom,s=t.selectRootElement(e,o);return function $H(t){DM(t)}(s),s}(b,r,this.componentDef.encapsulation,l):ry(b,A,function D6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let H=512;this.componentDef.signals?H|=4096:this.componentDef.onPush||(H|=16);let B=null;null!==R&&(B=Op(R,l,!0));const ue=eC(0,null,null,1,0,null,null,null,null,null,null),ge=cy(null,ue,null,H,null,null,v,b,l,null,B);let Ye,Ct;vp(ge);try{const fn=this.componentDef;let nr,sl=null;fn.findHostDirectiveDefs?(nr=[],sl=new Map,fn.findHostDirectiveDefs(fn,nr,sl),nr.push(fn)):nr=[fn];const A0=function R6(t,e){const n=t[nt],r=Kt;return t[r]=e,nh(n,r,2,"#host",null)}(ge,R),uue=function P6(t,e,n,r,i,o,s){const a=i[nt];!function M6(t,e,n,r){for(const i of t)e.mergedAttrs=Rc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Cy(e,e.mergedAttrs,!0),null!==n&&IM(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Op(e,i[Qr]));const u=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=cy(i,TM(n),null,h,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&nC(a,t,r.length-1),uy(i,g),i[t.index]=g}(A0,R,fn,nr,ge,v,b);Ct=Fc(ue,Kt),R&&function N6(t,e,n,r){if(r)Qo(t,n,["ng-version","17.2.2"]);else{const{attrs:i,classes:o}=function x0(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!to(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Qo(t,n,i),o&&o.length>0&&yM(t,n,o.join(" "))}}(b,fn,R,r),void 0!==n&&function k6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ct,this.ngContentSelectors,n),Ye=function x6(t,e,n,r,i,o){const s=Sn(),a=i[nt],l=Si(s,i);RM(a,i,s,n,null,r);for(let h=0;h<n.length;h++)Wi(uu(i,a,s.directiveStart+h,s),i);PM(a,i,s),l&&Wi(l,i);const u=uu(i,a,s.directiveStart+s.componentOffset,s);if(t[Un]=i[Un]=u,null!==o)for(const h of o)h(u,e);return Xw(a,s,i),u}(uue,fn,nr,sl,ge,[O6]),sC(ue,ge,null)}finally{Ip()}return new S6(this.componentType,Ye,Il(Ct,ge),ge,Ct)}}class S6 extends zz{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dg(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;oC(s[nt],s,i,e,n),this.previousInputValues.set(e,n),ug(Hi(this._tNode.index,s))}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function O6(){const t=Sn();Dt(be()[nt],t)}let ns=(()=>{class e{}return e.__NG_ELEMENT_ID__=F6,e})();function F6(){return function Ax(t,e){let n;const r=e[t.index];return vi(r)?n=r:(n=MM(r,e,null,t),e[t.index]=n,uy(e,n)),Sx(n,e,t,r),new Tx(n,t,e)}(Sn(),be())}const L6=ns,Tx=class extends L6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wv(this._hostTNode,this._hostLView);if(Cw(e)){const n=Jp(e,this._hostLView),r=Zp(e);return new ai(n[nt].data[r+8],n)}return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Dx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,rh(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function lu(t){return"function"==typeof t}(e);let h;if(u)h=n;else{const H=n||{};h=H.index,r=H.injector,i=H.projectableNodes,o=H.environmentInjector||H.ngModuleRef}const g=u?e:new yg(ln(e)),m=r||this.parentInjector;if(!o&&null==g.ngModule){const B=(u?m:this.parentInjector).get(si,null);B&&(o=B)}const v=ln(null!==(s=g.componentType)&&void 0!==s?s:{}),b=(null==v?void 0:v.id,null),A=null!==(l=null==b?void 0:b.firstChild)&&void 0!==l?l:null,R=g.create(m,i,A,o);return this.insertImpl(R.hostView,h,rh(this._hostTNode,b)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function vl(t){return vi(t[Rr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Rr],u=new Tx(l,l[_i],l[Rr]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return lg(s,i,o,r),e.attachToViewContainerRef(),wd(EC(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Dx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ig(this._lContainer,n);r&&(Cd(EC(this._lContainer),n),iy(r[nt],r))}detach(e){const n=this._adjustIndex(e,-1),r=ig(this._lContainer,n);return r&&null!=Cd(EC(this._lContainer),n)?new dg(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Dx(t){return t[8]}function EC(t){return t[8]||(t[8]=[])}let Sx=function Px(t,e,n,r){if(t[no])return;let i;i=8&n.type?Pn(r):function V6(t,e){const n=t[Wt],r=n.createComment(""),i=Si(e,t);return hu(n,oy(n,i),r,function MH(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[no]=i},wC=()=>!1;function an(t){let e=function Kx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ai(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Te(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Ty(t.inputs),s.inputTransforms=Ty(t.inputTransforms),s.declaredInputs=Ty(t.declaredInputs),s.outputs=Ty(t.outputs);const a=i.hostBindings;a&&a5(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&o5(t,l),u&&s5(t,u),r5(t,i),Mt(t.outputs,i.outputs),Ai(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===an&&(n=!1)}}e=Object.getPrototypeOf(e)}!function i5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rc(i.hostAttrs,n=Rc(n,i.hostAttrs))}}(r)}function r5(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function Ty(t){return t===Fe?{}:t===Pe?[]:t}function o5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function s5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function a5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Zx(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class gu{}class Jx{}class MC extends gu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cx(this);const i=xr(e);this._bootstrapComponents=Vo(i.bootstrap),this._r3Injector=RP(e,n,[{provide:gu,useValue:this},{provide:vy,useValue:this.componentFactoryResolver},...r],rr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xC extends Jx{constructor(e){super(),this.moduleType=e}create(e){return new MC(this.moduleType,e,[])}}class e1 extends gu{constructor(e){super(),this.componentFactoryResolver=new Cx(this),this.instance=null;const n=new Jr([...e.providers,{provide:gu,useValue:this},{provide:vy,useValue:this.componentFactoryResolver}],e.parent||Ll(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function NC(t,e,n=null){return new e1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Eg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $r(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function bo(t,e,n,r,i,o,s,a){const l=be(),u=mn(),h=t+Kt,g=u.firstCreatePass?function m5(t,e,n,r,i,o,s,a,l){const u=e.consts,h=nh(e,t,4,s||null,ko(u,a));tC(e,n,h,ko(u,l)),Dt(e,h);const g=h.tView=eC(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,u,l,e,n,r,i,o,s):u.data[h];ro(g,!1);const m=t1(u,l,g,t);Ed()&&sy(u,l,m,g),Wi(m,l);const v=MM(m,l,m,g);return l[h]=v,uy(l,v),function Rx(t,e,n){return wC(t,e,n)}(v,g,l),ml(g)&&Zw(u,l,g),null!=s&&Jw(l,g,a),bo}let t1=function n1(t,e,n,r){return Os(!0),e[Wt].createComment("")};function os(t,e,n,r){const i=be();return $r(i,Oo(),e)&&(mn(),js(Wn(),i,t,e,n,r)),os}function fh(t,e,n,r){return $r(t,Oo(),n)?e+Yt(n)+r:sn}function yi(t,e,n){const r=be();return $r(r,Oo(),e)&&Co(mn(),Wn(),r,t,e,r[Wt],n,!1),yi}function qC(t,e,n,r,i){const s=i?"class":"style";oC(t,n,e.inputs[s],s,r)}function he(t,e,n,r){const i=be(),o=mn(),s=Kt+t,a=i[Wt],l=o.firstCreatePass?function $G(t,e,n,r,i,o){const s=e.consts,l=nh(e,t,2,r,ko(s,i));return tC(e,n,l,ko(s,o)),null!==l.attrs&&Cy(l,l.attrs,!1),null!==l.mergedAttrs&&Cy(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=Q1(o,i,l,a,e,t);i[s]=u;const h=ml(l);return ro(l,!0),IM(a,u,l),32!=(32&l.flags)&&Ed()&&sy(o,i,u,l),0===function JR(){return qt.lFrame.elementDepthCount}()&&Wi(u,i),function eP(){qt.lFrame.elementDepthCount++}(),h&&(Zw(o,i,l),Xw(o,l,i)),null!==r&&Jw(i,l),he}function fe(){let t=Sn();yd()?gp():(t=t.parent,ro(t,!1));const e=t;(function dp(t){return qt.skipHydrationRootTNode===t})(e)&&function B0(){qt.skipHydrationRootTNode=null}(),function tP(){qt.lFrame.elementDepthCount--}();const n=mn();return n.firstCreatePass&&(Dt(n,t),xc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Hv(t){return 0!=(8&t.flags)}(e)&&qC(n,e,be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ww(t){return 0!=(16&t.flags)}(e)&&qC(n,e,be(),e.stylesWithoutHost,!1),fe}function wt(t,e,n,r){return he(t,e,n,r),fe(),wt}let Q1=(t,e,n,r,i,o)=>(Os(!0),ry(r,i,function W0(){return qt.lFrame.currentNamespace}()));const Ch="en-US";let rN=Ch;function tn(t,e,n,r){const i=be(),o=mn(),s=Sn();return function nb(t,e,n,r,i,o,s){const a=ml(r),u=t.firstCreatePass&&function kM(t){return t.cleanup||(t.cleanup=[])}(t),h=e[Un],g=function NM(t){return t[ma]||(t[ma]=[])}(e);let m=!0;if(3&r.type||s){const A=Si(r,e),R=s?s(A):A,H=g.length,B=s?ge=>s(Pn(ge[r.index])):r.index;let ue=null;if(!s&&a&&(ue=function U9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[ma],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==ue)(ue.__ngLastListenerFn__||ue).__ngNextListenerFn__=o,ue.__ngLastListenerFn__=o,m=!1;else{o=PN(r,e,h,o,!1);const ge=n.listen(R,i,o);g.push(o,ge),u&&u.push(i,B,H,H+1)}}else o=PN(r,e,h,o,!1);const v=r.outputs;let b;if(m&&null!==v&&(b=v[i])){const A=b.length;if(A)for(let R=0;R<A;R+=2){const Ye=e[b[R]][b[R+1]].subscribe(o),Ct=g.length;g.push(o,Ye),u&&u.push(i,r.index,Ct,"function"==typeof Ye?Ct+1:-(Ct+1))}}}(o,i,i[Wt],s,t,e,r),tn}function RN(t,e,n,r){try{return ot(6,e,n),!1!==n(r)}catch(i){return dy(t,i),!1}finally{ot(7,e,n)}}function PN(t,e,n,r,i){return function o(s){if(s===Function)return r;ug(t.componentOffset>-1?Hi(t.index,e):e);let l=RN(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=RN(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function qs(t=1){return function Ep(t){return(qt.lFrame.contextLView=function Y_(t,e){for(;t>0;)e=e[gs],t--;return e}(t,qt.lFrame.contextLView))[Un]}(t)}function j9(t,e){let n=null;const r=function P0(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?od(t,o,!0):ps(r,o))return i}else n=i}return n}function Uy(t,e,n){return rb(t,"",e,"",n),Uy}function rb(t,e,n,r,i){const o=be(),s=fh(o,e,n,r);return s!==sn&&Co(mn(),Wn(),o,t,s,o[Wt],i,!1),rb}function it(t,e=""){const n=be(),r=mn(),i=t+Kt,o=r.firstCreatePass?nh(r,i,1,e,null):r.data[i],s=KN(r,n,o,e,t);n[i]=s,Ed()&&sy(r,n,s,o),ro(o,!1)}let KN=(t,e,n,r,i)=>(Os(!0),function ny(t,e){return t.createText(e)}(e[Wt],r));function jy(t){return Th("",t,""),jy}function Th(t,e,n){const r=be(),i=fh(r,t,e,n);return i!==sn&&La(r,oi(),i),Th}function ob(t,e,n,r,i){if(t=zt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ob(t[o],e,n,r,i);else{const o=mn(),s=be(),a=Sn();let l=Ma(t)?t:zt(t.provide);const u=Gd(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Ma(t)||!t.multi){const v=new ka(u,i,E),b=ab(l,e,i?h:h+m,g);-1===b?(Dw(qv(a,s),o,l),sb(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[b]=v,s[b]=v)}else{const v=ab(l,e,h+m,g),b=ab(l,e,h,h+m),R=b>=0&&n[b];if(i&&!R||!i&&!(v>=0&&n[v])){Dw(qv(a,s),o,l);const H=function cq(t,e,n,r,i){const o=new ka(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,ok(o,i,r&&!n),o}(i?lq:aq,n.length,i,r,u);!i&&R&&(n[b].providerFactory=H),sb(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(H),s.push(H)}else sb(o,t,v>-1?v:b,ok(n[i?b:v],u,!i&&r));!i&&r&&R&&n[b].componentProviders++}}}function sb(t,e,n,r){const i=Ma(e),o=function Nv(t){return!!t.useClass}(e);if(i||o){const l=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(n);-1===h?u.push(n,[r,l]):u[h+1].push(r,l)}else u.push(n,l)}}}function ok(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ab(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function aq(t,e,n,r){return lb(this.multi,[])}function lq(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=uu(n,n[nt],this.providerFactory.index,r);o=a.slice(0,s),lb(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],lb(i,o);return o}function lb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>function sq(t,e,n){const r=mn();if(r.firstCreatePass){const i=Ai(t);ob(n,r.data,r.blueprint,i,!0),ob(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let uq=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Sv(0,r.type),o=i.length>0?NC([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=St({token:t,providedIn:"environment",factory:()=>new t(He(si))}),e})();function sk(t){fu("NgStandalone"),t.getStandaloneInjector=e=>e.get(uq).getOrCreateStandaloneInjector(t)}function gk(t,e,n,r,i,o){const s=e+n;return $r(t,s,i)?function Hs(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function xg(t,e){const n=t[e];return n===sn?void 0:n}(t,s+1)}function ub(t,e){const n=mn();let r;const i=t+Kt;var o;n.firstCreatePass?(r=function Pq(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(null!==(o=n.destroyHooks)&&void 0!==o?o:n.destroyHooks=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pa(r.type)),l=Gi(E);try{const u=Gv(!1),h=s();return Gv(u),function q9(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,be(),i,h),h}finally{Gi(l)}}function db(t,e,n){const r=t+Kt,i=be(),o=function _l(t,e){return t[e]}(i,r);return function Ng(t,e){return t[nt].data[e].pure}(i,r)?gk(i,function Zr(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}class Sh{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const r8=new Sh("17.2.2");let Ok=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const $k=new st(""),qy=new st("");let Ib,vb=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ib||(function R8(t){Ib=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Se),He(yb),He(qy))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})(),yb=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=Ib)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Fg(t){return!!t&&"function"==typeof t.then}function Bk(t){return!!t&&"function"==typeof t.subscribe}const Wy=new st("");let Eb=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=ze(Wy,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Fg(s))r.push(s);else if(Bk(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const wb=new st("");function Hk(t,e){return Array.isArray(e)?e.reduce(Hk,t):{...t,...e}}let Ql=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ze(MP),this.afterRenderEffectManager=ze(mg),this.componentTypes=[],this.components=[],this.isStable=ze(Eg).hasPendingTasks.pipe(mt(r=>!r)),this._injector=ze(si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof JM;if(!this._injector.get(Eb).done)throw!o&&function xs(t){const e=ln(t)||Jn(t)||ii(t);return null!==e&&e.standalone}(r),new Te(405,!1);let a;a=o?r:this._injector.get(vy).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function P8(t){return t.isBoundToModule}(a)?void 0:this._injector.get(gu),h=a.create(fr.NULL,[],i||a.selector,l),g=h.location.nativeElement,m=h.injector.get($k,null);return null==m||m.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Ky(this.components,h),null==m||m.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(100===r)throw new Te(103,!1);const i=0===r;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!zk(o)||this.detectChangesInView(o,s,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>zk(i)))}detectChangesInView(r,i,o){let s;o?(s=0,r[$t]|=1024):s=64&r[$t]?0:1,hy(r,i,s)}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ky(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(wb,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ky(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Te(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function zk(t){return lp(t)}class x8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Gk=(()=>{var t;class e{compileModuleSync(r){return new xC(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Vo(xr(r).declarations).reduce((a,l)=>{const u=ln(l);return u&&a.push(new yg(u)),a},[]);return new x8(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),O8=(()=>{var t;class e{constructor(){this.zone=ze(Se),this.applicationRef=ze(Ql)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function F8(){const t=ze(Se),e=ze(Oa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let V8=(()=>{var t;class e{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=ze(Se),this.pendingTasks=ze(Eg)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;Se.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $a=new st("",{providedIn:"root",factory:()=>ze($a,Gt.Optional|Gt.SkipSelf)||function $8(){return typeof $localize<"u"&&$localize.locale||Ch}()}),Cb=new st("");let Yk=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function w6(t="zone.js",e){return"noop"===t?new gx:"zone.js"===t?new Se(e):t}(null==i?void 0:i.ngZone,function Kk(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function g5(t,e,n){return new MC(t,e,n)}(r.moduleType,this.injector,function Wk(t){return[{provide:Se,useFactory:t},{provide:es,multi:!0,useFactory:()=>{const e=ze(O8,{optional:!0});return()=>e.initialize()}},{provide:es,multi:!0,useFactory:()=>{const e=ze(V8);return()=>{e.initialize()}}},{provide:MP,useFactory:F8}]}(()=>o)),a=s.injector.get(Oa,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Ky(this._modules,s),l.unsubscribe()})}),function jk(t,e,n){try{const r=n();return Fg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(Eb);return l.runInitializers(),l.donePromise.then(()=>(function iN(t){"string"==typeof t&&(rN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get($a,Ch)||Ch),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=Hk({},i);return function k8(t,e,n){const r=new xC(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Ql);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new Te(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Cb,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(He(fr))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Xl=null;const Qk=new st("");function Xk(t,e,n=[]){const r=`Platform: ${e}`,i=new st(r);return(o=[])=>{let s=bb();if(!s||s.injector.get(Qk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function j8(t){if(Xl&&!Xl.get(Qk,!1))throw new Te(400,!1);(function Uk(){!function Ce(t){Tt=t}(()=>{throw new Te(600,!1)})})(),Xl=t;const e=t.get(Yk);(function Jk(t){const e=t.get(rv,null);null==e||e.forEach(n=>n())})(t)}(function Zk(t=[],e){return fr.create({name:e,providers:[{provide:au,useValue:"platform"},{provide:Cb,useValue:new Set([()=>Xl=null])},...t]})}(a,r))}return function H8(t){const e=bb();if(!e)throw new Te(401,!1);return e}()}}function bb(){var t,e;return null!==(t=null===(e=Xl)||void 0===e?void 0:e.get(Yk))&&void 0!==t?t:null}const K8=Xk(null,"core",[]);let Y8=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Ql))},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({}),e})();function Ph(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function TO(t){const e=ln(t);if(!e)return null;const n=new yg(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let Mb=null;function Zl(){return Mb}class TW{}const Do=new st("");let xb=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>ze(AW),providedIn:"platform"}),e})();const DW=new st("");let AW=(()=>{var t;class e extends xb{constructor(){super(),this._doc=ze(Do),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zl().getBaseHref(this._doc)}onPopState(r){const i=Zl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Zl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>new t,providedIn:"platform"}),e})();function Nb(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function DO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ba(t){return t&&"?"!==t[0]?"?"+t:t}let Ts=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>ze(SO),providedIn:"root"}),e})();const AO=new st("");let SO=(()=>{var t;class e extends Ts{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=ze(Do).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Nb(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ba(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Ba(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Ba(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(He(xb),He(AO,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),RO=(()=>{var t;class e extends Ts{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=Nb(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ba(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ba(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(He(xb),He(AO,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})(),Jl=(()=>{var t;class e{constructor(r){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function PW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(DO(PO(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ba(i))}normalize(r){return e.stripTrailingSlash(function RW(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,PO(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ba(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ba(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Ba,t.joinWithSlash=Nb,t.stripTrailingSlash=DO,t.\u0275fac=function(r){return new(r||t)(He(Ts))},t.\u0275prov=St({token:t,factory:()=>function SW(){return new Jl(He(Ts))}(),providedIn:"root"}),e})();function PO(t){return t.replace(/\/index.html$/,"")}class _7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zb=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new _7(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),UO(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{UO(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ns),E(ws),E(mC))},t.\u0275dir=kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function UO(t,e){t.context.$implicit=e.item}let jg=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new v7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jO("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jO("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ns),E(ws))},t.\u0275dir=kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class v7{constructor(){this.$implicit=null,this.ngIf=null}}function jO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rr(e)}'.`)}class b7{createSubscription(e,n){return ix(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){ix(()=>e.unsubscribe())}}class T7{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const D7=new T7,A7=new b7;let Kb=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Fg(r))return D7;if(Bk(r))return A7;throw function As(t,e){return new Te(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(E(at,16))},t.\u0275pipe=Ui({name:"async",type:t,pure:!1,standalone:!0}),e})(),GO=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({}),e})();const qO="browser";function hI(t){return"server"===t}let Y7=(()=>{var t;class e{}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>function K7(t){return t===qO}(ze(Lo))?new Q7(ze(Do),window):new Z7}),e})();class Q7{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function X7(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class Z7{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class AK extends TW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zb extends AK{static makeCurrent(){!function bW(t){var e;null!==(e=Mb)&&void 0!==e||(Mb=t)}(new Zb)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function SK(){return Gg=Gg||document.querySelector("base"),Gg?Gg.getAttribute("href"):null}();return null==n?null:function RK(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Gg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function p7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Gg=null,MK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const Jb=new st("");let tF=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Te(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Jb),He(Se))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class nF{constructor(e){this._doc=e}}const eT="ng-app-id";let rF=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hI(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${eT}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(eT),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(eT,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Do),He(Rd),He(Pd,8),He(Lo))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const tT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nT=/%COMP%/g,OK=new st("",{providedIn:"root",factory:()=>!0});function oF(t,e){return e.map(n=>n.replace(nT,t))}let sF=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=hI(l),this.defaultRenderer=new rT(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===K.ShadowDom&&(i={...i,encapsulation:K.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof lF?o.applyToHost(r):o instanceof iT&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case K.Emulated:s=new lF(u,h,i,this.appId,g,a,l,m);break;case K.ShadowDom:return new $K(u,h,r,i,a,l,this.nonce,m);default:s=new iT(u,h,i,g,a,l,m)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(He(tF),He(rF),He(Rd),He(OK),He(Do),He(Lo),He(Se),He(Pd))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class rT{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Te(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=tT[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=tT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Hl.DashCase|Hl.Important)?e.style.setProperty(n,r,i&Hl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Hl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Zl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function aF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class $K extends rT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=oF(i.id,i.styles);for(const h of u){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iT extends rT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?oF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lF extends iT{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function FK(t){return"_ngcontent-%COMP%".replace(nT,t)}(u),this.hostAttr=function LK(t){return"_nghost-%COMP%".replace(nT,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let BK=(()=>{var t;class e extends nF{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Do))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const cF=["alt","control","meta","shift"],UK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let HK=(()=>{var t;class e extends nF{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zl().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),cF.forEach(h=>{const g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=UK[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cF.forEach(a=>{a!==o&&(0,jK[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Do))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const dF=[{provide:Lo,useValue:qO},{provide:rv,useValue:function zK(){Zb.makeCurrent()},multi:!0},{provide:Do,useFactory:function qK(){return function Da(t){Ta=t}(document),document},deps:[]}],WK=Xk(K8,"browser",dF),KK=new st(""),hF=[{provide:qy,useClass:class PK{addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Te(5103,!1);return o},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Zl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:$k,useClass:vb,deps:[Se,yb,qy]},{provide:vb,useClass:vb,deps:[Se,yb,qy]}],fF=[{provide:au,useValue:"root"},{provide:Oa,useFactory:function GK(){return new Oa},deps:[]},{provide:Jb,useClass:BK,multi:!0,deps:[Do,Se,Lo]},{provide:Jb,useClass:HK,multi:!0,deps:[Do]},sF,rF,tF,{provide:tx,useExisting:sF},{provide:class J7{},useClass:MK,deps:[]},[]];let YK=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Rd,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(He(KK,12))},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({providers:[...fF,...hF],imports:[GO,Y8]}),e})(),QK=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Do))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var lt=oe(1316);const oT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _F(t){return yt(null==t?void 0:t.then)}function vF(t){return yt(t[gi])}function yF(t){return Symbol.asyncIterator&&yt(null==t?void 0:t[Symbol.asyncIterator])}function IF(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const EF=function tY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wF(t){return yt(null==t?void 0:t[EF])}function CF(t){return(0,lt.o7)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,lt.U1)(n.read());if(i)return yield(0,lt.U1)(void 0);yield yield(0,lt.U1)(r)}}finally{n.releaseLock()}})}function bF(t){return yt(null==t?void 0:t.getReader)}function Ao(t){if(t instanceof Rn)return t;if(null!=t){if(vF(t))return function nY(t){return new Rn(e=>{const n=t[gi]();if(yt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(oT(t))return function rY(t){return new Rn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(_F(t))return function iY(t){return new Rn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gn)})}(t);if(yF(t))return TF(t);if(wF(t))return function oY(t){return new Rn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(bF(t))return function sY(t){return TF(CF(t))}(t)}throw IF(t)}function TF(t){return new Rn(e=>{(function aY(t,e){var n,r,i,o;return(0,lt.kH)(this,void 0,void 0,function*(){try{for(n=(0,lt.mA)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ha(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ec(t,e=0){return Et((n,r)=>{n.subscribe(Ot(r,i=>Ha(r,t,()=>r.next(i),e),()=>Ha(r,t,()=>r.complete(),e),i=>Ha(r,t,()=>r.error(i),e)))})}function xh(t,e=0){return Et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DF(t,e){if(!t)throw new Error("Iterable cannot be null");return new Rn(n=>{Ha(n,e,()=>{const r=t[Symbol.asyncIterator]();Ha(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jn(t,e){return e?function fY(t,e){if(null!=t){if(vF(t))return function lY(t,e){return Ao(t).pipe(xh(e),ec(e))}(t,e);if(oT(t))return function uY(t,e){return new Rn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(_F(t))return function cY(t,e){return Ao(t).pipe(xh(e),ec(e))}(t,e);if(yF(t))return DF(t,e);if(wF(t))return function dY(t,e){return new Rn(n=>{let r;return Ha(n,e,()=>{r=t[EF](),Ha(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>yt(null==r?void 0:r.return)&&r.return()})}(t,e);if(bF(t))return function hY(t,e){return DF(CF(t),e)}(t,e)}throw IF(t)}(t,e):Ao(t)}function sT(t){return t[t.length-1]}function Wg(t){return function pY(t){return t&&yt(t.schedule)}(sT(t))?t.pop():void 0}function Bt(...t){return jn(t,Wg(t))}const{isArray:mY}=Array,{getPrototypeOf:_Y,prototype:vY,keys:yY}=Object;const{isArray:EY}=Array;function gI(...t){const e=Wg(t),n=function AF(t){return yt(sT(t))?t.pop():void 0}(t),{args:r,keys:i}=function SF(t){if(1===t.length){const e=t[0];if(mY(e))return{args:e,keys:null};if(function IY(t){return t&&"object"==typeof t&&_Y(t)===vY}(e)){const n=yY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return jn([],e);const o=new Rn(function CY(t,e,n=ur){return r=>{PF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)PF(e,()=>{const u=jn(t[l],e);let h=!1;u.subscribe(Ot(r,g=>{o[l]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function RF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):ur));return n?o.pipe(function aT(t){return mt(e=>function wY(t,e){return EY(e)?t(...e):t(e)}(t,e))}(n)):o}function PF(t,e,n){t?Ha(n,t,e):e()}const mI=Re(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pi(t,e,n=1/0){return yt(e)?Pi((r,i)=>mt((o,s)=>e(r,o,i,s))(Ao(t(r,i))),n):("number"==typeof e&&(n=e),Et((r,i)=>function bY(t,e,n,r,i,o,s,a){const l=[];let u=0,h=0,g=!1;const m=()=>{g&&!l.length&&!u&&e.complete()},v=A=>u<r?b(A):l.push(A),b=A=>{o&&e.next(A),u++;let R=!1;Ao(n(A,h++)).subscribe(Ot(e,H=>{null==i||i(H),o?v(H):e.next(H)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;l.length&&u<r;){const H=l.shift();s?Ha(e,s,()=>b(H)):b(H)}m()}catch(H){e.error(H)}}))};return t.subscribe(Ot(e,v,()=>{g=!0,m()})),()=>{null==a||a()}}(r,i,t,n)))}function Nh(t=1/0){return Pi(ur,t)}function lT(...t){return function TY(){return Nh(1)}()(jn(t,Wg(t)))}function MF(t){return new Rn(e=>{Ao(t()).subscribe(e)})}function _I(t,e){const n=yt(t)?t:()=>t,r=i=>i.error(n());return new Rn(e?i=>e.schedule(r,0,i):r)}const Ws=new Rn(t=>t.complete());function cT(){return Et((t,e)=>{let n=null;t._refCount++;const r=Ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class xF extends Rn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ut(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;const n=this.getSubject();e.add(this.source.subscribe(Ot(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return cT()(this)}}function Pr(t,e){return Et((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ot(r,l=>{null==i||i.unsubscribe();let u=0;const h=o++;Ao(t(l,h)).subscribe(i=Ot(r,g=>r.next(e?e(l,g,h,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function kh(t){return t<=0?()=>Ws:Et((e,n)=>{let r=0;e.subscribe(Ot(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vI(...t){const e=Wg(t);return Et((n,r)=>{(e?lT(t,n,e):lT(t,n)).subscribe(r)})}function Bo(t,e){return Et((n,r)=>{let i=0;n.subscribe(Ot(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yI(t){return Et((e,n)=>{let r=!1;e.subscribe(Ot(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function NF(t=AY){return Et((e,n)=>{let r=!1;e.subscribe(Ot(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function AY(){return new mI}function tc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Bo((i,o)=>t(i,o,r)):ur,kh(1),n?yI(e):NF(()=>new mI))}function Kg(t,e){return yt(e)?Pi(t,e,1):Pi(t,1)}function Mi(t,e,n){const r=yt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ot(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ur}function Eu(t){return Et((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ot(n,void 0,void 0,s=>{o=Ao(t(s,Eu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function II(t,e){return Et(function SY(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Ot(s,h=>{const g=u++;l=a?t(l,h,g):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function uT(t){return t<=0?()=>Ws:Et((e,n)=>{let r=[];e.subscribe(Ot(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dT(t){return Et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const cn="primary",Yg=Symbol("RouteTitle");class xY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Oh(t){return new xY(t)}function NY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ks(t,e){const n=t?hT(t):void 0,r=e?hT(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kF(t[i],e[i]))return!1;return!0}function hT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function OF(t){return t.length>0?t[t.length-1]:null}function nc(t){return function eY(t){return!!t&&(t instanceof Rn||yt(t.lift)&&yt(t.subscribe))}(t)?t:Fg(t)?jn(Promise.resolve(t)):Bt(t)}const OY={exact:function VF(t,e,n){if(!wu(t.segments,e.segments)||!EI(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!VF(t.children[r],e.children[r],n))return!1;return!0},subset:$F},FF={exact:function FY(t,e){return Ks(t,e)},subset:function LY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kF(t[n],e[n]))},ignored:()=>!0};function LF(t,e,n){return OY[n.paths](t.root,e.root,n.matrixParams)&&FF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $F(t,e,n){return BF(t,e,e.segments,n)}function BF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!wu(i,n)||e.hasChildren()||!EI(i,n,r))}if(t.segments.length===n.length){if(!wu(t.segments,n)||!EI(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!$F(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(wu(t.segments,i)&&EI(t.segments,i,r)&&t.children[cn])&&BF(t.children[cn],e,o,r)}}function EI(t,e,n){return e.every((r,i)=>FF[n](t[i].parameters,r.parameters))}class Fh{constructor(e=new Yn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=Oh(this.queryParams)),this._queryParamMap}toString(){return BY.serialize(this)}}class Yn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wI(this)}}class Qg{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=Oh(this.parameters)),this._parameterMap}toString(){return HF(this)}}function wu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Cu=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>new fT,providedIn:"root"}),e})();class fT{parse(e){const n=new XY(e);return new Fh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Xg(e.root,!0)}`,r=function HY(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${CI(n)}=${CI(i)}`).join("&"):`${CI(n)}=${CI(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function UY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const BY=new fT;function wI(t){return t.segments.map(e=>HF(e)).join("/")}function Xg(t,e){if(!t.hasChildren())return wI(t);if(e){const n=t.children[cn]?Xg(t.children[cn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==cn&&r.push(`${i}:${Xg(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $Y(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===cn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==cn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===cn?[Xg(t.children[cn],!1)]:[`${i}:${Xg(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[cn]?`${wI(t)}/${n[0]}`:`${wI(t)}/(${n.join("//")})`}}function UF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CI(t){return UF(t).replace(/%3B/gi,";")}function pT(t){return UF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bI(t){return decodeURIComponent(t)}function jF(t){return bI(t.replace(/\+/g,"%20"))}function HF(t){return`${pT(t.path)}${function jY(t){return Object.entries(t).map(([e,n])=>`;${pT(e)}=${pT(n)}`).join("")}(t.parameters)}`}const zY=/^[^\/()?;#]+/;function gT(t){const e=t.match(zY);return e?e[0]:""}const GY=/^[^\/()?;=#]+/,WY=/^[^=?&#]+/,YY=/^[^&#]+/;class XY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[cn]=new Yn(e,n)),r}parseSegment(){const e=gT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Te(4009,!1);return this.capture(e),new Qg(bI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function qY(t){const e=t.match(GY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gT(this.remaining);i&&(r=i,this.capture(r))}e[bI(n)]=bI(r)}parseQueryParam(e){const n=function KY(t){const e=t.match(WY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function QY(t){const e=t.match(YY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=jF(n),o=jF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=cn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[cn]:new Yn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Te(4011,!1)}}function zF(t){return t.segments.length>0?new Yn([],{[cn]:t}):t}function GF(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=GF(i);if(r===cn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ZY(t){if(1===t.numberOfChildren&&t.children[cn]){const e=t.children[cn];return new Yn(t.segments.concat(e.segments),e.children)}return t}(new Yn(t.segments,e))}function Lh(t){return t instanceof Fh}function qF(t){var e;let n;const o=zF(function r(s){const a={};for(const u of s.children){const h=r(u);a[u.outlet]=h}const l=new Yn(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function WF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mT(i,i,i,n,r);const o=function eQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YF(n,e,r)}(e);if(o.toRoot())return mT(i,i,new Yn([],{}),n,r);const s=function tQ(t,e,n){if(t.isAbsolute)return new DI(e,!0,0);if(!n)return new DI(e,!1,NaN);if(null===n.parent)return new DI(n,!0,0);const r=TI(t.commands[0])?0:1;return function nQ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Te(4005,!1);i=r.segments.length}return new DI(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Jg(s.segmentGroup,s.index,o.commands):QF(s.segmentGroup,s.index,o.commands);return mT(i,s.segmentGroup,a,n,r)}function TI(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zg(t){return"object"==typeof t&&null!=t&&t.outlets}function mT(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=t===e?n:KF(t,e,n);const a=zF(GF(s));return new Fh(a,o,i)}function KF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:KF(o,e,n)}),new Yn(t.segments,r)}class YF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&TI(r[0]))throw new Te(4003,!1);const i=r.find(Zg);if(i&&i!==OF(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function QF(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Yn([],{})),0===t.segments.length&&t.hasChildren())return Jg(t,e,n);const i=function iQ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Zg(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!ZF(l,u,s))return o;r+=2}else{if(!ZF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Yn(t.segments.slice(0,i.pathIndex),{});return s.children[cn]=new Yn(t.segments.slice(i.pathIndex),t.children),Jg(s,0,o)}return i.match&&0===o.length?new Yn(t.segments,{}):i.match&&!t.hasChildren()?_T(t,e,n):i.match?Jg(t,0,o):_T(t,e,n)}function Jg(t,e,n){if(0===n.length)return new Yn(t.segments,{});{const r=function rQ(t){return Zg(t[0])?t[0].outlets:{[cn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==cn)&&t.children[cn]&&1===t.numberOfChildren&&0===t.children[cn].segments.length){const o=Jg(t.children[cn],e,n);return new Yn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=QF(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Yn(t.segments,i)}}function _T(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Zg(o)){const l=oQ(o.outlets);return new Yn(r,l)}if(0===i&&TI(n[0])){r.push(new Qg(t.segments[e].path,XF(n[0]))),i++;continue}const s=Zg(o)?o.outlets[cn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&TI(a)?(r.push(new Qg(s,XF(a))),i+=2):(r.push(new Qg(s,{})),i++)}return new Yn(r,{})}function oQ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_T(new Yn([],{}),0,r))}),e}function XF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZF(t,e,n){return t==n.path&&Ks(e,n.parameters)}const em="imperative";var bn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(bn||{});class Ys{constructor(e,n){this.id=e,this.url=n}}class tm extends Ys{constructor(e,n,r="imperative",i=null){super(e,n),this.type=bn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class za extends Ys{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=bn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ls=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ls||{}),AI=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(AI||{});class Vh extends Ys{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=bn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $h extends Ys{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=bn.NavigationSkipped}}class SI extends Ys{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=bn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JF extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sQ extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aQ extends Ys{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=bn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lQ extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cQ extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uQ{constructor(e){this.route=e,this.type=bn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dQ{constructor(e){this.route=e,this.type=bn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hQ{constructor(e){this.snapshot=e,this.type=bn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fQ{constructor(e){this.snapshot=e,this.type=bn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pQ{constructor(e){this.snapshot=e,this.type=bn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gQ{constructor(e){this.snapshot=e,this.type=bn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=bn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vT{}class yT{constructor(e){this.url=e}}class mQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bu,this.attachRef=null}}let bu=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new mQ,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class tL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=IT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=IT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=ET(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ET(e,this._root).map(n=>n.value)}}function IT(t,e){if(t===e.value)return e;for(const n of e.children){const r=IT(t,n);if(r)return r}return null}function ET(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ET(t,n);if(r.length)return r.unshift(e),r}return[]}class Ss{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Bh(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nL extends tL{constructor(e,n){super(e),this.snapshot=n,bT(this,e)}toString(){return this.snapshot.toString()}}function rL(t){const e=function _Q(t){const o=new CT([],{},{},"",{},cn,t,null,{});return new iL("",new Ss(o,[]))}(t),n=new q([new Qg("",{})]),r=new q({}),i=new q({}),o=new q({}),s=new q(""),a=new Qs(n,r,o,s,i,cn,t,e.root);return a.snapshot=e.root,new nL(new Ss(a,[]),e)}class Qs{constructor(e,n,r,i,o,s,a,l){var u,h;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(h=this.dataSubject)||void 0===h?void 0:h.pipe(mt(g=>g[Yg])))&&void 0!==u?u:Bt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(mt(n=>Oh(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(mt(n=>Oh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wT(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&sL(o)&&(i.resolve[Yg]=o.title),i}class CT{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[Yg]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=Oh(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=Oh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iL extends tL{constructor(e,n){super(n),this.url=e,bT(this,n)}toString(){return oL(this._root)}}function bT(t,e){e.value._routerState=t,e.children.forEach(n=>bT(t,n))}function oL(t){const e=t.children.length>0?` { ${t.children.map(oL).join(", ")} } `:"";return`${t.value}${e}`}function TT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ks(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ks(e.params,n.params)||t.paramsSubject.next(n.params),function kY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ks(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ks(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function DT(t,e){const n=Ks(t.params,e.params)&&function VY(t,e){return wu(t,e)&&t.every((n,r)=>Ks(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||DT(t.parent,e.parent))}function sL(t){return"string"==typeof t.title||null===t.title}let aL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=ze(bu),this.location=ze(ns),this.changeDetector=ze(at),this.environmentInjector=ze(si),this.inputBinder=ze(RI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new Te(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new vQ(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:h,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=kt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f]}),e})();class vQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qs?this.route:e===bu?this.childContexts:this.parent.get(e,n)}}const RI=new st("");let lL=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=gI([i.queryParams,i.params,i.data]).pipe(Pr(([s,a,l],u)=>(l={...s,...a,...l},0===u?Bt(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=TO(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();function nm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function IQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nm(t,r,i);return nm(t,r)})}(t,e,n);return new Ss(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nm(t,a)),s}}const r=function EQ(t){return new Qs(new q(t.url),new q(t.params),new q(t.queryParams),new q(t.fragment),new q(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>nm(t,o));return new Ss(r,i)}}const cL="ngNavigationCancelingError";function uL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Lh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dL(!1,ls.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dL(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[cL]=!0,n.cancellationCode=e,n}function hL(t){return!!t&&t[cL]}let fL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=qe({type:t,selectors:[["ng-component"]],standalone:!0,features:[sk],decls:1,vars:0,template:function(r,i){1&r&&wt(0,"router-outlet")},dependencies:[aL],encapsulation:2}),e})();function AT(t){const e=t.children&&t.children.map(AT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=fL),n}function Xs(t){return t.outlet||cn}function rm(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class RQ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),TT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Bh(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Bh(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gQ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(TT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),TT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=rm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class pL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class PI{constructor(e,n){this.component=e,this.route=n}}function PQ(t,e,n){const r=t._root;return im(r,e?e._root:null,n,[r.value])}function Uh(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function ev(t){return null!==Cl(t)}(t)?e.get(t):t:r}function im(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bh(e);return t.children.forEach(s=>{(function xQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function NQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wu(t.url,e.url)||!Ks(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DT(t,e)||!Ks(t.queryParams,e.queryParams);default:return!DT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),im(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new PI(a.outlet.component,s))}else s&&om(e,a,i),i.canActivateChecks.push(new pL(r)),im(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>om(a,n.getContext(s),i)),i}function om(t,e,n){const r=Bh(t),i=t.value;Object.entries(r).forEach(([o,s])=>{om(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new PI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function sm(t){return"function"==typeof t}function gL(t){return t instanceof mI||"EmptyError"===(null==t?void 0:t.name)}const MI=Symbol("INITIAL_VALUE");function jh(){return Pr(t=>gI(t.map(e=>e.pipe(kh(1),vI(MI)))).pipe(mt(e=>{for(const n of e)if(!0!==n){if(n===MI)return MI;if(!1===n||n instanceof Fh)return n}return!0}),Bo(e=>e!==MI),kh(1)))}function mL(t){return function vo(...t){return yo(t)}(Mi(e=>{if(Lh(e))throw uL(0,e)}),mt(e=>!0===e))}class ST{constructor(e){this.segmentGroup=e||null}}class RT extends Error{constructor(e){super(),this.urlTree=e}}function Hh(t){return _I(new ST(t))}class ZQ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Bt(r);if(i.numberOfChildren>1||!i.children[cn])return _I(new Te(4e3,!1));i=i.children[cn]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new RT(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Fh(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Yn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Te(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const PT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JQ(t,e,n,r,i){const o=MT(t,e,n);return o.matched?(r=function CQ(t,e){var n;return t.providers&&!t._injector&&(t._injector=NC(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function YQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Bt(i.map(s=>{const a=Uh(s,t);return nc(function $Q(t){return t&&sm(t.canMatch)}(a)?a.canMatch(e,n):Bs(t,()=>a(e,n)))})).pipe(jh(),mL()):Bt(!0)}(r,e,n).pipe(mt(s=>!0===s?o:{...PT}))):Bt(o)}function MT(t,e,n){var r,i;if("**"===e.path)return function eX(t){return{matched:!0,parameters:t.length>0?OF(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...PT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||NY)(n,t,e);if(!s)return{...PT};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,h])=>{a[u]=h.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function _L(t,e,n,r){return n.length>0&&function rX(t,e,n){return n.some(r=>xI(t,e,r)&&Xs(r)!==cn)}(t,n,r)?{segmentGroup:new Yn(e,nX(r,new Yn(n,t.children))),slicedSegments:[]}:0===n.length&&function iX(t,e,n){return n.some(r=>xI(t,e,r))}(t,n,r)?{segmentGroup:new Yn(t.segments,tX(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Yn(t.segments,t.children),slicedSegments:n}}function tX(t,e,n,r){const i={};for(const o of n)if(xI(t,e,o)&&!r[Xs(o)]){const s=new Yn([],{});i[Xs(o)]=s}return{...r,...i}}function nX(t,e){const n={};n[cn]=e;for(const r of t)if(""===r.path&&Xs(r)!==cn){const i=new Yn([],{});n[Xs(r)]=i}return n}function xI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class aX{}class uX{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ZQ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Te(4002,`'${e.segmentGroup}'`)}recognize(){const e=_L(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(mt(n=>{const r=new CT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,{}),i=new Ss(r,n),o=new iL("",i),s=function JY(t,e,n=null,r=null){return WF(qF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,cn).pipe(Eu(r=>{if(r instanceof RT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ST?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=wT(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(mt(o=>o instanceof Ss?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return jn(i).pipe(Kg(o=>{const s=r.children[o],a=function AQ(t,e){const n=t.filter(r=>Xs(r)===e);return n.push(...t.filter(r=>Xs(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),II((o,s)=>(o.push(...s),o)),yI(null),function RY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Bo((i,o)=>t(i,o,r)):ur,uT(1),n?yI(e):NF(()=>new mI))}(),Pi(o=>{if(null===o)return Hh(r);const s=vL(o);return function dX(t){t.sort((e,n)=>e.value.outlet===cn?-1:n.value.outlet===cn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Bt(s)}))}processSegment(e,n,r,i,o,s){return jn(n).pipe(Kg(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(Eu(u=>{if(u instanceof ST)return Bt(null);throw u}))}),tc(a=>!!a),Eu(a=>{if(gL(a))return function sX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Bt(new aX):Hh(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function oX(t,e,n,r){return!!(Xs(t)===r||r!==cn&&xI(e,n,t))&&MT(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Hh(i):Hh(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=MT(n,i,o);if(!a)return Hh(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,g).pipe(Pi(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=JQ(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(Pr(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(Pr(({routes:u})=>{var h,g,m;const v=null!==(h=r._loadedInjector)&&void 0!==h?h:e,{consumedSegments:b,remainingSegments:A,parameters:R}=a,H=new CT(b,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function fX(t){return t.data||{}}(r),Xs(r),null!==(g=null!==(m=r.component)&&void 0!==m?m:r._loadedComponent)&&void 0!==g?g:null,r,function pX(t){return t.resolve||{}}(r)),{segmentGroup:B,slicedSegments:ue}=_L(n,b,A,u);if(0===ue.length&&B.hasChildren())return this.processChildren(v,u,B).pipe(mt(Ye=>null===Ye?null:new Ss(H,Ye)));if(0===u.length&&0===ue.length)return Bt(new Ss(H,[]));const ge=Xs(r)===o;return this.processSegment(v,u,B,ue,ge?cn:o,!0).pipe(mt(Ye=>new Ss(H,Ye instanceof Ss?[Ye]:[])))}))):Hh(n)}))}getChildConfig(e,n,r){return n.children?Bt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Bt({routes:n._loadedRoutes,injector:n._loadedInjector}):function KQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Bt(!0):Bt(i.map(s=>{const a=Uh(s,t);return nc(function OQ(t){return t&&sm(t.canLoad)}(a)?a.canLoad(e,n):Bs(t,()=>a(e,n)))})).pipe(jh(),mL())}(e,n,r).pipe(Pi(i=>i?this.configLoader.loadChildren(e,n).pipe(Mi(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function XQ(t){return _I(dL(!1,ls.GuardRejected))}())):Bt({routes:[],injector:e})}}function hX(t){const e=t.value.routeConfig;return e&&""===e.path}function vL(t){const e=[],n=new Set;for(const r of t){if(!hX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=vL(r.children);e.push(new Ss(r.value,i))}return e.filter(r=>!n.has(r))}function yL(t){const e=t.children.map(n=>yL(n)).flat();return[t,...e]}function xT(t){return Pr(e=>{const n=t(e);return n?jn(n).pipe(mt(()=>e)):Bt(e)})}let IL=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===cn)}return i}getResolvedTitleForRoute(r){return r.data[Yg]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>ze(IX),providedIn:"root"}),e})(),IX=(()=>{var t;class e extends IL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(He(QK))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const zh=new st("",{providedIn:"root",factory:()=>({})}),Gh=new st("");let NT=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ze(Gk)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Bt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=nc(r.loadComponent()).pipe(mt(EL),Mi(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),dT(()=>{this.componentLoaders.delete(r)})),o=new xF(i,()=>new L).pipe(cT());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function EX(t,e,n,r){return nc(t.loadChildren()).pipe(mt(EL),Pi(i=>i instanceof Jx||Array.isArray(i)?Bt(i):jn(e.compileModuleAsync(i))),mt(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Gh,[],{optional:!0,self:!0}).flat()),{routes:s.map(AT),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(dT(()=>{this.childrenLoaders.delete(i)})),a=new xF(s,()=>new L).pipe(cT());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EL(t){return function wX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let kT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>ze(CX),providedIn:"root"}),e})(),CX=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const wL=new st(""),CL=new st("");function bX(t,e,n){const r=t.get(CL),i=t.get(Do);return t.get(Se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function TX(t){return new Promise(e=>{vx(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&Bs(t,()=>l({transition:a,from:e,to:n})),s})}let NI=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new L,this.transitionAbortSubject=new L,this.configLoader=ze(NT),this.environmentInjector=ze(si),this.urlSerializer=ze(Cu),this.rootContexts=ze(bu),this.location=ze(Jl),this.inputBindingEnabled=null!==ze(RI,{optional:!0}),this.titleStrategy=ze(IL),this.options=ze(zh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ze(kT),this.createViewTransition=ze(wL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new dQ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new uQ(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new q({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:em,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bo(s=>0!==s.id),mt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pr(s=>{this.currentTransition=s;let a=!1,l=!1;return Bt(s).pipe(Mi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pr(u=>{var h;const g=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=null!==(h=u.extras.onSameUrlNavigation)&&void 0!==h?h:r.onSameUrlNavigation;if(!g&&"reload"!==m){const v="";return this.events.next(new $h(u.id,this.urlSerializer.serialize(u.rawUrl),v,AI.IgnoredSameUrlNavigation)),u.resolve(null),Ws}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Bt(u).pipe(Pr(v=>{var b,A;const R=null===(b=this.transitions)||void 0===b?void 0:b.getValue();return this.events.next(new tm(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),R!==(null===(A=this.transitions)||void 0===A?void 0:A.getValue())?Ws:Promise.resolve(v)}),function gX(t,e,n,r,i,o){return Pi(s=>function lX(t,e,n,r,i,o,s="emptyOnly"){return new uX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(mt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Mi(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const b=new JF(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:v,extractedUrl:b,source:A,restoredState:R,extras:H}=u,B=new tm(v,this.urlSerializer.serialize(b),A,R);this.events.next(B);const ue=rL(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:ue,urlAfterRedirects:b,extras:{...H,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Bt(s)}{const v="";return this.events.next(new $h(u.id,this.urlSerializer.serialize(u.extractedUrl),v,AI.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ws}}),Mi(u=>{const h=new sQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),mt(u=>(this.currentTransition=s={...u,guards:PQ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function BQ(t,e){return Pi(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Bt({...n,guardsResult:!0}):function UQ(t,e,n,r){return jn(t).pipe(Pi(i=>function WQ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Bt(o.map(a=>{var l;const u=null!==(l=rm(e))&&void 0!==l?l:i,h=Uh(a,u);return nc(function VQ(t){return t&&sm(t.canDeactivate)}(h)?h.canDeactivate(t,e,n,r):Bs(u,()=>h(t,e,n,r))).pipe(tc())})).pipe(jh()):Bt(!0)}(i.component,i.route,n,e,r)),tc(i=>!0!==i,!0))}(s,r,i,t).pipe(Pi(a=>a&&function kQ(t){return"boolean"==typeof t}(a)?function jQ(t,e,n,r){return jn(e).pipe(Kg(i=>lT(function zQ(t,e){return null!==t&&e&&e(new hQ(t)),Bt(!0)}(i.route.parent,r),function HQ(t,e){return null!==t&&e&&e(new pQ(t)),Bt(!0)}(i.route,r),function qQ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function MQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>MF(()=>Bt(s.guards.map(l=>{var u;const h=null!==(u=rm(s.node))&&void 0!==u?u:n,g=Uh(l,h);return nc(function LQ(t){return t&&sm(t.canActivateChild)}(g)?g.canActivateChild(r,t):Bs(h,()=>g(r,t))).pipe(tc())})).pipe(jh())));return Bt(o).pipe(jh())}(t,i.path,n),function GQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Bt(!0);const i=r.map(o=>MF(()=>{var s;const a=null!==(s=rm(e))&&void 0!==s?s:n,l=Uh(o,a);return nc(function FQ(t){return t&&sm(t.canActivate)}(l)?l.canActivate(e,t):Bs(a,()=>l(e,t))).pipe(tc())}));return Bt(i).pipe(jh())}(t,i.route,n))),tc(i=>!0!==i,!0))}(r,o,t,e):Bt(a)),mt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Mi(u=>{if(s.guardsResult=u.guardsResult,Lh(u.guardsResult))throw uL(0,u.guardsResult);const h=new aQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Bo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",ls.GuardRejected),!1)),xT(u=>{if(u.guards.canActivateChecks.length)return Bt(u).pipe(Mi(h=>{const g=new lQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Pr(h=>{let g=!1;return Bt(h).pipe(function mX(t,e){return Pi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Bt(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of yL(l))s.add(u);let a=0;return jn(s).pipe(Kg(l=>o.has(l)?function _X(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!sL(i)&&(o[Yg]=i.title),function vX(t,e,n,r){const i=hT(t);if(0===i.length)return Bt({});const o={};return jn(i).pipe(Pi(s=>function yX(t,e,n,r){var i;const o=null!==(i=rm(e))&&void 0!==i?i:r,s=Uh(t,o);return nc(s.resolve?s.resolve(e,n):Bs(o,()=>s(e,n)))}(t[s],e,n,r).pipe(tc(),Mi(a=>{o[s]=a}))),uT(1),function PY(t){return mt(()=>t)}(o),Eu(s=>gL(s)?Ws:_I(s)))}(o,t,e,r).pipe(mt(s=>(t._resolvedData=s,t.data=wT(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=wT(l,l.parent,t).resolve,Bt(void 0))),Mi(()=>a++),uT(1),Pi(l=>a===s.size?Bt(n):Ws))})}(this.paramsInheritanceStrategy,this.environmentInjector),Mi({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",ls.NoDataFromResolver)}}))}),Mi(h=>{const g=new cQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),xT(u=>{const h=g=>{var m;const v=[];null!==(m=g.routeConfig)&&void 0!==m&&m.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(Mi(b=>{g.component=b}),mt(()=>{})));for(const b of g.children)v.push(...h(b));return v};return gI(h(u.targetSnapshot.root)).pipe(yI(null),kh(1))}),xT(()=>this.afterPreactivation()),Pr(()=>{var u;const{currentSnapshot:h,targetSnapshot:g}=s,m=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,h.root,g.root);return m?jn(m).pipe(mt(()=>s)):Bt(s)}),mt(u=>{const h=function yQ(t,e,n){const r=nm(t,e._root,n?n._root:void 0);return new nL(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:h},this.currentNavigation.targetRouterState=h,s}),Mi(()=>{this.events.next(new vT)}),((t,e,n,r)=>mt(i=>(new RQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),kh(1),Mi({next:u=>{var h;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new za(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(h=this.titleStrategy)||void 0===h||h.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function MY(t){return Et((e,n)=>{Ao(t).subscribe(Ot(n,()=>n.complete(),pn)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Mi(u=>{throw u}))),dT(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",ls.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Eu(u=>{if(l=!0,hL(u))this.events.next(new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function wQ(t){return hL(t)&&Lh(t.url)}(u)?this.events.next(new yT(u.url)):s.resolve(!1);else{var h;this.events.next(new SI(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(h=s.targetSnapshot)&&void 0!==h?h:void 0));try{s.resolve(r.errorHandler(u))}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return Ws}))}))}cancelNavigationTransition(r,i,o){const s=new Vh(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DX(t){return t!==em}let AX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>ze(RX),providedIn:"root"}),e})();class SX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let RX=(()=>{var t;class e extends SX{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>ze(PX),providedIn:"root"}),e})(),PX=(()=>{var t;class e extends bL{constructor(){super(...arguments),this.location=ze(Jl),this.urlSerializer=ze(Cu),this.options=ze(zh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ze(kT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rL(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof tm)this.stateMemento=this.createStateMemento();else if(r instanceof $h)this.rawUrlTree=i.initialUrl;else if(r instanceof JF){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof vT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vh&&(r.code===ls.GuardRejected||r.code===ls.NoDataFromResolver)?this.restoreHistory(i):r instanceof SI?this.restoreHistory(i,!0):r instanceof za&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var am=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(am||{});function TL(t,e){t.events.pipe(Bo(n=>n instanceof za||n instanceof Vh||n instanceof SI||n instanceof $h),mt(n=>n instanceof za||n instanceof $h?am.COMPLETE:n instanceof Vh&&(n.code===ls.Redirect||n.code===ls.SupersededByNewNavigation)?am.REDIRECTING:am.FAILED),Bo(n=>n!==am.REDIRECTING),kh(1)).subscribe(()=>{e()})}function MX(t){throw t}const xX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ze(Ok),this.stateManager=ze(bL),this.options=ze(zh,{optional:!0})||{},this.pendingTasks=ze(Eg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ze(NI),this.urlSerializer=ze(Cu),this.location=ze(Jl),this.urlHandlingStrategy=ze(kT),this._events=new L,this.errorHandler=this.options.errorHandler||MX,this.navigated=!1,this.routeReuseStrategy=ze(AX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=ze(Gh,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!ze(RI,{optional:!0}),this.eventsSubscription=new Ke,this.isNgZoneEnabled=ze(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Vh&&i.code!==ls.Redirect&&i.code!==ls.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof za)this.navigated=!0;else if(i instanceof yT){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||DX(o.source)};this.scheduleNavigation(a,em,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function OX(t){return!(t instanceof vT||t instanceof yT)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),em,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(AT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,h=u?this.currentUrlTree.fragment:a;let m,g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}null!==g&&(g=this.removeEmptyProps(g));try{m=qF(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return WF(m,r,g,null!=h?h:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Lh(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,em,null,i)}navigate(r,i={skipLocationChange:!1}){return function kX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Te(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...xX}:!1===i?{...NX}:i,Lh(r))return LF(this.currentUrlTree,r,o);const s=this.parseUrl(r);return LF(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((m,v)=>{l=m,u=v});const g=this.pendingTasks.add();return TL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Ga=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new L,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const h=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=r.events.subscribe(g=>{g instanceof za&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function GP(t,e,n){return function Z3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?zP:du}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Cr),E(Qs),Bl("tabindex"),E(Va),E(Ve),E(Ts))},t.\u0275dir=kt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&tn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&os("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Tn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ph],skipLocationChange:[Tn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ph],replaceUrl:[Tn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ph],routerLink:"routerLink"},standalone:!0,features:[Zx,f]}),e})();class DL{}let VX=(()=>{var t;class e{preload(r,i){return i().pipe(Eu(()=>Bt(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$X=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bo(r=>r instanceof za),Kg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=NC(u.providers,r,`Route: ${u.path}`));const h=null!==(s=u._injector)&&void 0!==s?s:r,g=null!==(a=u._loadedInjector)&&void 0!==a?a:h;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return jn(o).pipe(Nh())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):Bt(null);const s=o.pipe(Pi(a=>{var l;return null===a?Bt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?jn([s,this.loader.loadComponent(i)]).pipe(Nh()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(He(Cr),He(Gk),He(si),He(DL),He(NT))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const OT=new st("");let AL=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof tm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof za?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $h&&r.code===AI.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof eL&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eL(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function wM(){throw new Error("invalid")}()},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();function Zs(t,e){return{\u0275kind:t,\u0275providers:e}}function RL(){const t=ze(fr);return e=>{var n,r;const i=t.get(Ql);if(e!==i.components[0])return;const o=t.get(Cr),s=t.get(PL);1===t.get(FT)&&o.initialNavigation(),null===(n=t.get(ML,null,Gt.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(OT,null,Gt.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const PL=new st("",{factory:()=>new L}),FT=new st("",{providedIn:"root",factory:()=>1}),ML=new st("");function HX(t){return Zs(0,[{provide:ML,useExisting:$X},{provide:DL,useExisting:t}])}function GX(t){return Zs(9,[{provide:wL,useValue:bX},{provide:CL,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const xL=new st("ROUTER_FORROOT_GUARD"),qX=[Jl,{provide:Cu,useClass:fT},Cr,bu,{provide:Qs,useFactory:function SL(t){return t.routerState.root},deps:[Cr]},NT,[]];let LT=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[qX,[],{provide:Gh,multi:!0,useValue:r},{provide:xL,useFactory:QX,deps:[[Cr,new su,new Ol]]},{provide:zh,useValue:i||{}},null!=i&&i.useHash?{provide:Ts,useClass:RO}:{provide:Ts,useClass:SO},{provide:OT,useFactory:()=>{const t=ze(Y7),e=ze(Se),n=ze(zh),r=ze(NI),i=ze(Cu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new AL(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?HX(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?XX(i):[],null!=i&&i.bindToComponentInputs?Zs(8,[lL,{provide:RI,useExisting:lL}]).\u0275providers:[],null!=i&&i.enableViewTransitions?GX().\u0275providers:[],[{provide:NL,useFactory:RL},{provide:wb,multi:!0,useExisting:NL}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Gh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(He(xL,8))},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({}),e})();function QX(t){return"guarded"}function XX(t){return["disabled"===t.initialNavigation?Zs(3,[{provide:Wy,multi:!0,useFactory:()=>{const e=ze(Cr);return()=>{e.setUpLocationChangeListener()}}},{provide:FT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Zs(2,[{provide:FT,useValue:0},{provide:Wy,multi:!0,deps:[fr],useFactory:e=>{const n=e.get(DW,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Cr),o=e.get(PL);TL(i,()=>{r(!0)}),e.get(NI).afterPreactivation=()=>(r(!0),o.closed?Bt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const NL=new st("");function lm(t){return(lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vn(t,e,n){return(e=function eZ(t){var e=function JX(t,e){if("object"!=lm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lm(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Js=oe(9360);(0,Js.registerVersion)("firebase","10.8.0","app");class rZ extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}}const kI={setInterval(t,e,...n){const{delegate:r}=kI;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=kI;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class kL extends rZ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return kI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&kI.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,me(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VT={now:()=>(VT.delegate||Date).now(),delegate:void 0};class cm{constructor(e,n=cm.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}cm.now=VT.now;class OL extends cm{constructor(e,n=cm.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sZ=new class oZ extends OL{}(class iZ extends kL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),$T=new OL(kL),BT=new Sh("ANGULARFIRE2_VERSION");class UT{constructor(){return((t,e)=>{const n=(0,Js.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(lZ)}}const lZ="app-check";function qh(){}class FL{constructor(e,n=sZ){vn(this,"zone",void 0),vn(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class cZ{constructor(e){vn(this,"zone",void 0),vn(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qh,{},qh,qh)),n.pipe(Mi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jT=(()=>{var t;class e{constructor(r){vn(this,"ngZone",void 0),vn(this,"outsideAngular",void 0),vn(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new FL(Zone.current)),this.insideAngular=r.run(()=>new FL(Zone.current,$T)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(He(Se))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Wh(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function LL(t){return t.pipe(ec(Wh().outsideAngular))}function lo(t){return function dZ(t){return function(n){return(n=n.lift(new cZ(t.ngZone))).pipe(xh(t.outsideAngular),ec(t.insideAngular))}}(Wh())(t)}var cs=oe(8368);cs.c.registerVersion("firebase","10.8.0","app-compat");const gZ=["ngOnDestroy"];class VL{constructor(e){return e}}const um=new st("angularfire2.app.options"),dm=new st("angularfire2.app.name");function OI(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=cs.c.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>cs.c.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;vZ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new VL(s)}const vZ=(t,...e)=>{},yZ={provide:VL,useFactory:OI,deps:[um,Se,[new su,dm]]};let IZ=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:um,useValue:r},{provide:dm,useValue:i}]}}constructor(r){cs.c.registerVersion("angularfire",BT.full,"core"),cs.c.registerVersion("angularfire",BT.full,"app-compat"),cs.c.registerVersion("angular",r8.full,r.toString())}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(He(Lo))}),vn(e,"\u0275mod",Zo({type:t})),vn(e,"\u0275inj",Fo({providers:[yZ]})),e})();function HT(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function EZ(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||($L("error",`${e} was already initialized on the ${n} Firebase App with different settings.${wZ?" You may need to reload as Firebase is not HMR aware.":""}`),$L("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const wZ=typeof module<"u"&&!!module.hot,$L=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),oe(864);class bZ extends L{constructor(e=1/0,n=1/0,r=VT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function zT(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new xn({next:()=>{r.unsubscribe(),t()}});return Ao(e(...n)).subscribe(r)}function BL(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function TZ(t={}){const{connector:e=(()=>new L),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,h=!1,g=!1;const m=()=>{null==a||a.unsubscribe(),a=void 0},v=()=>{m(),s=l=void 0,h=g=!1},b=()=>{const A=s;v(),null==A||A.unsubscribe()};return Et((A,R)=>{u++,!g&&!h&&m();const H=l=null!=l?l:e();R.add(()=>{u--,0===u&&!g&&!h&&(a=zT(b,i))}),H.subscribe(R),!s&&u>0&&(s=new xn({next:B=>H.next(B),error:B=>{g=!0,m(),a=zT(v,n,B),H.error(B)},complete:()=>{h=!0,m(),a=zT(v,r),H.complete()}}),Ao(A).subscribe(s))})(o)}}({connector:()=>new bZ(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function UL(t,e){return yt(e)?Pr(()=>t,e):Pr(()=>t)}const jL=new st("angularfire2.auth.use-emulator"),HL=new st("angularfire2.auth.settings"),zL=new st("angularfire2.auth.tenant-id"),GL=new st("angularfire2.auth.langugage-code"),qL=new st("angularfire2.auth.use-device-language"),WL=new st("angularfire.auth.persistence"),KL=(t,e,n,r,i,o,s,a)=>HT(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))l.settings[u]=h;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let qa=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,b){vn(this,"authState",void 0),vn(this,"idToken",void 0),vn(this,"user",void 0),vn(this,"idTokenResult",void 0),vn(this,"credential",void 0);const A=new L,R=Bt(void 0).pipe(ec(a.outsideAngular),Pr(()=>s.runOutsideAngular(()=>Promise.resolve().then(oe.bind(oe,864)))),mt(()=>OI(r,s,i)),mt(H=>KL(H,s,l,h,g,m,u,v)),BL({bufferSize:1,refCount:!1}));if(hI(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Bt(null);else{R.pipe(tc()).subscribe();const H=R.pipe(Pr(ge=>ge.getRedirectResult().then(Ye=>Ye,()=>null)),lo,BL({bufferSize:1,refCount:!1})),B=R.pipe(Pr(ge=>new Rn(Ye=>({unsubscribe:s.runOutsideAngular(()=>ge.onAuthStateChanged(Ct=>Ye.next(Ct),Ct=>Ye.error(Ct),()=>Ye.complete()))})))),ue=R.pipe(Pr(ge=>new Rn(Ye=>({unsubscribe:s.runOutsideAngular(()=>ge.onIdTokenChanged(Ct=>Ye.next(Ct),Ct=>Ye.error(Ct),()=>Ye.complete()))}))));this.authState=H.pipe(UL(B),xh(a.outsideAngular),ec(a.insideAngular)),this.user=H.pipe(UL(ue),xh(a.outsideAngular),ec(a.insideAngular)),this.idToken=this.user.pipe(Pr(ge=>ge?jn(ge.getIdToken()):Bt(null))),this.idTokenResult=this.user.pipe(Pr(ge=>ge?jn(ge.getIdTokenResult()):Bt(null))),this.credential=function CZ(...t){const e=Wg(t),n=function gY(t,e){return"number"==typeof sT(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Ao(r[0]):Nh(n)(jn(r,e)):Ws}(H,A,this.authState.pipe(Bo(ge=>!ge))).pipe(mt(ge=>null!=ge&&ge.user?ge:null),xh(a.outsideAngular),ec(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(gZ.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(h=>n.run(()=>h)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,h)=>a.then(g=>{var m;const v=null==g?void 0:g(...h);return null!=r&&null!==(m=r.spy)&&void 0!==m&&m.apply&&r.spy.apply(o,h,v),v})})})}))(this,R,s,{spy:{apply:(H,B,ue)=>{(H.startsWith("signIn")||H.startsWith("createUser"))&&ue.then(ge=>A.next(ge))}}})}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(He(um),He(dm,8),He(Lo),He(Se),He(jT),He(jL,8),He(HL,8),He(zL,8),He(GL,8),He(qL,8),He(WL,8),He(UT,8))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),AZ=(()=>{var t;class e{constructor(){cs.c.registerVersion("angularfire",BT.full,"auth-compat")}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)}),vn(e,"\u0275mod",Zo({type:t})),vn(e,"\u0275inj",Fo({providers:[qa]})),e})();const YL_firebaseConfig={apiKey:"AIzaSyDoeULLxQ2yDJaQ775SqoAeSbfKum9Ehyw",authDomain:"astarte-d731a.firebaseapp.com",projectId:"astarte-d731a",storageBucket:"astarte-d731a.appspot.com",messagingSenderId:"236508796381",appId:"1:236508796381:web:8387916c5eae3641301234",measurementId:"G-VQ0L6SJXWY"};function rc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ii=new st("");function FI(t){return null}function zV(t){return"number"==typeof t?t:parseFloat(t)}Promise.resolve(),Promise.resolve();let Au=(()=>{var t;class e{constructor(){this._validator=FI}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):FI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=kt({type:t,features:[f]}),e})();const _J={provide:Ii,useExisting:kn(()=>hD),multi:!0};let hD=(()=>{var t;class e extends Au{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>zV(r),this.createValidator=r=>function eV(t){return e=>{if(rc(e.value)||rc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275dir=kt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&os("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[On([_J]),an]}),e})();const vJ={provide:Ii,useExisting:kn(()=>fD),multi:!0};let fD=(()=>{var t;class e extends Au{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>zV(r),this.createValidator=r=>function JL(t){return e=>{if(rc(e.value)||rc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275dir=kt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&os("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[On([vJ]),an]}),e})();class DJ{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}}const oc=new DJ,ZV=t=>e2(t),e2=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=MJ(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},MJ=t=>{const e=oc.get("platform");return Object.keys(o2).filter(n=>{const r=null==e?void 0:e[n];return"function"==typeof r?r(t):o2[n](t)})},gD=t=>!!(Su(t,/iPad/i)||Su(t,/Macintosh/i)&&GI(t)),t2=t=>Su(t,/android|sink/i),GI=t=>UJ(t,"(any-pointer:coarse)"),n2=t=>r2(t)||i2(t),r2=t=>!!(t.cordova||t.phonegap||t.PhoneGap),i2=t=>{const e=t.Capacitor;return!(null==e||!e.isNative)},Su=(t,e)=>e.test(t.navigator.userAgent),UJ=(t,e)=>{var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},o2={ipad:gD,iphone:t=>Su(t,/iPhone/i),ios:t=>Su(t,/iPhone|iPod/i)||gD(t),android:t2,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return gD(t)||(t=>t2(t)&&!Su(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:r2,capacitor:i2,electron:t=>Su(t,/electron/i),pwa:t=>{var e;return!!(null!==(e=t.matchMedia)&&void 0!==e&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},mobile:GI,mobileweb:t=>GI(t)&&!n2(t),desktop:t=>!GI(t),hybrid:n2};var _m=oe(1896),jJ=oe(9248);function a2(t,e=ur){return t=null!=t?t:YJ,Et((n,r)=>{let i,o=!0;n.subscribe(Ot(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function YJ(t,e){return t===e}let XJ=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new L,this.keyboardDidShow=new L,this.keyboardDidHide=new L,this.pause=new L,this.resume=new L,this.resize=new L,r.run(()=>{var i;let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(l=>l.register(s,u=>r.run(()=>a(u))))},Qh(this.pause,n,"pause",r),Qh(this.resume,n,"resume",r),Qh(this.backButton,n,"ionBackButton",r),Qh(this.resize,this.win,"resize",r),Qh(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),Qh(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((t,e)=>("string"==typeof t&&(e=t,t=void 0),ZV(t).includes(e)))(this.win,n)}platforms(){return ZV(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return ZJ(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(He(Do),He(Se))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZJ=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Qh=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let Xh=(()=>{class t{constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=l2,this.animated=c2,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof tm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,y.c)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=JJ(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=l2,this.animated=c2,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(He(XJ),He(Jl),He(Cu),He(Cr,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JJ=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},l2="auto",c2=void 0;let mD=(()=>{class t{get(n,r){const i=_D();return i?i.get(n,r):null}getBoolean(n,r){const i=_D();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=_D();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const u2=new st("USERCONFIG"),_D=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class d2{constructor(e={}){this.data=e}get(e){return this.data[e]}}let vm=(()=>{class t{constructor(){this.zone=ze(Se),this.applicationRef=ze(Ql)}create(n,r,i){return new eee(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class eee{constructor(e,n,r,i,o){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(tee(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const tee=(t,e,n,r,i,o,s,a,l,u,h)=>{const m=function CW(t,e){const n=ln(t),r=e.elementInjector||Ll();return new yg(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:fr.create({providers:ree(l),parent:n})}),v=m.instance,b=m.location.nativeElement;if(l&&(h&&void 0!==v[h]&&console.error(`[Ionic Error]: ${h} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${h}" property from ${a.name}.`),Object.assign(v,l)),u)for(const R of u)b.classList.add(R);const A=h2(t,v,b);return s.appendChild(b),r.attachView(m.hostView),i.set(b,m),o.set(b,A),b},nee=[_m.L,_m.a,_m.b,_m.c,_m.d],h2=(t,e,n)=>t.run(()=>{const r=nee.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),f2=new st("NavParamsToken"),ree=t=>[{provide:f2,useValue:t},{provide:d2,useFactory:iee,deps:[f2]}],iee=t=>new d2(t),p2=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),yD=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},g2=(t,e)=>!e||t.stackId!==e.stackId,mee=(t,e)=>{if(!t)return;const n=m2(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},m2=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),_2=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class _ee{constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?m2(e):void 0}createView(e,n){var r;const i=yD(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=h2(this.zone,e.instance,o);return{id:this.nextId++,stackId:mee(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=yD(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=g2(e,l);u&&(o="back",s=void 0);const h=this.views.slice();let g;const m=this.router;m.getCurrentNavigation?g=m.getCurrentNavigation():null!==(n=m.navigations)&&void 0!==n&&n.value&&(g=m.navigations.value),null!==(r=g)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(e),b=this.insertView(e,o);v||e.ref.changeDetectorRef.detectChanges();const A=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==A&&(a=A),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>vee(e,b,h,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&v2(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(_2),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?p2(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):p2(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,y.c)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const vee=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{v2(t,e,n,r,i),o()})}):Promise.resolve(),v2=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(_2)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let y2=(()=>{class t{constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new q(null),this.activated=null,this._activatedRoute=null,this.name=cn,this.stackWillChange=new ct,this.stackDidChange=new ct,this.activateEvents=new ct,this.deactivateEvents=new ct,this.parentContexts=ze(bu),this.location=ze(ns),this.environmentInjector=ze(si),this.inputBinder=ze(I2,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=ze(mD),this.navCtrl=ze(Xh),this.nativeEl=o.nativeElement,this.name=n||cn,this.tabsPrefix="true"===r?yD(s,l):void 0,this.stackCtrl=new _ee(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){var n;this.stackCtrl.destroy(),null===(n=this.inputBinder)||void 0===n||n.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,jJ.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,s=this.stackCtrl.getExistingView(n);if(s){o=this.activated=s.ref;const u=s.savedData;u&&(this.getContext().children.contexts=u),this.updateActivatedRouteProxy(o.instance,n)}else{var a;const u=n._futureSnapshot,h=this.parentContexts.getOrCreateContext(this.name).children,g=new q(null),m=this.createActivatedRouteProxy(g,n),v=new yee(m,h,this.location.injector),b=null!==(a=u.routeConfig.component)&&void 0!==a?a:u.component;o=this.activated=this.location.createComponent(b,{index:this.location.length,injector:v,environmentInjector:null!=r?r:this.environmentInjector}),g.next(o.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}null===(i=this.inputBinder)||void 0===i||i.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const l=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:g2(s,l)}),this.stackCtrl.setActive(s).then(u=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(u)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new Qs;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(Bo(i=>!!i),Pr(i=>this.currentActivatedRoute$.pipe(Bo(o=>null!==o&&o.component===i),Pr(o=>o&&o.activatedRoute[r]),a2())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)(Bl("name"),Bl("tabs"),E(Jl),E(Ve),E(Cr),E(Se),E(Qs),E(t,12))},t.\u0275dir=kt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qs?this.route:e===bu?this.childContexts:this.parent.get(e,n)}}const I2=new st("");let Iee=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){var r;null===(r=this.outletDataSubscriptions.get(n))||void 0===r||r.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=gI([r.queryParams,r.params,r.data]).pipe(Pr(([o,s,a],l)=>(a={...o,...s,...a},0===l?Bt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=TO(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function wee(t){return null!=t&&t.componentInputBindingEnabled?new Iee:null}let Tee=(()=>{class t{constructor(n,r,i,o,s){this.locationStrategy=n,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var n;if(null!==(n=this.routerLink)&&void 0!==n&&n.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(n){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),n.preventDefault()}}return t.\u0275fac=function(n){return new(n||t)(E(Ts),E(Xh),E(Ve),E(Cr),E(Ga,8))},t.\u0275dir=kt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&tn("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f]}),t})();const E2=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class w2{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}oe(388),oe(6256),oe(8512),oe(6556),oe(2528);var Nee=oe(8523),kee=oe(9637),C2=(oe(3452),oe(3816)),Oee=(oe(4829),oe(2992));oe(6560),oe(2784);const Lee=Nee.i,Vee=function(){var t=(0,y.c)(function*(e,n){if(!(typeof window>"u"))return yield Lee(),(0,Oee.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),_t=["*"],Yee=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},Qee=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})};function It(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Yee(n,i),o&&Qee(n,o),n}}let Jh=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(E(at),E(Ve),E(Se))},t.\u0275cmp=qe({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:_t,decls:1,vars:0,template:function(n,r){1&n&&(function ft(t){const e=be()[ir][_i];if(!e.projection){const r=e.projection=function bd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?j9(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),function ht(t,e=0,n){const r=be(),i=mn(),o=nh(i,Kt+t,16,null,n||null);null===o.projection&&(o.projection=e),gp(),(!r[ji]||Lc())&&32!=(32&o.flags)&&function xH(t,e,n){vM(e[Wt],0,e,n,qw(t,n,e),hM(n.parent||e[_i],n,e))}(i,r,o)}(0))},encapsulation:2,changeDetection:0}),t=(0,lt.UN)([It({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),Im=(()=>{class t extends y2{constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}}return t.\u0275fac=function(n){return new(n||t)(Bl("name"),Bl("tabs"),E(Jl),E(Ve),E(Cr),E(Se),E(Qs),E(t,12))},t.\u0275dir=kt({type:t,selectors:[["ion-router-outlet"]],features:[an]}),t})(),Em=(()=>{class t extends Tee{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=kt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[an]}),t})();const bne={provide:Ii,useExisting:kn(()=>b2),multi:!0};let b2=(()=>{class t extends hD{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=kt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&os("max",r._enabled?r.max:null)},features:[On([bne]),an]}),t})();const Tne={provide:Ii,useExisting:kn(()=>T2),multi:!0};let T2=(()=>{class t extends fD{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=kt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&os("min",r._enabled?r.min:null)},features:[On([Tne]),an]}),t})(),Dne=(()=>{class t extends w2{constructor(){super(C2.m),this.angularDelegate=ze(vm),this.injector=ze(fr),this.environmentInjector=ze(si)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class Ane extends w2{constructor(){super(C2.c),this.angularDelegate=ze(vm),this.injector=ze(fr),this.environmentInjector=ze(si)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Sne=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,kee.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function Fee(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(oe.e(4448).then(oe.t.bind(oe,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(oe.e(488).then(oe.t.bind(oe,6304,23)))}return Promise.all(t)}().then(()=>Vee(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:E2,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let Rne=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:u2,useValue:n},{provide:Wy,useFactory:Sne,multi:!0,deps:[u2,Do,Se]},{provide:I2,useFactory:wee,deps:[Cr]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({providers:[vm,Dne,Ane],imports:[GO]}),t})(),Pne=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i}login(){const i=document.getElementById("login-email").value,s=document.getElementById("login-password").value;return this.afAuth.signInWithEmailAndPassword(i,s).then(()=>{alert("Login riuscito!"),this.router.navigate(["/home"])}).catch(a=>{alert("Errore durante il login: "+a.message)})}toRegister(){this.router.navigate(["/register"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qa),E(Cr))},t.\u0275cmp=qe({type:t,selectors:[["app-login"]],decls:20,vars:0,consts:[["src","assets\\img\\undraw_team_re_0bfe.svg",2,"height","14rem","object-fit","contain","margin-top","2rem","margin-bottom","2rem"],[1,"card1",2,"width","90%"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\Vector (5).svg",1,"input1_img1"],["type","email","id","login-email","placeholder","Email",1,"field1"],["src","assets\\img\\Vector (4).svg",1,"input1_img1"],["type","password","id","login-password","placeholder","Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(he(0,"body"),wt(1,"img",0),he(2,"div",1)(3,"h1",2),it(4,"Accedi al tuo account"),fe(),he(5,"div",3),wt(6,"img",4)(7,"input",5),fe(),he(8,"div",3),wt(9,"img",6)(10,"input",7),fe(),he(11,"button",8),tn("click",function(){return i.login()}),he(12,"div",9),wt(13,"img",10),he(14,"p",11),it(15,"Accedi"),fe()()()(),he(16,"p",12),it(17,"Non possiedi un account?"),he(18,"strong",13),tn("click",function(){return i.toRegister()}),it(19,"Registrati"),fe()()())}}),e})();function wD(){return Et((t,e)=>{let n,r=!1;t.subscribe(Ot(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var bt,KI=oe(4920),ea=oe(5976),hn=oe(7144),Mne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rs={},CD=CD||{},nn=Mne||self;function YI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var bD="closure_uid_"+(1e9*Math.random()>>>0),Nne=0;function kne(t,e,n){return t.call.apply(t.bind,arguments)}function One(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ki(t,e,n){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kne:One).apply(null,arguments)}function QI(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ei(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function sc(){this.s=this.s,this.o=this.o}sc.prototype.s=!1,sc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xne(t){Object.prototype.hasOwnProperty.call(t,bD)&&t[bD]||(t[bD]=++Nne)}(this)},sc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const D2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function TD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function A2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(YI(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Yi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yi.prototype.h=function(){this.defaultPrevented=!0};var Lne=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};nn.addEventListener("test",n,e),nn.removeEventListener("test",n,e)}catch{}return t}();function Cm(t){return/^[\s\xa0]*$/.test(t)}function XI(){var t=nn.navigator;return t&&(t=t.userAgent)?t:""}function ta(t){return-1!=XI().indexOf(t)}function DD(t){return DD[" "](t),t}DD[" "]=function(){};var SD,t,$ne=ta("Opera"),ef=ta("Trident")||ta("MSIE"),S2=ta("Edge"),AD=S2||ef,R2=ta("Gecko")&&!(-1!=XI().toLowerCase().indexOf("webkit")&&!ta("Edge"))&&!(ta("Trident")||ta("MSIE"))&&!ta("Edge"),Bne=-1!=XI().toLowerCase().indexOf("webkit")&&!ta("Edge");function P2(){var t=nn.document;return t?t.documentMode:void 0}e:{var RD="",PD=(t=XI(),R2?/rv:([^\);]+)(\)|;)/.exec(t):S2?/Edge\/([\d\.]+)/.exec(t):ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Bne?/WebKit\/(\S+)/.exec(t):$ne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(PD&&(RD=PD?PD[1]:""),ef){var MD=P2();if(null!=MD&&MD>parseFloat(RD)){SD=String(MD);break e}}SD=RD}var Une=nn.document&&ef&&(P2()||parseInt(SD,10))||void 0;function bm(t,e){if(Yi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(R2){e:{try{DD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bm.$.h.call(this)}}Ei(bm,Yi);var jne={2:"touch",3:"pen",4:"mouse"};bm.prototype.h=function(){bm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tm="closure_listenable_"+(1e6*Math.random()|0),Hne=0;function zne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Hne,this.fa=this.ia=!1}function ZI(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ND(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function x2(t){const e={};for(const n in t)e[n]=t[n];return e}const N2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<N2.length;o++)n=N2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function JI(t){this.src=t,this.g={},this.h=0}function kD(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=D2(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ZI(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function OD(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}JI.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=OD(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new zne(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var FD="closure_lm_"+(1e6*Math.random()|0),LD={};function O2(t,e,n,r,i){if(r&&r.once)return L2(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)O2(t,e[o],n,r,i);return null}return n=UD(n),t&&t[Tm]?t.O(e,n,wm(r)?!!r.capture:!!r,i):F2(t,e,n,!1,r,i)}function F2(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=wm(i)?!!i.capture:!!i,a=$D(t);if(a||(t[FD]=a=new JI(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function qne(){const e=Wne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Lne||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function L2(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)L2(t,e[o],n,r,i);return null}return n=UD(n),t&&t[Tm]?t.P(e,n,wm(r)?!!r.capture:!!r,i):F2(t,e,n,!0,r,i)}function V2(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)V2(t,e[o],n,r,i);else r=wm(r)?!!r.capture:!!r,n=UD(n),t&&t[Tm]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=OD(o=t.g[e],n,r,i))&&(ZI(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=$D(t))&&(e=t.g[e.toString()],t=-1,e&&(t=OD(e,n,r,i)),(n=-1<t?e[t]:null)&&VD(n))}function VD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Tm])kD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$D(e))?(kD(n,t),0==n.h&&(n.src=null,e[FD]=null)):ZI(t)}}}function $2(t){return t in LD?LD[t]:LD[t]="on"+t}function Wne(t,e){if(t.fa)t=!0;else{e=new bm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&VD(t),t=n.call(r,e)}return t}function $D(t){return(t=t[FD])instanceof JI?t:null}var BD="__closure_events_fn_"+(1e9*Math.random()>>>0);function UD(t){return"function"==typeof t?t:(t[BD]||(t[BD]=function(e){return t.handleEvent(e)}),t[BD])}function wi(){sc.call(this),this.i=new JI(this),this.S=this,this.J=null}function xi(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Yi(e,t);else if(e instanceof Yi)e.target=e.target||t;else{var i=e;k2(e=new Yi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=eE(s,r,!0,e)&&i}if(i=eE(s=e.g=t,r,!0,e)&&i,i=eE(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=eE(s=e.g=n[o],r,!1,e)&&i}function eE(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&kD(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ei(wi,sc),wi.prototype[Tm]=!0,wi.prototype.removeEventListener=function(t,e,n,r){V2(this,t,e,n,r)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ZI(n[r]);delete t.g[e],t.h--}}this.J=null},wi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var jD=nn.JSON.stringify;function Yne(){var t=HD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var B2=new class Kne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xne,t=>t.reset());class Xne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zne(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Jne(t){nn.setTimeout(()=>{throw t},0)}let Dm,Am=!1,HD=new class Qne{constructor(){this.h=this.g=null}add(e,n){const r=B2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},U2=()=>{const t=nn.Promise.resolve(void 0);Dm=()=>{t.then(ere)}};var ere=()=>{for(var t;t=Yne();){try{t.h.call(t.g)}catch(n){Jne(n)}var e=B2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Am=!1};function tE(t,e){wi.call(this),this.h=t||1,this.g=e||nn,this.j=Ki(this.qb,this),this.l=Date.now()}function zD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function GD(t,e,n){if("function"==typeof t)n&&(t=Ki(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ki(t.handleEvent,t)}return 2147483647<Number(e)?-1:nn.setTimeout(t,e||0)}function j2(t){t.g=GD(()=>{t.g=null,t.i&&(t.i=!1,j2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ei(tE,wi),(bt=tE.prototype).ga=!1,bt.T=null,bt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xi(this,"tick"),this.ga&&(zD(this),this.start()))}},bt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bt.N=function(){tE.$.N.call(this),zD(this),delete this.g};class tre extends sc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:j2(this)}N(){super.N(),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sm(t){sc.call(this),this.h=t,this.g={}}Ei(Sm,sc);var H2=[];function z2(t,e,n,r){Array.isArray(n)||(n&&(H2[0]=n.toString()),n=H2);for(var i=0;i<n.length;i++){var o=O2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function G2(t){ND(t.g,function(e,n){this.g.hasOwnProperty(n)&&VD(e)},t),t.g={}}function nE(){this.g=!0}function tf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ore(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return jD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Sm.prototype.N=function(){Sm.$.N.call(this),G2(this)},Sm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nE.prototype.Ea=function(){this.g=!1},nE.prototype.info=function(){};var Ru={},q2=null;function rE(){return q2=q2||new wi}function W2(t){Yi.call(this,Ru.Ta,t)}function Rm(t){const e=rE();xi(e,new W2(e))}function K2(t,e){Yi.call(this,Ru.STAT_EVENT,t),this.stat=e}function ho(t){const e=rE();xi(e,new K2(e,t))}function Y2(t,e){Yi.call(this,Ru.Ua,t),this.size=e}function Pm(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nn.setTimeout(function(){t()},e)}Ru.Ta="serverreachability",Ei(W2,Yi),Ru.STAT_EVENT="statevent",Ei(K2,Yi),Ru.Ua="timingevent",Ei(Y2,Yi);var iE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Q2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qD(){}function Z2(){}qD.prototype.h=null;var YD,Mm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function WD(){Yi.call(this,"d")}function KD(){Yi.call(this,"c")}function oE(){}function xm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Sm(this),this.P=sre,this.V=new tE(t=AD?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new J2}function J2(){this.i=null,this.g="",this.h=!1}Ei(WD,Yi),Ei(KD,Yi),Ei(oE,qD),oE.prototype.g=function(){return new XMLHttpRequest},oE.prototype.i=function(){return{}},YD=new oE;var sre=45e3,e$={},QD={};function XD(t,e,n){t.L=1,t.A=cE(Ka(e)),t.u=n,t.S=!0,t$(t,null)}function t$(t,e){t.G=Date.now(),Nm(t),t.B=Ka(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),d$(n.i,"t",r),t.o=0,n=t.l.J,t.h=new J2,t.g=O$(t.l,n?e:null,!t.u),0<t.O&&(t.M=new tre(Ki(t.Pa,t,t.g),t.O)),z2(t.U,t.g,"readystatechange",t.nb),e=t.I?x2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Rm(),function nre(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var g=h.split("_");s=2<=g.length&&"type"==g[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function n$(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function r$(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=are(t,n),i==QD){4==e&&(t.s=4,ho(14),r=!1),tf(t.j,t.m,null,"[Incomplete Response]");break}if(i==e$){t.s=4,ho(15),tf(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}tf(t.j,t.m,i,null),ZD(t,i)}n$(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,ho(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oA(e),e.M=!0,ho(11))):(tf(t.j,t.m,n,"[Invalid Chunked Response]"),Pu(t),km(t))}function are(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?QD:(n=Number(e.substring(n,r)),isNaN(n)?e$:(r+=1)+n>e.length?QD:(e=e.slice(r,r+n),t.o=r+n,e))}function Nm(t){t.Y=Date.now()+t.P,i$(t,t.P)}function i$(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Pm(Ki(t.lb,t),e)}function sE(t){t.C&&(nn.clearTimeout(t.C),t.C=null)}function km(t){0==t.l.H||t.J||M$(t.l,t)}function Pu(t){sE(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,zD(t.V),G2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ZD(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||JD(n.i,t)))if(!t.K&&JD(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;gE(n),fE(n)}iA(n),ho(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Pm(Ki(n.ib,n),6e3));if(1>=p$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xu(n,11)}else if((t.K||n.g==t)&&gE(n),!Cm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const h=u[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=u[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=u[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=r.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(eA(o,o.h),o.h=null))}if(r.F){const A=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(r.Da=A,pr(r.I,r.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=k$(r,r.J?r.pa:null,r.Y),s.K){g$(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(sE(a),Nm(a)),r.g=s}else R$(r);0<n.j.length&&pE(n)}else"stop"!=u[0]&&"close"!=u[0]||xu(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?xu(n,7):rA(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Rm()}catch{}}function o$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(YI(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function cre(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(YI(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function lre(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(YI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(bt=xm.prototype).setTimeout=function(t){this.P=t},bt.nb=function(t){t=t.target;const e=this.M;e&&3==na(t)?e.l():this.Pa(t)},bt.Pa=function(t){try{if(t==this.g)e:{const h=na(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||AD||this.g&&(this.h.h||this.g.ja()||C$(this.g)))){this.J||4!=h||7==e||Rm(),sE(this);var n=this.g.da();this.ca=n;t:if(n$(this)){var r=C$(this.g);t="";var i=r.length,o=4==na(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pu(this),km(this);var s="";break t}this.h.i=new nn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function rre(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cm(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,ho(12),Pu(this),km(this);break e}tf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZD(this,n)}this.S?(r$(this,h,s),AD&&this.i&&3==h&&(z2(this.U,this.V,"tick",this.mb),this.V.start())):(tf(this.j,this.m,s,null),ZD(this,s)),4==h&&Pu(this),this.i&&!this.J&&(4==h?M$(this.l,this):(this.i=!1,Nm(this)))}else(function Are(t){const e={};t=(t.g&&2<=na(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Cm(t[r]))continue;var n=Zne(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Gne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,ho(12)):(this.s=0,ho(13)),Pu(this),km(this)}}}catch{}},bt.mb=function(){if(this.g){var t=na(this.g),e=this.g.ja();this.o<e.length&&(sE(this),r$(this,t,e),this.i&&4!=t&&Nm(this))}},bt.cancel=function(){this.J=!0,Pu(this)},bt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function ire(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Rm(),ho(17)),Pu(this),this.s=2,km(this)):i$(this,this.Y-t)};var s$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mu){this.h=t.h,aE(this,t.j),this.s=t.s,this.g=t.g,lE(this,t.m),this.l=t.l;var e=t.i,n=new Lm;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),a$(this,n),this.o=t.o}else t&&(e=String(t).match(s$))?(this.h=!1,aE(this,e[1]||"",!0),this.s=Om(e[2]||""),this.g=Om(e[3]||"",!0),lE(this,e[4]),this.l=Om(e[5]||"",!0),a$(this,e[6]||"",!0),this.o=Om(e[7]||"")):(this.h=!1,this.i=new Lm(null,this.h))}function Ka(t){return new Mu(t)}function aE(t,e,n){t.j=n?Om(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lE(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function a$(t,e,n){e instanceof Lm?(t.i=e,function mre(t,e){e&&!t.j&&(ac(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(c$(this,r),d$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Fm(e,pre)),t.i=new Lm(e,t.h))}function pr(t,e,n){t.i.set(e,n)}function cE(t){return pr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Om(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fm(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fm(e,l$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Fm(e,l$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fm(n,"/"==n.charAt(0)?fre:hre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fm(n,gre)),t.join("")};var l$=/[#\/\?@]/g,hre=/[#\?:]/g,fre=/[#\?]/g,pre=/[#\?@]/g,gre=/#/g;function Lm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ac(t){t.g||(t.g=new Map,t.h=0,t.i&&function ure(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function c$(t,e){ac(t),e=nf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function u$(t,e){return ac(t),e=nf(t,e),t.g.has(e)}function d$(t,e,n){c$(t,e),0<n.length&&(t.i=null,t.g.set(nf(t,e),TD(n)),t.h+=n.length)}function nf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(bt=Lm.prototype).add=function(t,e){ac(this),this.i=null,t=nf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},bt.forEach=function(t,e){ac(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},bt.ta=function(){ac(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},bt.Z=function(t){ac(this);let e=[];if("string"==typeof t)u$(this,t)&&(e=e.concat(this.g.get(nf(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},bt.set=function(t,e){return ac(this),this.i=null,u$(this,t=nf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},bt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var _re=class{constructor(t,e){this.g=t,this.map=e}};function h$(t){this.l=t||vre,t=nn.PerformanceNavigationTiming?0<(t=nn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nn.g&&nn.g.Ka&&nn.g.Ka()&&nn.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vre=10;function f$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function p$(t){return t.h?1:t.g?t.g.size:0}function JD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function eA(t,e){t.g?t.g.add(e):t.h=e}function g$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function m$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return TD(t.i)}h$.prototype.cancel=function(){if(this.i=m$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var yre=class{stringify(t){return nn.JSON.stringify(t,void 0)}parse(t){return nn.JSON.parse(t,void 0)}};function Ire(){this.g=new yre}function Ere(t,e,n){const r=n||"";try{o$(t,function(i,o){let s=i;wm(i)&&(s=jD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uE(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vm(t){this.l=t.ec||null,this.j=t.ob||!1}function dE(t,e){wi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ei(Vm,qD),Vm.prototype.g=function(){return new dE(this.l,this.j)},Vm.prototype.i=function(t){return function(){return t}}({}),Ei(dE,wi);var tA=0;function _$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function $m(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bm(t)}function Bm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(bt=dE.prototype).open=function(t,e){if(this.readyState!=tA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bm(this)},bt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||nn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$m(this)),this.readyState=tA},bt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bm(this)),this.g&&(this.readyState=3,Bm(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nn.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},bt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$m(this):Bm(this),3==this.readyState&&_$(this)}},bt.Za=function(t){this.g&&(this.response=this.responseText=t,$m(this))},bt.Ya=function(t){this.g&&(this.response=t,$m(this))},bt.ka=function(){this.g&&$m(this)},bt.setRequestHeader=function(t,e){this.v.append(t,e)},bt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},bt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(dE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Cre=nn.JSON.parse;function Or(t){wi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=v$,this.L=this.M=!1}Ei(Or,wi);var v$="",bre=/^https?$/i,Tre=["POST","PUT"];function y$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,I$(t),hE(t)}function I$(t){t.F||(t.F=!0,xi(t,"complete"),xi(t,"error"))}function E$(t){if(t.h&&typeof CD<"u"&&(!t.C[1]||4!=na(t)||2!=t.da()))if(t.v&&4==na(t))GD(t.La,0,t);else if(xi(t,"readystatechange"),4==na(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(s$)[1]||null;!i&&nn.self&&nn.self.location&&(i=nn.self.location.protocol.slice(0,-1)),r=!bre.test(i?i.toLowerCase():"")}n=r}if(n)xi(t,"complete"),xi(t,"success");else{t.m=6;try{var o=2<na(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",I$(t)}}finally{hE(t)}}}function hE(t,e){if(t.g){w$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xi(t,"ready");try{n.onreadystatechange=r}catch{}}}function w$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(nn.clearTimeout(t.A),t.A=null)}function na(t){return t.g?t.g.readyState:0}function C$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case v$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function b$(t){let e="";return ND(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function nA(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=b$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pr(t,e,n))}function Um(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function T$(t){this.Ga=0,this.j=[],this.l=new nE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Um("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Um("baseRetryDelayMs",5e3,t),this.hb=Um("retryDelaySeedMs",1e4,t),this.eb=Um("forwardChannelMaxRetries",2,t),this.xa=Um("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new h$(t&&t.concurrentRequestLimit),this.Ja=new Ire,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rA(t){if(D$(t),3==t.H){var e=t.W++,n=Ka(t.I);if(pr(n,"SID",t.K),pr(n,"RID",e),pr(n,"TYPE","terminate"),jm(t,n),(e=new xm(t,t.l,e)).L=2,e.A=cE(Ka(n)),n=!1,nn.navigator&&nn.navigator.sendBeacon)try{n=nn.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&nn.Image&&((new Image).src=e.A,n=!0),n||(e.g=O$(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Nm(e)}N$(t)}function fE(t){t.g&&(oA(t),t.g.cancel(),t.g=null)}function D$(t){fE(t),t.u&&(nn.clearTimeout(t.u),t.u=null),gE(t),t.i.cancel(),t.m&&("number"==typeof t.m&&nn.clearTimeout(t.m),t.m=null)}function pE(t){if(!f$(t.i)&&!t.m){t.m=!0;var e=t.Na;Dm||U2(),Am||(Dm(),Am=!0),HD.add(e,t),t.C=0}}function A$(t,e){var n;n=e?e.m:t.W++;const r=Ka(t.I);pr(r,"SID",t.K),pr(r,"RID",n),pr(r,"AID",t.V),jm(t,r),t.o&&t.s&&nA(r,t.o,t.s),n=new xm(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=S$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),eA(t.i,n),XD(n,r,e)}function jm(t,e){t.na&&ND(t.na,function(n,r){pr(e,r,n)}),t.h&&o$({},function(n,r){pr(e,r,n)})}function S$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ki(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Ere(h,s,"req"+u+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function R$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dm||U2(),Am||(Dm(),Am=!0),HD.add(e,t),t.A=0}}function iA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Pm(Ki(t.Ma,t),x$(t,t.A)),t.A++,0))}function oA(t){null!=t.B&&(nn.clearTimeout(t.B),t.B=null)}function P$(t){t.g=new xm(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ka(t.wa);pr(e,"RID","rpc"),pr(e,"SID",t.K),pr(e,"AID",t.V),pr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pr(e,"TO",t.qa),pr(e,"TYPE","xmlhttp"),jm(t,e),t.o&&t.s&&nA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=cE(Ka(e)),n.u=null,n.S=!0,t$(n,t)}function gE(t){null!=t.v&&(nn.clearTimeout(t.v),t.v=null)}function M$(t,e){var n=null;if(t.g==e){gE(t),oA(t),t.g=null;var r=2}else{if(!JD(t.i,e))return;n=e.F,g$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;xi(r=rE(),new Y2(r,n)),pE(t)}else R$(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Sre(t,e){return!(p$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Pm(Ki(t.Na,t,e),x$(t,t.C)),t.C++,0)))}(t,e)||2==r&&iA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xu(t,5);break;case 4:xu(t,10);break;case 3:xu(t,6);break;default:xu(t,2)}}function x$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xu(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ki(t.pb,t);n||(n=new Mu("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||aE(n,"https"),cE(n)),function wre(t,e){const n=new nE;if(nn.Image){const r=new Image;r.onload=QI(uE,n,r,"TestLoadImage: loaded",!0,e),r.onerror=QI(uE,n,r,"TestLoadImage: error",!1,e),r.onabort=QI(uE,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=QI(uE,n,r,"TestLoadImage: timeout",!1,e),nn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ho(2);t.H=0,t.h&&t.h.za(e),N$(t),D$(t)}function N$(t){if(t.H=0,t.ma=[],t.h){const e=m$(t.i);(0!=e.length||0!=t.j.length)&&(A2(t.ma,e),A2(t.ma,t.j),t.i.i.length=0,TD(t.j),t.j.length=0),t.h.ya()}}function k$(t,e,n){var r=n instanceof Mu?Ka(n):new Mu(n);if(""!=r.g)e&&(r.g=e+"."+r.g),lE(r,r.m);else{var i=nn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Mu(null);r&&aE(o,r),e&&(o.g=e),i&&lE(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&pr(r,n,e),pr(r,"VER",t.ra),jm(t,r),r}function O$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t.Ha&&!t.va?new Vm({ob:n}):t.va)).Oa(t.J),e}function F$(){}function mE(){if(ef&&!(10<=Number(Une)))throw Error("Environmental error: no available transport.")}function Uo(t,e){wi.call(this),this.g=new T$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cm(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new rf(this)}function L$(t){WD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function V$(){KD.call(this),this.status=1}function rf(t){this.g=t}function Ps(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function sA(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Hn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(bt=Or.prototype).Oa=function(t){this.M=t},bt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():YD.g(),this.C=function X2(t){return t.h||(t.h=t.i())}(this.u?this.u:YD),this.g.onreadystatechange=Ki(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void y$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=nn.FormData&&t instanceof nn.FormData,!(0<=D2(Tre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{w$(this),0<this.B&&((this.L=function Dre(t){return ef&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.ua,this)):this.A=GD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){y$(this,o)}},bt.ua=function(){typeof CD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xi(this,"timeout"),this.abort(8))},bt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xi(this,"complete"),xi(this,"abort"),hE(this))},bt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hE(this,!0)),Or.$.N.call(this)},bt.La=function(){this.s||(this.G||this.v||this.l?E$(this):this.kb())},bt.kb=function(){E$(this)},bt.isActive=function(){return!!this.g},bt.da=function(){try{return 2<na(this)?this.g.status:-1}catch{return-1}},bt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},bt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cre(e)}},bt.Ia=function(){return this.m},bt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(bt=T$.prototype).ra=8,bt.H=1,bt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new xm(this,this.l,t);let o=this.s;if(this.U&&(o?(o=x2(o),k2(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=S$(this,i,e),pr(n=Ka(this.I),"RID",t),pr(n,"CVER",22),this.F&&pr(n,"X-HTTP-Session-Id",this.F),jm(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(b$(o)))+"&"+e:this.o&&nA(n,this.o,o)),eA(this.i,i),this.bb&&pr(n,"TYPE","init"),this.P?(pr(n,"$req",e),pr(n,"SID","null"),i.aa=!0,XD(i,n,null)):XD(i,n,e),this.H=2}}else 3==this.H&&(t?A$(this,t):0==this.j.length||f$(this.i)||A$(this))},bt.Ma=function(){if(this.u=null,P$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Pm(Ki(this.jb,this),t)}},bt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ho(10),fE(this),P$(this))},bt.ib=function(){null!=this.v&&(this.v=null,fE(this),iA(this),ho(19))},bt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ho(2)):(this.l.info("Failed to ping google.com"),ho(1))},bt.isActive=function(){return!!this.h&&this.h.isActive(this)},(bt=F$.prototype).Ba=function(){},bt.Aa=function(){},bt.za=function(){},bt.ya=function(){},bt.isActive=function(){return!0},bt.Va=function(){},mE.prototype.g=function(t,e){return new Uo(t,e)},Ei(Uo,wi),Uo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ho(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=k$(t,null,t.Y),pE(t)},Uo.prototype.close=function(){rA(this.g)},Uo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=jD(t),t=n);e.j.push(new _re(e.fb++,t)),3==e.H&&pE(e)},Uo.prototype.N=function(){this.g.h=null,delete this.j,rA(this.g),delete this.g,Uo.$.N.call(this)},Ei(L$,WD),Ei(V$,KD),Ei(rf,F$),rf.prototype.Ba=function(){xi(this.g,"a")},rf.prototype.Aa=function(t){xi(this.g,new L$(t))},rf.prototype.za=function(t){xi(this.g,new V$)},rf.prototype.ya=function(){xi(this.g,"b")},Ei(Ps,function Rre(){this.blockSize=-1}),Ps.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ps.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)sA(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){sA(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){sA(this,r),i=0;break}}this.h=i,this.i+=e},Ps.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Pre={};function aA(t){return-128<=t&&128>t?function Vne(t,e){var n=Pre;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Hn([0|e],0>e?-1:0)}):new Hn([0|t],0>t?-1:0)}function ra(t){if(isNaN(t)||!isFinite(t))return sf;if(0>t)return Ni(ra(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=lA;return new Hn(e,0)}var lA=4294967296,sf=aA(0),cA=aA(1),B$=aA(16777216);function Ya(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function us(t){return-1==t.h}function Ni(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Hn(n,~t.h).add(cA)}function _E(t,e){return t.add(Ni(e))}function vE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hm(t,e){this.g=t,this.h=e}function yE(t,e){if(Ya(e))throw Error("division by zero");if(Ya(t))return new Hm(sf,sf);if(us(t))return e=yE(Ni(t),e),new Hm(Ni(e.g),Ni(e.h));if(us(e))return e=yE(t,Ni(e)),new Hm(Ni(e.g),e.h);if(30<t.g.length){if(us(t)||us(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cA,r=e;0>=r.X(t);)n=U$(n),r=U$(r);var i=af(n,1),o=af(r,1);for(r=af(r,2),n=af(n,2);!Ya(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=af(r,1),n=af(n,1)}return e=_E(t,i.R(e)),new Hm(i,e)}for(i=sf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ra(n)).R(e);us(s)||0<s.X(t);)s=(o=ra(n-=r)).R(e);Ya(o)&&(o=cA),i=i.add(o),t=_E(t,s)}return new Hm(i,t)}function U$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Hn(n,t.h)}function af(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Hn(i,t.h)}(bt=Hn.prototype).ea=function(){if(us(this))return-Ni(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:lA+r)*e,e*=lA}return t},bt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ya(this))return"0";if(us(this))return"-"+Ni(this).toString(t);for(var e=ra(Math.pow(t,6)),n=this,r="";;){var i=yE(n,e).g,o=((0<(n=_E(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ya(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},bt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},bt.X=function(t){return us(t=_E(this,t))?-1:Ya(t)?0:1},bt.abs=function(){return us(this)?Ni(this):this},bt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Hn(n,-2147483648&n[n.length-1]?-1:0)},bt.R=function(t){if(Ya(this)||Ya(t))return sf;if(us(this))return us(t)?Ni(this).R(Ni(t)):Ni(Ni(this).R(t));if(us(t))return Ni(this.R(Ni(t)));if(0>this.X(B$)&&0>t.X(B$))return ra(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,vE(n,2*r+2*i),n[2*r+2*i+1]+=o*l,vE(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,vE(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,vE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Hn(n,0)},bt.gb=function(t){return yE(this,t).h},bt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Hn(n,this.h&t.h)},bt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Hn(n,this.h|t.h)},bt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Hn(n,this.h^t.h)},mE.prototype.createWebChannel=mE.prototype.g,Uo.prototype.send=Uo.prototype.u,Uo.prototype.open=Uo.prototype.m,Uo.prototype.close=Uo.prototype.close,iE.NO_ERROR=0,iE.TIMEOUT=8,iE.HTTP_ERROR=6,Q2.COMPLETE="complete",Z2.EventType=Mm,Mm.OPEN="a",Mm.CLOSE="b",Mm.ERROR="c",Mm.MESSAGE="d",wi.prototype.listen=wi.prototype.O,Or.prototype.listenOnce=Or.prototype.P,Or.prototype.getLastError=Or.prototype.Sa,Or.prototype.getLastErrorCode=Or.prototype.Ia,Or.prototype.getStatus=Or.prototype.da,Or.prototype.getResponseJson=Or.prototype.Wa,Or.prototype.getResponseText=Or.prototype.ja,Or.prototype.send=Or.prototype.ha,Or.prototype.setWithCredentials=Or.prototype.Oa,Ps.prototype.digest=Ps.prototype.l,Ps.prototype.reset=Ps.prototype.reset,Ps.prototype.update=Ps.prototype.j,Hn.prototype.add=Hn.prototype.add,Hn.prototype.multiply=Hn.prototype.R,Hn.prototype.modulo=Hn.prototype.gb,Hn.prototype.compare=Hn.prototype.X,Hn.prototype.toNumber=Hn.prototype.ea,Hn.prototype.toString=Hn.prototype.toString,Hn.prototype.getBits=Hn.prototype.D,Hn.fromNumber=ra,Hn.fromString=function $$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ni($$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ra(Math.pow(e,8)),r=sf,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ra(Math.pow(e,o)),r=r.R(o).add(ra(s))):r=(r=r.R(n)).add(ra(s))}return r};var Mre=Rs.createWebChannelTransport=function(){return new mE},xre=Rs.getStatEventTarget=function(){return rE()},uA=Rs.ErrorCode=iE,Nre=Rs.EventType=Q2,kre=Rs.Event=Ru,j$=Rs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IE=(Rs.FetchXmlHttpFactory=Vm,Rs.WebChannel=Z2),Ore=Rs.XhrIo=Or,Fre=Rs.Md5=Ps,lf=Rs.Integer=Hn;const H$="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let cf="10.8.0";const lc=new ea.YJ("@firebase/firestore");function uf(){return lc.logLevel}function Ue(t,...e){if(lc.logLevel<=ea.Ge.DEBUG){const n=e.map(dA);lc.debug(`Firestore (${cf}): ${t}`,...n)}}function jr(t,...e){if(lc.logLevel<=ea.Ge.ERROR){const n=e.map(dA);lc.error(`Firestore (${cf}): ${t}`,...n)}}function So(t,...e){if(lc.logLevel<=ea.Ge.WARN){const n=e.map(dA);lc.warn(`Firestore (${cf}): ${t}`,...n)}}function dA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function xt(t="Unexpected state"){const e=`FIRESTORE (${cf}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ft(t,e){t||xt()}function gt(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends hn.kx{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class z${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ci.UNAUTHENTICATED))}shutdown(){}}class Bre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ure{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,y.c)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ui)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft("string"==typeof r.accessToken),new z$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Ci(e)}}class jre{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hre{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jre(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft("string"==typeof n.token),this.R=n.token,new G$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class q${static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gre(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Zt(t,e){return t<e?-1:t>e?1:0}function df(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function W$(t){return t+"\0"}class br{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new br(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new br(0,0))}static max(){return new Ut(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zm{constructor(e,n,r){void 0===n?n=0:n>e.length&&xt(),void 0===r?r=e.length-n:r>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===zm.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class In extends zm{construct(e,n,r){return new In(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new In(n)}static emptyPath(){return new In([])}}const qre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends zm{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return qre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Le(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Le(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Le(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Le(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(In.fromString(e))}static fromName(e){return new vt(In.fromString(e).popFirst(5))}static empty(){return new vt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new In(e.slice()))}}class hf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function hA(t){return t.fields.find(e=>2===e.kind)}function Nu(t){return t.fields.filter(e=>2!==e.kind)}hf.UNKNOWN_ID=-1;class ku{constructor(e,n){this.fieldPath=e,this.kind=n}}class ff{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ff(0,jo.min())}}function K$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(1e9===r?new br(n+1,0):new br(n,r));return new jo(i,vt.empty(),e)}function Y$(t){return new jo(t.readTime,t.key,-1)}class jo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jo(Ut.min(),vt.empty(),-1)}static max(){return new jo(Ut.max(),vt.empty(),-1)}}function fA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=vt.comparator(t.documentKey,e.documentKey),0!==n?n:Zt(t.largestBatchId,e.largestBatchId))}const Q$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cc(t){return pA.apply(this,arguments)}function pA(){return pA=(0,y.c)(function*(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==Q$)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}),pA.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new ne((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class EE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ui,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Gm(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=gA(r.target.error);this.V.reject(new Gm(e,i))}}static open(e,n,r,i){try{return new EE(n,e.transaction(i,r))}catch(o){throw new Gm(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Qre(n)}}class ds{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===ds.S((0,hn.Su)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Ou(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.yy)())return!1;if(ds.C())return!0;const e=(0,hn.Su)(),n=ds.S(e),r=0<n&&n<10,i=ds.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,y.c)(function*(){return n.db||(Ue("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Gm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new Le(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Le(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Gm(e,a))},o.onupgradeneeded=s=>{Ue("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,y.c)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=EE.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),ne.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if(Ue("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yre{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ou(this.k.delete())}}class Gm extends Le{constructor(e,n){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function uc(t){return"IndexedDbTransactionError"===t.name}class Qre{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Ue("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ou(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Ou(this.store.add(e))}get(e){return Ou(this.store.get(e)).next(n=>(void 0===n&&(n=null),Ue("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Ou(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Ou(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new ne((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ne((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ne((r,i)=>{n.onerror=o=>{const s=gA(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new ne((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Yre(a),u=n(a.primaryKey,a.value,l);if(u instanceof ne){const h=u.catch(g=>(l.done(),ne.reject(g)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>ne.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ou(t){return new ne((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=gA(r.target.error);n(i)}})}let Z$=!1;function gA(t){const e=ds.S((0,hn.Su)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Z$||(Z$=!0,setTimeout(()=>{throw r},0)),r}}return t}class Xre{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Ue("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.c)(function*(){n.task=null;try{Ue("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(r){uc(r)?Ue("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield cc(r)}yield n.ee(6e4)}))}}class Zre{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,y.c)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return ne.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Ue("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(Ue("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=Y$(o);fA(s,r)>0&&(r=s)}),new jo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ho=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function qm(t){return null==t}function Wm(t){return 0===t&&1/t==-1/0}function J$(t){return"number"==typeof t&&Number.isInteger(t)&&!Wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Qi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eB(e)),e=Jre(t.get(n),e);return eB(e)}function Jre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function eB(t){return t+"\x01\x01"}function ia(t){const e=t.length;if(Ft(e>=2),2===e)return Ft("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),In.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&xt(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:xt()}o=s+2}return new In(r)}const tB=["userId","batchId"];function wE(t,e){return[t,Qi(e)]}function nB(t,e,n){return[t,Qi(e),n]}const eie={},tie=["prefixPath","collectionGroup","readTime","documentId"],nie=["prefixPath","collectionGroup","documentId"],rie=["collectionGroup","readTime","prefixPath","documentId"],iie=["canonicalId","targetId"],oie=["targetId","path"],sie=["path","targetId"],aie=["collectionId","parent"],lie=["indexId","uid"],cie=["uid","sequenceNumber"],uie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],die=["indexId","uid","orderedDocumentKey"],hie=["userId","collectionPath","documentId"],fie=["userId","collectionPath","largestBatchId"],pie=["userId","collectionGroup","largestBatchId"],rB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gie=[...rB,"documentOverlays"],iB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oB=iB,mie=[...oB,"indexConfiguration","indexState","indexEntries"];class mA extends X${constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function bi(t,e){const n=gt(t);return ds.M(n.ae,e)}function sB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class lr{constructor(e,n){this.comparator=e,this.root=n||ki.EMPTY}insert(e,n){return new lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CE(this.root,e,this.comparator,!1)}getReverseIterator(){return new CE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CE(this.root,e,this.comparator,!0)}}class CE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:ki.RED,this.left=null!=i?i:ki.EMPTY,this.right=null!=o?o:ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ki(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ki(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lB(this.data.getIterator())}getIteratorFrom(e){return new lB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class lB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pf(t){return t.hasNext()?t.getNext():void 0}class Ro{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Ro([])}unionWith(e){let n=new Qn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return df(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class cB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cB("Invalid base64 string: "+o):o}}(e);return new di(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const vie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hc(t){if(Ft(!!t),"string"==typeof t){let e=0;const n=vie.exec(t);if(Ft(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(t.seconds),nanos:Fr(t.nanos)}}function Fr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qa(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}function bE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function TE(t){const e=t.mapValue.fields.__previous_value__;return bE(e)?TE(e):e}function Km(t){const e=hc(t.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class yie{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DE={nullValue:"NULL_VALUE"};function gc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bE(t)?4:fB(t)?9007199254740991:10:xt()}function oa(t,e){if(t===e)return!0;const n=gc(t);if(n!==gc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Km(t).isEqual(Km(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=hc(i.timestampValue),a=hc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Qa(t.bytesValue).isEqual(Qa(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fr(i.geoPointValue.latitude)===Fr(o.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fr(i.integerValue)===Fr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Fr(i.doubleValue),a=Fr(o.doubleValue);return s===a?Wm(s)===Wm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return df(t.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(sB(s)!==sB(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!oa(s[l],a[l])))return!1;return!0}(t,e);default:return xt()}var o}function Ym(t,e){return void 0!==(t.values||[]).find(n=>oa(n,e))}function mc(t,e){if(t===e)return 0;const n=gc(t),r=gc(e);if(n!==r)return Zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Fr(o.integerValue||o.doubleValue),l=Fr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uB(t.timestampValue,e.timestampValue);case 4:return uB(Km(t),Km(e));case 5:return Zt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Qa(o),l=Qa(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Zt(a[u],l[u]);if(0!==h)return h}return Zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Zt(Fr(o.latitude),Fr(s.latitude));return 0!==a?a:Zt(Fr(o.longitude),Fr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=mc(a[u],l[u]);if(h)return h}return Zt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===pc.mapValue&&s===pc.mapValue)return 0;if(o===pc.mapValue)return 1;if(s===pc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const m=Zt(l[g],h[g]);if(0!==m)return m;const v=mc(a[l[g]],u[h[g]]);if(0!==v)return v}return Zt(l.length,h.length)}(t.mapValue,e.mapValue);default:throw xt()}}function uB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zt(t,e);const n=hc(t),r=hc(e),i=Zt(n.seconds,r.seconds);return 0!==i?i:Zt(n.nanos,r.nanos)}function gf(t){return _A(t)}function _A(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qa(t.bytesValue).toBase64():"referenceValue"in t?vt.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_A(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${_A(n.fields[s])}`;return i+"}"}(t.mapValue):xt()}function Fu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vA(t){return!!t&&"integerValue"in t}function Qm(t){return!!t&&"arrayValue"in t}function dB(t){return!!t&&"nullValue"in t}function hB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function SE(t){return!!t&&"mapValue"in t}function Xm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Iie(t){return"nullValue"in t?DE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fu(fc.empty(),vt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:xt()}function Eie(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fu(fc.empty(),vt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?pc:xt()}function pB(t,e){const n=mc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function gB(t,e){const n=mc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!SE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xm(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xm(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());SE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];SE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Oi(Xm(this.value))}}function mB(t){const e=[];return dc(t.fields,(n,r)=>{const i=new gr([n]);if(SE(r)){const o=mB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ro(e)}class mr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mr(e,0,Ut.min(),Ut.min(),Ut.min(),Oi.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Ut.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Ut.min(),Ut.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Ut.min(),Ut.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _c{constructor(e,n){this.position=e,this.inclusive=n}}function _B(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?vt.comparator(vt.fromName(s.referenceValue),n.key):mc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function vB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oa(t.position[n],e.position[n]))return!1;return!0}class Zm{constructor(e,n="asc"){this.field=e,this.dir=n}}function wie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yB{}class En extends yB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Cie(e,n,r):"array-contains"===n?new Die(e,r):"in"===n?new TB(e,r):"not-in"===n?new Aie(e,r):"array-contains-any"===n?new Sie(e,r):new En(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new bie(e,r):new Tie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(mc(n,this.value)):null!==n&&gc(this.value)===gc(n)&&this.matchesComparison(mc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends yB{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new zn(e,n)}matches(e){return mf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function mf(t){return"and"===t.op}function yA(t){return"or"===t.op}function IA(t){return IB(t)&&mf(t)}function IB(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function EA(t){if(t instanceof En)return t.field.canonicalString()+t.op.toString()+gf(t.value);if(IA(t))return t.filters.map(e=>EA(e)).join(",");{const e=t.filters.map(n=>EA(n)).join(",");return`${t.op}(${e})`}}function EB(t,e){return t instanceof En?(r=t,(i=e)instanceof En&&r.op===i.op&&r.field.isEqual(i.field)&&oa(r.value,i.value)):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&EB(s,i.filters[a]),!0)}(t,e):void xt();var r,i}function wB(t,e){const n=t.filters.concat(e);return zn.create(n,t.op)}function CB(t){return t instanceof En?`${(n=t).field.canonicalString()} ${n.op} ${gf(n.value)}`:t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(CB).join(" ,")+"}"}(t):"Filter";var n}class Cie extends En{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class bie extends En{constructor(e,n){super(e,"in",n),this.keys=bB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tie extends En{constructor(e,n){super(e,"not-in",n),this.keys=bB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class Die extends En{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qm(n)&&Ym(n.arrayValue,this.value)}}class TB extends En{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ym(this.value.arrayValue,n)}}class Aie extends En{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ym(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ym(this.value.arrayValue,n)}}class Sie extends En{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ym(this.value.arrayValue,r))}}class Rie{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function wA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Rie(t,e,n,r,i,o,s)}function Lu(t){const e=gt(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>EA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gf(r)).join(",")),e.ce=n}return e.ce}function Jm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vB(t.startAt,e.startAt)&&vB(t.endAt,e.endAt)}function RE(t){return vt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function PE(t,e){return t.filters.filter(n=>n instanceof En&&n.field.isEqual(e))}function DB(t,e,n){let r=DE,i=!0;for(const o of PE(t,e)){let s=DE,a=!0;switch(o.op){case"<":case"<=":s=Iie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=DE}pB({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];pB({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function AB(t,e,n){let r=pc,i=!0;for(const o of PE(t,e)){let s=pc,a=!0;switch(o.op){case">=":case">":s=Eie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=pc}gB({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];gB({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Xa{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function SB(t,e,n,r,i,o,s,a){return new Xa(t,e,n,r,i,o,s,a)}function _f(t){return new Xa(t)}function RB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function CA(t){return null!==t.collectionGroup}function vf(t){const e=gt(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qn(gr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Zm(o,r))}),n.has(gr.keyField().canonicalString())||e.le.push(new Zm(gr.keyField(),r))}return e.le}function fo(t){const e=gt(t);return e.he||(e.he=function PB(t,e){if("F"===t.limitType)return wA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Zm(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return wA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,vf(t))),e.he}function bA(t,e){const n=t.filters.concat([e]);return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ME(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function e_(t,e){return Jm(fo(t),fo(e))&&t.limitType===e.limitType}function MB(t){return`${Lu(fo(t))}|lt:${t.limitType}`}function yf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CB(i)).join(", ")}]`),qm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gf(i)).join(",")),`Target(${r})`}(fo(t))}; limitType=${t.limitType})`}function t_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):vt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of vf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=_B(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,vf(r),i)||r.endAt&&!function(s,a,l){const u=_B(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,vf(r),i)));var r,i}function xB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NB(t){return(e,n)=>{let r=!1;for(const i of vf(t)){const o=Pie(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Pie(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?mc(l,u):xt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt()}}class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aB(this.inner)}size(){return this.innerSize}}const Mie=new lr(vt.comparator);function Po(){return Mie}const kB=new lr(vt.comparator);function n_(...t){let e=kB;for(const n of t)e=e.insert(n.key,n);return e}function OB(t){let e=kB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function sa(){return r_()}function FB(){return r_()}function r_(){return new Za(t=>t.toString(),(t,e)=>t.isEqual(e))}const xie=new lr(vt.comparator),Nie=new Qn(vt.comparator);function un(...t){let e=Nie;for(const n of t)e=e.add(n);return e}const kie=new Qn(Zt);function TA(){return kie}function LB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(e)?"-0":e}}function VB(t){return{integerValue:""+t}}function $B(t,e){return J$(e)?VB(e):LB(t,e)}class xE{constructor(){this._=void 0}}function Oie(t,e,n){return t instanceof If?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bE(o)&&(o=TE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vu?UB(t,e):t instanceof $u?jB(t,e):function(i,o){const s=BB(i,o),a=HB(s)+HB(i.Ie);return vA(s)&&vA(i.Ie)?VB(a):LB(i.serializer,a)}(t,e)}function Fie(t,e,n){return t instanceof Vu?UB(t,e):t instanceof $u?jB(t,e):n}function BB(t,e){return t instanceof Ef?vA(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class If extends xE{}class Vu extends xE{constructor(e){super(),this.elements=e}}function UB(t,e){const n=zB(e);for(const r of t.elements)n.some(i=>oa(i,r))||n.push(r);return{arrayValue:{values:n}}}class $u extends xE{constructor(e){super(),this.elements=e}}function jB(t,e){let n=zB(e);for(const r of t.elements)n=n.filter(i=>!oa(i,r));return{arrayValue:{values:n}}}class Ef extends xE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function HB(t){return Fr(t.integerValue||t.doubleValue)}function zB(t){return Qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class i_{constructor(e,n){this.field=e,this.transform=n}}class Vie{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kE{}function GB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Cf(t.key,Tr.none()):new wf(t.key,t.data,Tr.none());{const n=t.data,r=Oi.empty();let i=new Qn(gr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ja(t.key,r,new Ro(i.toArray()),Tr.none())}}function $ie(t,e,n){t instanceof wf?function(i,o,s){const a=i.value.clone(),l=KB(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ja?function(i,o,s){if(!NE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=KB(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(WB(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function o_(t,e,n,r){return t instanceof wf?function(o,s,a,l){if(!NE(o.precondition,s))return a;const u=o.value.clone(),h=YB(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ja?function(o,s,a,l){if(!NE(o.precondition,s))return a;const u=YB(o.fieldTransforms,l,s),h=s.data;return h.setAll(WB(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,NE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Bie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=BB(r.transform,i||null);null!=o&&(null===n&&(n=Oi.empty()),n.set(r.field,o))}return n||null}function qB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&df(r,i,(o,s)=>function Lie(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Vu&&i instanceof Vu||r instanceof $u&&i instanceof $u?df(r.elements,i.elements,oa):r instanceof Ef&&i instanceof Ef?oa(r.Ie,i.Ie):r instanceof If&&i instanceof If);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class wf extends kE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends kE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KB(t,e,n){const r=new Map;Ft(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Fie(s,a,n[i]))}return r}function YB(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Oie(o,s,e))}return r}class Cf extends kE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DA extends kE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$ie(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=o_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=o_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FB();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=GB(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),un())}isEqual(e){return this.batchId===e.batchId&&df(this.mutations,e.mutations,(n,r)=>qB(n,r))&&df(this.baseMutations,e.baseMutations,(n,r)=>qB(n,r))}}class SA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length);let i=function(){return xie}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new SA(e,n,r,i)}}class RA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jie{constructor(e,n){this.count=e,this.unchangedNames=n}}var ni,An;function QB(t){switch(t){default:return xt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function XB(t){if(void 0===t)return jr("GRPC error has no .code"),pe.UNKNOWN;switch(t){case ni.OK:return pe.OK;case ni.CANCELLED:return pe.CANCELLED;case ni.UNKNOWN:return pe.UNKNOWN;case ni.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ni.INTERNAL:return pe.INTERNAL;case ni.UNAVAILABLE:return pe.UNAVAILABLE;case ni.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ni.NOT_FOUND:return pe.NOT_FOUND;case ni.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ni.ABORTED:return pe.ABORTED;case ni.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ni.DATA_LOSS:return pe.DATA_LOSS;default:return xt()}}(An=ni||(ni={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";function ZB(){return new TextEncoder}const Hie=new lf([4294967295,4294967295],0);function JB(t){const e=ZB().encode(t),n=new Fre;return n.update(e),new Uint8Array(n.digest())}function eU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lf([n,r],0),new lf([i,o],0)]}class PA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new s_(`Invalid padding: ${n}`);if(r<0)throw new s_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new s_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new s_(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=lf.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(lf.fromNumber(r)));return 1===i.compare(Hie)&&(i=new lf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=JB(e),[r,i]=eU(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new PA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=JB(e),[r,i]=eU(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class s_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class a_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,l_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new a_(Ut.min(),i,new lr(Zt),Po(),un())}}class l_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new l_(r,n,un(),un(),un())}}class FE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class tU{constructor(e,n){this.targetId=e,this.fe=n}}class nU{constructor(e,n,r=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rU{constructor(){this.ge=0,this.pe=oU(),this.ye=di.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=un(),n=un(),r=un();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt()}}),new l_(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=oU()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ft(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class zie{constructor(e){this.Le=e,this.ke=new Map,this.qe=Po(),this.Qe=iU(),this.Ke=new lr(Zt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(RE(o))if(0===r){const s=new vt(o.path);this.We(n,s,mr.newNoDocument(s,Ut.min()))}else Ft(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Qa(r).toUint8Array()}catch(l){if(l instanceof cB)return So("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new PA(s,i,o)}catch(l){return So(l instanceof s_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&RE(a.target)){const l=new vt(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,mr.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=un();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new a_(e,n,this.Ke,this.qe,r);return this.qe=Po(),this.Qe=iU(),this.Ke=new lr(Zt),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new rU,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qn(Zt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new rU),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iU(){return new lr(vt.comparator)}function oU(){return new lr(vt.comparator)}const Gie={asc:"ASCENDING",desc:"DESCENDING"},qie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wie={and:"AND",or:"OR"};class Kie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function MA(t,e){return t.useProto3Json||qm(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yie(t,e){return bf(t,e.toTimestamp())}function Hr(t){return Ft(!!t),Ut.fromTimestamp(function(n){const r=hc(n);return new br(r.seconds,r.nanos)}(t))}function xA(t,e){return NA(t,e).canonicalString()}function NA(t,e){const n=(i=t,new In(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function aU(t){const e=In.fromString(t);return Ft(_U(e)),e}function c_(t,e){return xA(t.databaseId,e.path)}function aa(t,e){const n=aU(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(uU(n))}function lU(t,e){return xA(t.databaseId,e)}function cU(t){const e=aU(t);return 4===e.length?In.emptyPath():uU(e)}function kA(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uU(t){return Ft(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function dU(t,e,n){return{name:c_(t,e),fields:n.value.mapValue.fields}}function hU(t,e,n){const r=aa(t,e.name),i=Hr(e.updateTime),o=e.createTime?Hr(e.createTime):Ut.min(),s=new Oi({mapValue:{fields:e.fields}}),a=mr.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function u_(t,e){let n;if(e instanceof wf)n={update:dU(t,e.key,e.value)};else if(e instanceof Cf)n={delete:c_(t,e.key)};else if(e instanceof Ja)n={update:dU(t,e.key,e.data),updateMask:roe(e.fieldMask)};else{if(!(e instanceof DA))return xt();n={verify:c_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof If)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $u)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ef)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw xt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Yie(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:xt()),n;var o}function OA(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Tr.updateTime(Hr(o.updateTime)):void 0!==o.exists?Tr.exists(o.exists):Tr.none():Tr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(Ft("REQUEST_TIME"===a.setToServerValue),l=new If):"appendMissingElements"in a?l=new Vu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new $u(a.removeAllFromArray.values||[]):"increment"in a?l=new Ef(s,a.increment):xt();const u=gr.fromServerFormat(a.fieldPath);return new i_(u,l)}(t,i)):[];var o;if(e.update){const i=aa(t,e.update.name),o=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Ro((e.updateMask.fieldPaths||[]).map(h=>gr.fromServerFormat(h)));return new Ja(i,o,s,n,r)}return new wf(i,o,n,r)}if(e.delete){const i=aa(t,e.delete);return new Cf(i,n)}if(e.verify){const i=aa(t,e.verify);return new DA(i,n)}return xt()}function fU(t,e){return{documents:[lU(t,e.path)]}}function FA(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lU(t,i);const o=function(u){if(0!==u.length)return mU(zn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(h=>{return{field:vc((m=h).field),direction:eoe(m.dir)};var m})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=MA(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i};var u}function pU(t){let e=cU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=gU(g);return m instanceof zn&&IA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new Zm(Tf((b=m).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,qm(m)?null:m}(n.limit));let l=null;var g;n.startAt&&(l=new _c((g=n.startAt).values||[],!!g.before));let u=null;return n.endAt&&(u=function(g){return new _c(g.values||[],!g.before)}(n.endAt)),SB(e,i,s,o,a,"F",l,u)}function gU(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tf(n.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tf(n.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tf(n.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Tf(n.unaryFilter.field);return En.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(t):void 0!==t.fieldFilter?En.create(Tf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return zn.create(n.compositeFilter.filters.map(r=>gU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(t):xt();var n}function eoe(t){return Gie[t]}function toe(t){return qie[t]}function noe(t){return Wie[t]}function vc(t){return{fieldPath:t.canonicalString()}}function Tf(t){return gr.fromServerFormat(t.fieldPath)}function mU(t){return t instanceof En?function(n){if("=="===n.op){if(hB(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NAN"}};if(dB(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(hB(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NAN"}};if(dB(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(n.field),op:toe(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>mU(i));return 1===r.length?r[0]:{compositeFilter:{op:noe(n.op),filters:r}}}(t):xt()}function roe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _U(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class el{constructor(e,n,r,i,o=Ut.min(),s=Ut.min(),a=di.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vU{constructor(e){this.ct=e}}function yU(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:LE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:c_(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:bf(o,s.version.toTimestamp()),createTime:bf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bu(e.version)};else{if(!e.isUnknownDocument())return xt();r.unknownDocument={path:n.path.toArray(),version:Bu(e.version)}}var o,s;return r}function LE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uu(t){const e=new br(t.seconds,t.nanoseconds);return Ut.fromTimestamp(e)}function ju(t,e){const n=(e.baseMutations||[]).map(o=>OA(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>OA(t.ct,o)),i=br.fromMillis(e.localWriteTimeMs);return new AA(e.batchId,i,n,r)}function d_(t){const e=Uu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Uu(t.lastLimboFreeSnapshotVersion):Ut.min();let r;return r=void 0!==t.query.documents?(Ft(1===(o=t.query).documents.length),fo(_f(cU(o.documents[0])))):function(o){return fo(pU(o))}(t.query),new el(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,di.fromBase64String(t.resumeToken));var o}function IU(t,e){const n=Bu(e.snapshotVersion),r=Bu(e.lastLimboFreeSnapshotVersion);let i;i=RE(e.target)?fU(t.ct,e.target):FA(t.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LA(t){const e=pU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ME(e,e.limit,"L"):e}function VA(t,e){return new RA(e.largestBatchId,OA(t.ct,e.overlayMutation))}function EU(t,e){const n=e.path.lastSegment();return[t,Qi(e.path.popLast()),n]}function wU(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Bu(r.readTime),documentKey:Qi(r.documentKey.path),largestBatchId:r.largestBatchId}}class ooe{getBundleMetadata(e,n){return CU(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Uu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return CU(e).put({bundleId:(i=n).id,createTime:Bu(Hr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return bU(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:LA(o.bundledQuery),readTime:Uu(o.readTime)};var o})}saveNamedQuery(e,n){return bU(e).put({name:(i=n).name,readTime:Bu(Hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function CU(t){return bi(t,"bundles")}function bU(t){return bi(t,"namedQueries")}class VE{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new VE(e,n.uid||"")}getOverlay(e,n){return h_(e).get(EU(this.userId,n)).next(r=>r?VA(this.serializer,r):null)}getOverlays(e,n){const r=sa();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new RA(n,s);i.push(this.ht(e,a))}),ne.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Qi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(h_(e).H("collectionPathOverlayIndex",a))}),ne.waitFor(o)}getOverlaysForCollection(e,n,r){const i=sa(),o=Qi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return h_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=VA(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=sa();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return h_(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const g=VA(this.serializer,u);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):h.done()}).next(()=>o)}ht(e,n){return h_(e).put(function(i,o,s){const[a,l,u]=EU(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:u_(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function h_(t){return bi(t,"documentOverlays")}class Hu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Fr(e.integerValue));else if("doubleValue"in e){const r=Fr(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Wm(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Qa(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?fB(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):xt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),vt.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function soe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function TU(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=soe(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Hu.bt=new Hu;class aoe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Bt(e){const n=this.Lt(e),r=TU(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Lt(e),r=TU(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class loe{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class coe{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class f_{constructor(){this.Gt=new aoe,this.zt=new loe(this.Gt),this.jt=new coe(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class zu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zu(this.indexId,this.documentKey,this.arrayValue,r)}}function yc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=DU(t.arrayValue,e.arrayValue),0!==n?n:(n=DU(t.directionalValue,e.directionalValue),0!==n?n:vt.comparator(t.documentKey,e.documentKey)))}function DU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class AU{constructor(e){this.Yt=new Qn((n,r)=>gr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Ft(e.collectionGroup===this.collectionId),this.en)return!1;const n=hA(e);if(void 0!==n&&!this.nn(n))return!1;const r=Nu(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new Qn(gr.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new ku(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ku(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ku(r.field,"asc"===r.dir?0:1)));return new hf(hf.UNKNOWN_ID,this.collectionId,n,ff.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function SU(t){var e,n;if(Ft(t instanceof En||t instanceof zn),t instanceof En){if(t instanceof TB){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>En.create(t.field,"==",o)))||[];return zn.create(i,"or")}return t}const r=t.filters.map(i=>SU(i));return zn.create(r,t.op)}function uoe(t){if(0===t.getFilters().length)return[];const e=UA(SU(t));return Ft(RU(e)),$A(e)||BA(e)?[e]:e.getFilters()}function $A(t){return t instanceof En}function BA(t){return t instanceof zn&&IA(t)}function RU(t){return $A(t)||BA(t)||function(n){if(n instanceof zn&&yA(n)){for(const r of n.getFilters())if(!$A(r)&&!BA(r))return!1;return!0}return!1}(t)}function UA(t){if(Ft(t instanceof En||t instanceof zn),t instanceof En)return t;if(1===t.filters.length)return UA(t.filters[0]);const e=t.filters.map(r=>UA(r));let n=zn.create(e,t.op);return n=$E(n),RU(n)?n:(Ft(n instanceof zn),Ft(mf(n)),Ft(n.filters.length>1),n.filters.reduce((r,i)=>jA(r,i)))}function jA(t,e){let n;return Ft(t instanceof En||t instanceof zn),Ft(e instanceof En||e instanceof zn),n=t instanceof En?e instanceof En?zn.create([t,e],"and"):PU(t,e):e instanceof En?PU(e,t):function(i,o){if(Ft(i.filters.length>0&&o.filters.length>0),mf(i)&&mf(o))return wB(i,o.getFilters());const s=yA(i)?i:o,a=yA(i)?o:i,l=s.filters.map(u=>jA(u,a));return zn.create(l,"or")}(t,e),$E(n)}function PU(t,e){if(mf(e))return wB(e,t.getFilters());{const n=e.filters.map(r=>jA(t,r));return zn.create(n,"or")}}function $E(t){if(Ft(t instanceof En||t instanceof zn),t instanceof En)return t;const e=t.getFilters();if(1===e.length)return $E(e[0]);if(IB(t))return t;const n=e.map(i=>$E(i)),r=[];return n.forEach(i=>{i instanceof En?r.push(i):i instanceof zn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:zn.create(r,t.op)}class doe{constructor(){this._n=new HA}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(jo.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class HA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qn(In.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(In.comparator)).toArray()}}const BE=new Uint8Array(0);class hoe{constructor(e,n){this.databaseId=n,this.an=new HA,this.un=new Za(r=>Lu(r),(r,i)=>Jm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:Qi(i)};return MU(e).put(o)}return ne.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[W$(n),""],!1,!0);return MU(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(ia(s.parent))}return r})}addFieldIndex(e,n){const r=p_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=Af(e);return o.next(a=>{s.put(wU(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=p_(e),i=Af(e),o=Df(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=p_(e),r=Df(e),i=Af(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return ne.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new AU(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Df(e);let i=!0;const o=new Map;return ne.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=un();const a=[];return ne.forEach(o,(l,u)=>{var ue;Ue("IndexedDbIndexManager",`Using index ${ue=l,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${Lu(n)}`);const h=function(ue,ge){const Ye=hA(ge);if(void 0===Ye)return null;for(const Ct of PE(ue,Ye.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(u,l),g=function(ue,ge){const Ye=new Map;for(const Ct of Nu(ge))for(const fn of PE(ue,Ct.fieldPath))switch(fn.op){case"==":case"in":Ye.set(Ct.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return Ye.set(Ct.fieldPath.canonicalString(),fn.value),Array.from(Ye.values())}return null}(u,l),m=function(ue,ge){const Ye=[];let Ct=!0;for(const fn of Nu(ge)){const nr=0===fn.kind?DB(ue,fn.fieldPath,ue.startAt):AB(ue,fn.fieldPath,ue.startAt);Ye.push(nr.value),Ct&&(Ct=nr.inclusive)}return new _c(Ye,Ct)}(u,l),v=function(ue,ge){const Ye=[];let Ct=!0;for(const fn of Nu(ge)){const nr=0===fn.kind?AB(ue,fn.fieldPath,ue.endAt):DB(ue,fn.fieldPath,ue.endAt);Ye.push(nr.value),Ct&&(Ct=nr.inclusive)}return new _c(Ye,Ct)}(u,l),b=this.hn(l,u,m),A=this.hn(l,u,v),R=this.Pn(l,u,g),H=this.In(l.indexId,h,b,m.inclusive,A,v.inclusive,R);return ne.forEach(H,B=>r.j(B,n.limit).next(ue=>{ue.forEach(ge=>{const Ye=vt.fromSegments(ge.documentKey);s.has(Ye)||(s=s.add(Ye),a.push(Ye))})}))}).next(()=>a)}return ne.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:uoe(zn.create(e.filters,"and")).map(r=>wA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),h=[];for(let g=0;g<l;++g){const m=n?this.Tn(n[g/u]):BE,v=this.En(e,m,r[g%u],i),b=this.dn(e,m,o[g%u],s),A=a.map(R=>this.En(e,m,R,!0));h.push(...this.createRange(v,b,A))}return h}En(e,n,r,i){const o=new zu(e,vt.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new zu(e,vt.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new AU(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return ne.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new Qn(gr.comparator),h=!1;for(const g of l.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:u=u.add(m.field));for(const g of l.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new f_;for(const i of Nu(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);Hu.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new f_;return Hu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new f_;return Hu.bt.Pt(Fu(this.databaseId,n),r.Ht(function(o){const s=Nu(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new f_);let o=0;for(const s of Nu(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&Qm(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);Hu.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new f_;l.seed(a.Wt()),Hu.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof En&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=p_(e),i=Af(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return ne.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(h,g){const m=g?new ff(g.sequenceNumber,new jo(Uu(g.readTime),new vt(ia(g.documentKey)),g.largestBatchId)):ff.empty(),v=h.fields.map(([b,A])=>new ku(gr.fromServerFormat(b),A));return new hf(h.indexId,h.collectionGroup,v,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Zt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=p_(e),o=Af(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ne.forEach(a,l=>o.put(wU(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return ne.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?ne.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ne.forEach(a,l=>this.pn(e,i,l).next(u=>{const h=this.yn(o,l);return u.isEqual(h)?ne.resolve():this.wn(e,o,l,u,h)}))))})}Sn(e,n,r,i){return Df(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Df(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Df(e);let o=new Qn(yc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new zu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Qn(yc);const i=this.An(n,e);if(null==i)return r;const o=hA(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Qm(s))for(const a of s.arrayValue.values||[])r=r.add(new zu(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new zu(n.indexId,e.key,BE,i));return r}wn(e,n,r,i,o){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,h,g,m){const v=l.getIterator(),b=u.getIterator();let A=pf(v),R=pf(b);for(;A||R;){let H=!1,B=!1;if(A&&R){const ue=h(A,R);ue<0?B=!0:ue>0&&(H=!0)}else null!=A?B=!0:H=!0;H?(g(R),R=pf(b)):B?(m(A),A=pf(v)):(A=pf(v),R=pf(b))}}(i,o,yc,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),ne.waitFor(s)}gn(e){let n=1;return Af(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>yc(s,a)).filter((s,a,l)=>!a||0!==yc(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=yc(s,e),l=yc(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,BE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,BE,[]]))}return o}Dn(e,n){return yc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(xU)}getMinOffset(e,n){return ne.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||xt())).next(xU)}}function MU(t){return bi(t,"collectionParents")}function Df(t){return bi(t,"indexEntries")}function p_(t){return bi(t,"indexConfiguration")}function Af(t){return bi(t,"indexState")}function xU(t){Ft(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;fA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jo(e.readTime,e.documentKey,n)}const NU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kU(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},(h,g,m)=>(a++,m.delete()));o.push(l.next(()=>{Ft(1===a)}));const u=[];for(const h of n.mutations){const g=nB(e,h.key.path,n.batchId);o.push(i.delete(g)),u.push(h.key)}return ne.waitFor(o).next(()=>u)}function UE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xt();e=t.noDocument}return JSON.stringify(e).length}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class jE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Ft(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new jE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Sf(e),s=Ic(e);return s.add({}).next(a=>{Ft("number"==typeof a);const l=new AA(a,n,r,i),u=function(v,b,A){const R=A.baseMutations.map(B=>u_(v.ct,B)),H=A.mutations.map(B=>u_(v.ct,B));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:R,mutations:H}}(this.serializer,this.userId,l),h=[];let g=new Qn((m,v)=>Zt(m.canonicalString(),v.canonicalString()));for(const m of i){const v=nB(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(s.put(u)),h.push(o.put(v,eie))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),ne.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return Ic(e).get(n).next(r=>r?(Ft(r.userId===this.userId),ju(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?ne.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ic(e).Y({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(Ft(a.batchId>=r),o=ju(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ic(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).W("userMutationsIndex",n).next(r=>r.map(i=>ju(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Sf(e).Y({range:i},(s,a,l)=>{const[u,h,g]=s,m=ia(h);if(u===this.userId&&n.path.isEqual(m))return Ic(e).get(g).next(v=>{if(!v)throw xt();Ft(v.userId===this.userId),o.push(ju(this.serializer,v))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(Zt);const i=[];return n.forEach(o=>{const s=wE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Sf(e).Y({range:a},(u,h,g)=>{const[m,v,b]=u,A=ia(v);m===this.userId&&o.path.isEqual(A)?r=r.add(b):g.done()});i.push(l)}),ne.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=wE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Qn(Zt);return Sf(e).Y({range:s},(l,u,h)=>{const[g,m,v]=l,b=ia(m);g===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(v)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Ic(e).get(o).next(s=>{if(null===s)throw xt();Ft(s.userId===this.userId),r.push(ju(this.serializer,s))}))}),ne.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return kU(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ne.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Sf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=ia(o[1]);i.push(l)}else a.done()}).next(()=>{Ft(0===i.length)})})}containsKey(e,n){return OU(e,this.userId,n)}xn(e){return FU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OU(t,e,n){const r=wE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Sf(t).Y({range:o,J:!0},(a,l,u)=>{const[h,g,m]=a;h===e&&g===i&&(s=!0),u.done()}).next(()=>s)}function Ic(t){return bi(t,"mutations")}function Sf(t){return bi(t,"documentMutations")}function FU(t){return bi(t,"mutationQueues")}class Gu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Gu(0)}static Bn(){return new Gu(-1)}}class foe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const r=new Gu(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>Ut.fromTimestamp(new br(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Rf(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(Ft(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Rf(e).Y((s,a)=>{const l=d_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>ne.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Rf(e).Y((r,i)=>{const o=d_(i);n(o)})}Ln(e){return LU(e).get("targetGlobalKey").next(n=>(Ft(null!==n),n))}kn(e,n){return LU(e).put("targetGlobalKey",n)}qn(e,n){return Rf(e).put(IU(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Lu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Rf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=d_(a);Jm(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ec(e);return n.forEach(s=>{const a=Qi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),ne.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ec(e);return ne.forEach(n,o=>{const s=Qi(o.path);return ne.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ec(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ec(e);let o=un();return i.Y({range:r,J:!0},(s,a,l)=>{const u=ia(s[1]),h=new vt(u);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Qi(n.path),i=IDBKeyRange.bound([r],[W$(r)],!1,!0);let o=0;return Ec(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,n){return Rf(e).get(n).next(r=>r?d_(r):null)}}function Rf(t){return bi(t,"targets")}function LU(t){return bi(t,"targetGlobal")}function Ec(t){return bi(t,"targetDocuments")}function VU([t,e],[n,r]){const i=Zt(t,n);return 0===i?Zt(e,r):i}class poe{constructor(e){this.Kn=e,this.buffer=new Qn(VU),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $U{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.c)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){uc(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cc(r)}yield n.zn(3e5)}))}}class goe{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ne.resolve(Ho._e);const r=new poe(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(NU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NU):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),uf()<=ea.Ge.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${g} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}class moe{constructor(e,n){this.db=e,this.garbageCollector=function BU(t,e){return new goe(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return HE(e,r)}removeReference(e,n,r){return HE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return HE(e,n)}er(e,n){return function(i,o){let s=!1;return FU(i).Z(a=>OU(i,a,o).next(l=>(l&&(s=!0),ne.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ut.min()),Ec(e).delete([0,Qi(s.path)])))});i.push(l)}}).next(()=>ne.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return HE(e,n)}Xn(e,n){const r=Ec(e);let i,o=Ho._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==Ho._e&&n(new vt(ia(i)),o),o=u,i=l):o=Ho._e}).next(()=>{o!==Ho._e&&n(new vt(ia(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function HE(t,e){return Ec(t).put((i=t.currentSequenceNumber,{targetId:0,path:Qi(e.path),sequenceNumber:i}));var i}class UU{constructor(){this.changes=new Za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _oe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return qu(e).put(r)}removeEntry(e,n,r){return qu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],LE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=mr.newInvalidDocument(n);return qu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(g_(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:mr.newInvalidDocument(n)};return qu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(g_(n))},(i,o)=>{r={document:this.nr(n,o),size:UE(o)}}).next(()=>r)}getEntries(e,n){let r=Po();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Po(),i=new lr(vt.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,UE(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return ne.resolve();let i=new Qn(GU);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(g_(i.first()),g_(i.last())),s=i.getIterator();let a=s.getNext();return qu(e).Y({index:"documentKeyIndex",range:o},(l,u,h)=>{const g=vt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&GU(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?h.U(g_(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),LE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qu(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let h=Po();for(const g of u){const m=this.nr(vt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(t_(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=Po();const s=zU(n,r),a=zU(n,jo.max());return qu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,h)=>{const g=this.nr(vt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(g.key,g),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new voe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return HU(e).get("remoteDocumentGlobalKey").next(n=>(Ft(!!n),n))}tr(e,n){return HU(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function ioe(t,e){let n;if(e.document)n=hU(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=vt.fromSegments(e.noDocument.path),i=Uu(e.noDocument.readTime);n=mr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const r=vt.fromSegments(e.unknownDocument.path),i=Uu(e.unknownDocument.version);n=mr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new br(i[0],i[1]);return Ut.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return mr.newInvalidDocument(e)}}function jU(t){return new _oe(t)}class voe extends UU{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Za(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Qn((o,s)=>Zt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=yU(this.ar.serializer,s);i=i.add(o.path.popLast());const u=UE(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=yU(this.ar.serializer,s.convertToNoDocument(Ut.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),ne.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function HU(t){return bi(t,"remoteDocumentGlobal")}function qu(t){return bi(t,"remoteDocumentsV14")}function g_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zU(t,e){const n=e.documentKey.path.toArray();return[t,LE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function GU(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Zt(n[o],r[o]),i)return i;return i=Zt(n.length,r.length),i||(i=Zt(n[n.length-2],r[r.length-2]),i||Zt(n[n.length-1],r[r.length-1]))}class yoe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&o_(r.mutation,i,Ro.empty(),br.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,un()).next(()=>r))}getLocalViewOfDocuments(e,n,r=un()){const i=sa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=n_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=sa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,un()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Po();const s=r_(),a=r_();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof Ja)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),o_(h.mutation,u,h.mutation.getFieldMask(),br.now())):s.set(u.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var g;return a.set(u,new yoe(h,null!==(g=s.get(u))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=r_();let i=new lr((s,a)=>s-a),o=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let h=r.get(l)||Ro.empty();h=a.applyToLocalView(u,h),r.set(l,h);const g=(i.get(a.batchId)||un()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,g=FB();h.forEach(m=>{if(!o.has(m)){const v=GB(n.get(m),r.get(m));null!==v&&g.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return vt.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):CA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ne.resolve(sa());let a=-1,l=o;return s.next(u=>ne.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?ne.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,un())).next(h=>({batchId:a,changes:OB(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=n_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=n_();return this.indexManager.getCollectionParents(e,o).next(a=>ne.forEach(a,l=>{const u=(g=n,m=l.child(o),new Xa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,mr.newInvalidDocument(h)))});let a=n_();return s.forEach((l,u)=>{const h=o.get(l);void 0!==h&&o_(h.mutation,u,Ro.empty(),br.now()),t_(n,u)&&(a=a.insert(l,u))}),a})}}class Ioe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Hr(i.createTime)}),ne.resolve();var i}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:LA(i.bundledQuery),readTime:Hr(i.readTime)}),ne.resolve();var i}}class Eoe{constructor(){this.overlays=new lr(vt.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sa();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=sa(),o=n.length+1,s=new vt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lr((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);null===h&&(h=sa(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=sa(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RA(n,r));let o=this.hr.get(n);void 0===o&&(o=un(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class zA{constructor(){this.Pr=new Qn(Ti.Ir),this.Tr=new Qn(Ti.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ti(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ti(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new vt(new In([])),r=new Ti(n,e),i=new Ti(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new vt(new In([])),r=new Ti(n,e),i=new Ti(n,e+1);let o=un();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ti(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return vt.comparator(e.key,n.key)||Zt(e.pr,n.pr)}static Er(e,n){return Zt(e.pr,n.pr)||vt.comparator(e.key,n.key)}}class woe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qn(Ti.Ir)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new AA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Ti(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ti(n,0),i=new Ti(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(Zt);return n.forEach(i=>{const o=new Ti(i,0),s=new Ti(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;vt.isDocumentKey(o)||(o=o.child(""));const s=new Ti(new vt(o),0);let a=new Qn(Zt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),ne.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ft(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const o=new Ti(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ti(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Coe{constructor(e){this.vr=e,this.docs=new lr(vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Po();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mr.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Po();const s=n.path,a=new vt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||fA(Y$(h),r)<=0||(i.has(h.key)||t_(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xt()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new boe(this)}getSize(e){return ne.resolve(this.size)}}class boe extends UU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Toe{constructor(e){this.persistence=e,this.Mr=new Za(n=>Lu(n),Jm),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Or=0,this.Nr=new zA,this.targetCount=0,this.Br=Gu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Gu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}class GA{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Ho(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Toe(this),this.indexManager=new doe,this.remoteDocumentCache=new Coe(r=>this.referenceDelegate.Kr(r)),this.serializer=new vU(n),this.$r=new Ioe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Eoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new woe(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new Doe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Doe extends X${constructor(e){super(),this.currentSequenceNumber=e}}class zE{constructor(e){this.persistence=e,this.zr=new zA,this.jr=null}static Hr(e){return new zE(e)}get Jr(){if(this.jr)return this.jr;throw xt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=vt.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Ut.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Aoe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new EE("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tB,{unique:!0}),l.createObjectStore("documentMutations"),WU(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=ne.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),WU(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tB,{unique:!0});const g=u.store("mutations"),m=h.map(v=>g.put(v));return ne.waitFor(m)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:hie});u.createIndex("collectionPathOverlayIndex",fie,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",pie,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:tie});u.createIndex("documentKeyIndex",nie),u.createIndex("collectionGroupIndex",rie)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:lie}).createIndex("sequenceNumberIndex",cie,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:uie}).createIndex("documentKeyIndex",die,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=UE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ne.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>ne.forEach(a,l=>{Ft(l.userId===o.userId);const u=ju(this.serializer,l);return kU(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const l=new In(s),u=[0,Qi(l)];o.push(n.get(u).next(h=>h?ne.resolve():n.put({targetId:0,path:Qi(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:aie});const r=n.store("collectionParents"),i=new HA,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Qi(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new In(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const h=ia(a);return o(h.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const o=d_(i),s=IU(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(g=s,g.document?new vt(In.fromString(g.document.name).popFirst(5)):g.noDocument?vt.fromSegments(g.noDocument.path):g.unknownDocument?vt.fromSegments(g.unknownDocument.path):xt()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var g;i.push(a.put(u))}).next(()=>ne.waitFor(i))}si(e,n){const r=n.store("mutations"),i=jU(this.serializer),o=new GA(zE.Hr,this.serializer.ct);return r.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:un();ju(this.serializer,l).keys().forEach(g=>h=h.add(g)),a.set(l.userId,h)}),ne.forEach(a,(l,u)=>{const h=new Ci(u),g=VE.lt(this.serializer,h),m=o.getIndexManager(h),v=jE.lt(h,this.serializer,m,o.referenceDelegate);return new qU(i,v,g,m).recalculateAndSaveOverlaysForDocumentKeys(new mA(n,Ho._e),l).next()})})}}function WU(t){t.createObjectStore("targetDocuments",{keyPath:oie}).createIndex("documentTargetsIndex",sie,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iie,{unique:!0}),t.createObjectStore("targetGlobal")}const qA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WA{constructor(e,n,r,i,o,s,a,l,u,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=h,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!WA.D())throw new Le(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new moe(this,i),this.Ti=n+"main",this.serializer=new vU(l),this.Ei=new ds(this.Ti,this.ui,new Aoe(this.serializer)),this.Qr=new foe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jU(this.serializer),this.$r=new ooe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===h&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(pe.FAILED_PRECONDITION,qA);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ho(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,y.c)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,y.c)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,y.c)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(uc(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return m_(e).get("owner").next(n=>ne.resolve(this.Si(n)))}bi(e){return qE(e).delete(this.clientId)}Di(){var e=this;return(0,y.c)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=bi(r,"clientMetadata");return i.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return ne.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ne.resolve(!0):m_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Le(pe.FAILED_PRECONDITION,qA);return!1}}return!(!this.networkEnabled||!this.inForeground)||qE(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Ue("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,y.c)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new mA(n,Ho._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>qE(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return jE.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hoe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return VE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(l=this.ui)?mie:14===l?oB:13===l?iB:12===l?gie:11===l?rB:void xt();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new mA(a,this.kr?this.kr.next():Ho._e),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Le(pe.FAILED_PRECONDITION,Q$);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return m_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Le(pe.FAILED_PRECONDITION,qA)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return m_(e).put("owner",n)}static D(){return ds.D()}yi(e){const n=m_(e);return n.get("owner").next(r=>this.Si(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ne.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(jr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,hn.qk)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function m_(t){return bi(t,"owner")}function qE(t){return bi(t,"clientMetadata")}function KA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class YA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=un(),i=un();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new YA(e,n.fromCache,r,i)}}class Soe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,hn.qk)()?8:ds.v((0,hn.Su)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Soe;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(uf()<=ea.Ge.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",yf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(uf()<=ea.Ge.DEBUG&&Ue("QueryEngine","Query:",yf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(uf()<=ea.Ge.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",yf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(n))):ne.resolve())}ji(e,n){if(RB(n))return ne.resolve(null);let r=fo(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ME(n,null,"F"),r=fo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=un(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,ME(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return RB(n)||i.isEqual(Ut.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?ne.resolve(null):(uf()<=ea.Ge.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yf(n)),this.es(e,s,n,K$(i,-1)).next(a=>a))})}Zi(e,n){let r=new Qn(NB(e));return n.forEach((i,o)=>{t_(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return uf()<=ea.Ge.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",yf(n)),this.zi.getDocumentsMatchingQuery(e,n,jo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Roe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new lr(Zt),this.rs=new Za(o=>Lu(o),Jm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function YU(t,e,n,r){return new Roe(t,e,n,r)}function QU(t,e){return QA.apply(this,arguments)}function QA(){return QA=(0,y.c)(function*(t,e){const n=gt(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=un();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}),QA.apply(this,arguments)}function XU(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function ZU(t,e,n){let r=un(),i=un();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Po();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function xoe(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pf(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,ne.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new el(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Mf(t,e,n){return XA.apply(this,arguments)}function XA(){return XA=(0,y.c)(function*(t,e,n){const r=gt(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!uc(s))throw s;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),XA.apply(this,arguments)}function WE(t,e,n){const r=gt(t);let i=Ut.min(),o=un();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const g=gt(l),m=g.rs.get(h);return void 0!==m?ne.resolve(g.ns.get(m)):g.Qr.getTargetData(u,h)}(r,s,fo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Ut.min(),n?o:un())).next(a=>(tj(r,xB(e),a),{documents:a,hs:o})))}function JU(t,e){const n=gt(t),r=gt(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function ej(t,e){const n=gt(t),r=n.ss.get(e)||Ut.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,K$(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(tj(n,e,i),i))}function tj(t,e,n){let r=t.ss.get(e)||Ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function ZA(){return ZA=(0,y.c)(function*(t,e,n,r){const i=gt(t);let o=un(),s=Po();for(const u of n){const h=e.Ps(u.metadata.name);u.document&&(o=o.add(h));const g=e.Is(u);g.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(h,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield Pf(i,(h=r,fo(_f(In.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>ZU(u,a,s).next(h=>(a.apply(u),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.cs,h.ls)).next(()=>h.cs)))}),ZA.apply(this,arguments)}function koe(t,e){return JA.apply(this,arguments)}function JA(){return JA=(0,y.c)(function*(t,e,n=un()){const r=yield Pf(t,fo(LA(e.bundledQuery))),i=gt(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Hr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(di.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}),JA.apply(this,arguments)}function nj(t,e){return`firestore_clients_${t}_${e}`}function rj(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function eS(t,e){return`firestore_targets_${t}_${e}`}class KE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new Le(i.error.code,i.error.message))),s?new KE(e,n,i.state,o):(jr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class __{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Le(r.error.code,r.error.message))),o?new __(e,r.state,i):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=TA();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=J$(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new YE(e,o):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class tS{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new tS(n.clientId,n.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nS{constructor(){this.activeTargetIds=TA()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rS{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new lr(Zt),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=nj(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new nS),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.c)(function*(){const n=yield e.syncEngine.Li();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(nj(e.persistenceKey,i));if(o){const s=YE.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,r){this.Bs(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(eS(this.persistenceKey,e));if(r){const i=__.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eS(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ue("SharedClientState","READ",e,n),n}setItem(e,n){Ue("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,y.c)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=Ho._e;if(null!=s)try{const l=JSON.parse(s);Ft("number"==typeof l),a=l}catch(l){jr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==Ho._e&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,r){const i=new KE(this.currentUser,e,n,r),o=rj(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Ls(e){const n=rj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=eS(this.persistenceKey,e),o=new __(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return YE.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return KE.Es(new Ci(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return __.Es(i,n)}xs(e){return tS.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,y.c)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=TA();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class ij{constructor(){this.no=new nS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new nS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ooe{io(e){}shutdown(){}}class oj{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QE=null;function iS(){return null===QE?QE=268435456+Math.round(2147483648*Math.random()):QE++,"0x"+QE.toString(16)}const Foe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Loe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Zi="WebChannelConnection";class Voe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=iS(),l=this.bo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(h=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw So("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+cf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${Foe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=iS();return new Promise((s,a)=>{const l=new Ore;l.setWithCredentials(!0),l.listenOnce(Nre.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uA.NO_ERROR:const h=l.getResponseJson();Ue(Zi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case uA.TIMEOUT:Ue(Zi,`RPC '${e}' ${o} timed out`),a(new Le(pe.DEADLINE_EXCEEDED,"Request time out"));break;case uA.HTTP_ERROR:const g=l.getStatus();if(Ue(Zi,`RPC '${e}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=null==m?void 0:m.error;if(v&&v.status&&v.message){const b=function(R){const H=R.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(H)>=0?H:pe.UNKNOWN}(v.status);a(new Le(b,v.message))}else a(new Le(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Le(pe.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Ue(Zi,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ue(Zi,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=iS(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mre(),a=xre(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");Ue(Zi,`Creating RPC '${e}' stream ${i}: ${h}`,l);const g=s.createWebChannel(h,l);let m=!1,v=!1;const b=new Loe({lo:R=>{v?Ue(Zi,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(Ue(Zi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),Ue(Zi,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},ho:()=>g.close()}),A=(R,H,B)=>{R.listen(H,ue=>{try{B(ue)}catch(ge){setTimeout(()=>{throw ge},0)}})};return A(g,IE.EventType.OPEN,()=>{v||Ue(Zi,`RPC '${e}' stream ${i} transport opened.`)}),A(g,IE.EventType.CLOSE,()=>{v||(v=!0,Ue(Zi,`RPC '${e}' stream ${i} transport closed`),b.Vo())}),A(g,IE.EventType.ERROR,R=>{v||(v=!0,So(Zi,`RPC '${e}' stream ${i} transport errored:`,R),b.Vo(new Le(pe.UNAVAILABLE,"The operation could not be completed")))}),A(g,IE.EventType.MESSAGE,R=>{var H;if(!v){const B=R.data[0];Ft(!!B);const ge=B.error||(null===(H=B[0])||void 0===H?void 0:H.error);if(ge){Ue(Zi,`RPC '${e}' stream ${i} received error:`,ge);const Ye=ge.status;let Ct=function(sl){const A0=ni[sl];if(void 0!==A0)return XB(A0)}(Ye),fn=ge.message;void 0===Ct&&(Ct=pe.INTERNAL,fn="Unknown error status: "+Ye+" with message "+ge.message),v=!0,b.Vo(new Le(Ct,fn)),g.close()}else Ue(Zi,`RPC '${e}' stream ${i} received:`,B),b.mo(B)}}),A(a,kre.STAT_EVENT,R=>{R.stat===j$.PROXY?Ue(Zi,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===j$.NOPROXY&&Ue(Zi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function sj(){return typeof window<"u"?window:null}function XE(){return typeof document<"u"?document:null}function v_(t){return new Kie(t,!0)}class oS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class aj{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new oS(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,y.c)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,y.c)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return(0,y.c)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Le(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,y.c)(function*(){e.state=0,e.start()}))}__(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $oe extends aj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Xie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:xt(),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ft(void 0===h||"string"==typeof h),di.fromBase64String(h||"")):(Ft(void 0===h||h instanceof Uint8Array),di.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?pe.UNKNOWN:XB(u.code);return new Le(h,u.message||"")}(s);n=new nU(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=aa(t,r.document.name),o=Hr(r.document.updateTime),s=r.document.createTime?Hr(r.document.createTime):Ut.min(),a=new Oi({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(i,o,s,a);n=new FE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=aa(t,r.document),o=r.readTime?Hr(r.readTime):Ut.min(),s=mr.newNoDocument(i,o);n=new FE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=aa(t,r.document);n=new FE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return xt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new jie(i,o);n=new tU(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ut.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ut.min():s.readTime?Hr(s.readTime):Ut.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=kA(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=RE(l)?{documents:fU(o,l)}:{query:FA(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=sU(o,s.resumeToken);const u=MA(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ut.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());const u=MA(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Jie(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=kA(this.serializer),n.removeTarget=e,this.t_(n)}}class Boe extends aj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function Zie(t,e){return t&&t.length>0?(Ft(void 0!==e),t.map(n=>function(i,o){let s=Hr(i.updateTime?i.updateTime:o);return s.isEqual(Ut.min())&&(s=Hr(o)),new Vie(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.T_(r,n)}return Ft(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=kA(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>u_(this.serializer,r))};this.t_(n)}}class Uoe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Le(pe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,NA(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(pe.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,NA(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(pe.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Hoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(jr(n),this.g_=!1):Ue("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class zoe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget((0,y.c)(function*(){var l;wc(s)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,y.c)(function*(h){const g=gt(h);g.v_.add(4),yield xf(g),g.x_.set("Unknown"),g.v_.delete(4),yield y_(g)}),function u(h){return l.apply(this,arguments)})(s))}))}),this.x_=new Hoe(r,i)}}function y_(t){return aS.apply(this,arguments)}function aS(){return aS=(0,y.c)(function*(t){if(wc(t))for(const e of t.F_)yield e(!0)}),aS.apply(this,arguments)}function xf(t){return lS.apply(this,arguments)}function lS(){return lS=(0,y.c)(function*(t){for(const e of t.F_)yield e(!1)}),lS.apply(this,arguments)}function ZE(t,e){const n=gt(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),dS(n)?uS(n):kf(n).Jo()&&cS(n,e))}function I_(t,e){const n=gt(t),r=kf(n);n.C_.delete(e),r.Jo()&&lj(n,e),0===n.C_.size&&(r.Jo()?r.Xo():wc(n)&&n.x_.set("Unknown"))}function cS(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kf(t).c_(e)}function lj(t,e){t.O_.Oe(e),kf(t).l_(e)}function uS(t){t.O_=new zie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),kf(t).start(),t.x_.p_()}function dS(t){return wc(t)&&!kf(t).Ho()&&t.C_.size>0}function wc(t){return 0===gt(t).v_.size}function cj(t){t.O_=void 0}function Goe(t){return hS.apply(this,arguments)}function hS(){return hS=(0,y.c)(function*(t){t.C_.forEach((e,n)=>{cS(t,e)})}),hS.apply(this,arguments)}function qoe(t,e){return fS.apply(this,arguments)}function fS(){return fS=(0,y.c)(function*(t,e){cj(t),dS(t)?(t.x_.S_(e),uS(t)):t.x_.set("Unknown")}),fS.apply(this,arguments)}function Woe(t,e,n){return pS.apply(this,arguments)}function pS(){return pS=(0,y.c)(function*(t,e,n){if(t.x_.set("Online"),e instanceof nU&&2===e.state&&e.cause)try{yield(r=(0,y.c)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield JE(t,r)}else if(e instanceof FE?t.O_.$e(e):e instanceof tU?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ut.min()))try{const r=yield XU(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.C_.get(u);h&&o.C_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.C_.get(l);if(!h)return;o.C_.set(l,h.withResumeToken(di.EMPTY_BYTE_STRING,h.snapshotVersion)),lj(o,l);const g=new el(h.target,l,u,h.sequenceNumber);cS(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield JE(t,r)}var r}),pS.apply(this,arguments)}function JE(t,e,n){return gS.apply(this,arguments)}function gS(){return gS=(0,y.c)(function*(t,e,n){if(!uc(e))throw e;t.v_.add(1),yield xf(t),t.x_.set("Offline"),n||(n=()=>XU(t.localStore)),t.asyncQueue.enqueueRetryable((0,y.c)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield y_(t)}))}),gS.apply(this,arguments)}function uj(t,e){return e().catch(n=>JE(t,n,e))}function Nf(t){return mS.apply(this,arguments)}function mS(){return mS=(0,y.c)(function*(t){const e=gt(t),n=Cc(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Koe(e);)try{const i=yield xoe(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,Yoe(e,i)}catch(i){yield JE(e,i)}dj(e)&&hj(e)}),mS.apply(this,arguments)}function Koe(t){return wc(t)&&t.D_.length<10}function Yoe(t,e){t.D_.push(e);const n=Cc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function dj(t){return wc(t)&&!Cc(t).Ho()&&t.D_.length>0}function hj(t){Cc(t).start()}function Qoe(t){return _S.apply(this,arguments)}function _S(){return _S=(0,y.c)(function*(t){Cc(t).d_()}),_S.apply(this,arguments)}function Xoe(t){return vS.apply(this,arguments)}function vS(){return vS=(0,y.c)(function*(t){const e=Cc(t);for(const n of t.D_)e.I_(n.mutations)}),vS.apply(this,arguments)}function Zoe(t,e,n){return yS.apply(this,arguments)}function yS(){return yS=(0,y.c)(function*(t,e,n){const r=t.D_.shift(),i=SA.from(r,e,n);yield uj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Nf(t)}),yS.apply(this,arguments)}function Joe(t,e){return IS.apply(this,arguments)}function IS(){return IS=(0,y.c)(function*(t,e){var n;e&&Cc(t).P_&&(yield(n=(0,y.c)(function*(i,o){if(QB(a=o.code)&&a!==pe.ABORTED){const s=i.D_.shift();Cc(i).Zo(),yield uj(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Nf(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),dj(t)&&hj(t)}),IS.apply(this,arguments)}function fj(t,e){return ES.apply(this,arguments)}function ES(){return ES=(0,y.c)(function*(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=wc(n);n.v_.add(3),yield xf(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield y_(n)}),ES.apply(this,arguments)}function wS(t,e){return CS.apply(this,arguments)}function CS(){return CS=(0,y.c)(function*(t,e){const n=gt(t);e?(n.v_.delete(2),yield y_(n)):e||(n.v_.add(2),yield xf(n),n.x_.set("Unknown"))}),CS.apply(this,arguments)}function kf(t){return t.N_||(t.N_=function(n,r,i){const o=gt(n);return o.R_(),new $oe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Goe.bind(null,t),To:qoe.bind(null,t),u_:Woe.bind(null,t)}),t.F_.push(function(){var e=(0,y.c)(function*(n){n?(t.N_.Zo(),dS(t)?uS(t):t.x_.set("Unknown")):(yield t.N_.stop(),cj(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Cc(t){return t.B_||(t.B_=function(n,r,i){const o=gt(n);return o.R_(),new Boe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Qoe.bind(null,t),To:Joe.bind(null,t),E_:Xoe.bind(null,t),T_:Zoe.bind(null,t)}),t.F_.push(function(){var e=(0,y.c)(function*(n){n?(t.B_.Zo(),yield Nf(t)):(yield t.B_.stop(),t.D_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class bS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new bS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(t,e){if(jr("AsyncQueue",`${e}: ${t}`),uc(t))return new Le(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class Ff{constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=n_(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new Ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ff)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ff;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class pj{constructor(){this.L_=new lr(vt.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):xt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lf{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Lf(e,n,Ff.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&e_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ese{constructor(){this.q_=void 0,this.Q_=[]}}class tse{constructor(){this.queries=new Za(e=>MB(e),e_),this.onlineState="Unknown",this.K_=new Set}}function TS(t,e){return DS.apply(this,arguments)}function DS(){return DS=(0,y.c)(function*(t,e){const n=gt(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ese),i)try{o.q_=yield n.onListen(r)}catch(s){const a=Of(s,`Initialization of query '${yf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&RS(n)}),DS.apply(this,arguments)}function AS(t,e){return SS.apply(this,arguments)}function SS(){return SS=(0,y.c)(function*(t,e){const n=gt(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),SS.apply(this,arguments)}function nse(t,e){const n=gt(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&RS(n)}function rse(t,e,n){const r=gt(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function RS(t){t.K_.forEach(e=>{e.next()})}class PS{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Lf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class ise{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class gj{constructor(e){this.serializer=e}Ps(e){return aa(this.serializer,e)}Is(e){return e.metadata.exists?hU(this.serializer,e.document,!1):mr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Hr(e)}}class ose{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mj(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=In.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new gj(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||un()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,y.c)(function*(){const n=yield function Noe(t,e,n,r){return ZA.apply(this,arguments)}(e.localStore,new gj(e.serializer),e.documents,e.ta.id),r=e.ra(e.documents);for(const i of e.queries)yield koe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function mj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class _j{constructor(e){this.key=e}}class vj{constructor(e){this.key=e}}class yj{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=un(),this.mutatedKeys=un(),this.ua=NB(e),this.ca=new Ff(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new pj,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),v=t_(this.query,g)?g:null,b=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;m&&v?m.data.isEqual(v.data)?b!==A&&(r.track({type:3,doc:v}),R=!0):this.Ia(m,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.ua(v,l)>0||u&&this.ua(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(l||u)&&(a=!0)),R&&(v?(s=s.add(v),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((h,g)=>function(v,b){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return A(v)-A(b)}(h.type,g.type)||this.ua(h.doc,g.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],l=0===this.aa.size&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,0!==s.length||u?{snapshot:new Lf(this.query,e.ca,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new pj,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=un(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new vj(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new _j(r))}),n}Ra(e){this.oa=e.hs,this.aa=un();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Lf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class sse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ase{constructor(e){this.key=e,this.ma=!1}}class lse{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Za(a=>MB(a),e_),this.pa=new Map,this.ya=new Set,this.wa=new lr(vt.comparator),this.Sa=new Map,this.ba=new zA,this.Da={},this.Ca=new Map,this.va=Gu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function cse(t,e){return MS.apply(this,arguments)}function MS(){return MS=(0,y.c)(function*(t,e){const n=eR(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=yield Pf(n.localStore,fo(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield xS(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&ZE(n.remoteStore,s)}return i}),MS.apply(this,arguments)}function xS(t,e,n,r,i){return NS.apply(this,arguments)}function NS(){return NS=(0,y.c)(function*(t,e,n,r,i){t.Ma=(g,m,v)=>{return(b=(0,y.c)(function*(R,H,B,ue){let ge=H.view.ha(B);ge.Xi&&(ge=yield WE(R.localStore,H.query,!1).then(({documents:nr})=>H.view.ha(nr,ge)));const Ye=ue&&ue.targetChanges.get(H.targetId),Ct=ue&&null!=ue.targetMismatches.get(H.targetId),fn=H.view.applyChanges(ge,R.isPrimaryClient,Ye,Ct);return HS(R,H.targetId,fn.da),fn.snapshot}),function A(R,H,B,ue){return b.apply(this,arguments)})(t,g,m,v);var b};const o=yield WE(t.localStore,e,!0),s=new yj(e,o.hs),a=s.ha(o.documents),l=l_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);HS(t,n,u.da);const h=new sse(e,n,s);return t.ga.set(e,h),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}),NS.apply(this,arguments)}function use(t,e){return kS.apply(this,arguments)}function kS(){return kS=(0,y.c)(function*(t,e){const n=gt(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!e_(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),I_(n.remoteStore,r.targetId),Vf(n,r.targetId)}).catch(cc))):(Vf(n,r.targetId),yield Mf(n.localStore,r.targetId,!0))}),kS.apply(this,arguments)}function OS(){return OS=(0,y.c)(function*(t,e,n){const r=tR(t);try{const i=yield function(s,a){const l=gt(s),u=br.now(),h=a.reduce((v,b)=>v.add(b.key),un());let g,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Po(),A=un();return l.os.getEntries(v,h).next(R=>{b=R,b.forEach((H,B)=>{B.isValidDocument()||(A=A.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(R=>{g=R;const H=[];for(const B of a){const ue=Bie(B,g.get(B.key).overlayedDocument);null!=ue&&H.push(new Ja(B.key,ue,mB(ue.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,H,a)}).next(R=>{m=R;const H=R.applyToLocalDocumentSet(g,A);return l.documentOverlayCache.saveOverlays(v,R.batchId,H)})}).then(()=>({batchId:m.batchId,changes:OB(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new lr(Zt)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),yield tl(r,i.changes),yield Nf(r.remoteStore)}catch(i){const o=Of(i,"Failed to persist write");n.reject(o)}}),OS.apply(this,arguments)}function Ij(t,e){return FS.apply(this,arguments)}function FS(){return FS=(0,y.c)(function*(t,e){const n=gt(t);try{const r=yield function Moe(t,e){const n=gt(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,g)));let v=m.withSequenceNumber(o.currentSequenceNumber);var A,R,H;null!==e.targetMismatches.get(g)?v=v.withResumeToken(di.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(g,v),R=v,H=h,(0===(A=m).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,v))});let l=Po(),u=un();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(ZU(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(Ut.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return ne.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?Ft(s.ma):i.removedDocuments.size>0&&(Ft(s.ma),s.ma=!1))}),yield tl(n,r,e)}catch(r){yield cc(r)}}),FS.apply(this,arguments)}function Ej(t,e,n){const r=gt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=gt(s);l.onlineState=a;let u=!1;l.queries.forEach((h,g)=>{for(const m of g.Q_)m.U_(a)&&(u=!0)}),u&&RS(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hse(t,e,n){return LS.apply(this,arguments)}function LS(){return LS=(0,y.c)(function*(t,e,n){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new lr(vt.comparator);s=s.insert(o,mr.newNoDocument(o,Ut.min()));const a=un().add(o),l=new a_(Ut.min(),new Map,new lr(Zt),s,a);yield Ij(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),zS(r)}else yield Mf(r.localStore,e,!1).then(()=>Vf(r,e,n)).catch(cc)}),LS.apply(this,arguments)}function fse(t,e){return VS.apply(this,arguments)}function VS(){return VS=(0,y.c)(function*(t,e){const n=gt(t),r=e.batch.batchId;try{const i=yield function Poe(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const g=u.batch,m=g.keys();let v=ne.resolve();return m.forEach(b=>{v=v.next(()=>h.getEntry(l,b)).next(A=>{const R=u.docVersions.get(b);Ft(null!==R),A.version.compareTo(R)<0&&(g.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),h.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=un();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);jS(n,r,null),US(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield tl(n,i)}catch(i){yield cc(i)}}),VS.apply(this,arguments)}function pse(t,e,n){return $S.apply(this,arguments)}function $S(){return $S=(0,y.c)(function*(t,e,n){const r=gt(t);try{const i=yield function(s,a){const l=gt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(Ft(null!==g),h=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);jS(r,e,n),US(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield tl(r,i)}catch(i){yield cc(i)}}),$S.apply(this,arguments)}function BS(){return BS=(0,y.c)(function*(t,e){const n=gt(t);wc(n.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=gt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=Of(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),BS.apply(this,arguments)}function US(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function jS(t,e,n){const r=gt(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||wj(t,r)})}function wj(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(I_(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),zS(t))}function HS(t,e,n){for(const r of n)r instanceof _j?(t.ba.addReference(r.key,e),mse(t,r)):r instanceof vj?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||wj(t,r.key)):xt()}function mse(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.ya.add(r),zS(t))}function zS(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new vt(In.fromString(e)),r=t.va.next();t.Sa.set(r,new ase(n)),t.wa=t.wa.insert(n,r),ZE(t.remoteStore,new el(fo(_f(n.path)),r,"TargetPurposeLimboResolution",Ho._e))}}function tl(t,e,n){return GS.apply(this,arguments)}function GS(){return GS=(0,y.c)(function*(t,e,n){const r=gt(t),i=[],o=[],s=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=u&&u.fromCache?"not-current":"current"),u){i.push(u);const h=YA.Ki(l.targetId,u);o.push(h)}}))}),yield Promise.all(s),r.fa.u_(i),yield(a=(0,y.c)(function*(u,h){const g=gt(u);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ne.forEach(h,v=>ne.forEach(v.qi,b=>g.persistence.referenceDelegate.addReference(m,v.targetId,b)).next(()=>ne.forEach(v.Qi,b=>g.persistence.referenceDelegate.removeReference(m,v.targetId,b)))))}catch(m){if(!uc(m))throw m;Ue("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const b=g.ns.get(v),R=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);g.ns=g.ns.insert(v,R)}}}),function l(u,h){return a.apply(this,arguments)})(r.localStore,o))}),GS.apply(this,arguments)}function _se(t,e){return qS.apply(this,arguments)}function qS(){return qS=(0,y.c)(function*(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield QU(n.localStore,e);n.currentUser=e,(o=n).Ca.forEach(a=>{a.forEach(l=>{l.reject(new Le(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tl(n,r.us)}var o}),qS.apply(this,arguments)}function vse(t,e){const n=gt(t),r=n.Sa.get(e);if(r&&r.ma)return un().add(r.key);{let i=un();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function yse(t,e){return WS.apply(this,arguments)}function WS(){return WS=(0,y.c)(function*(t,e){const n=gt(t),r=yield WE(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&HS(n,e.targetId,i.da),i}),WS.apply(this,arguments)}function Ise(t,e){return KS.apply(this,arguments)}function KS(){return KS=(0,y.c)(function*(t,e){const n=gt(t);return ej(n.localStore,e).then(r=>tl(n,r))}),KS.apply(this,arguments)}function Ese(t,e,n,r){return YS.apply(this,arguments)}function YS(){return YS=(0,y.c)(function*(t,e,n,r){const i=gt(t),o=yield function(a,l){const u=gt(a),h=gt(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.vn(g,l).next(m=>m?u.localDocuments.getDocuments(g,m):ne.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield Nf(i.remoteStore):"acknowledged"===n||"rejected"===n?(jS(i,e,r||null),US(i,e),l=e,gt(gt(i.localStore).mutationQueue).Mn(l)):xt(),yield tl(i,o)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),YS.apply(this,arguments)}function QS(){return QS=(0,y.c)(function*(t,e){const n=gt(t);if(eR(n),tR(n),!0===e&&!0!==n.Fa){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield Cj(n,r.toArray());n.Fa=!0,yield wS(n.remoteStore,!0);for(const o of i)ZE(n.remoteStore,o)}else if(!1===e&&!1!==n.Fa){const r=[];let i=Promise.resolve();n.pa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Vf(n,s),Mf(n.localStore,s,!0))),I_(n.remoteStore,s)}),yield i,yield Cj(n,r),function(s){const a=gt(s);a.Sa.forEach((l,u)=>{I_(a.remoteStore,u)}),a.ba.mr(),a.Sa=new Map,a.wa=new lr(vt.comparator)}(n),n.Fa=!1,yield wS(n.remoteStore,!1)}}),QS.apply(this,arguments)}function Cj(t,e,n){return XS.apply(this,arguments)}function XS(){return XS=(0,y.c)(function*(t,e,n){const r=gt(t),i=[],o=[];for(const s of e){let a;const l=r.pa.get(s);if(l&&0!==l.length){a=yield Pf(r.localStore,fo(l[0]));for(const u of l){const h=r.ga.get(u),g=yield yse(r,h);g.snapshot&&o.push(g.snapshot)}}else{const u=yield JU(r.localStore,s);a=yield Pf(r.localStore,u),yield xS(r,bj(u),s,!1,a.resumeToken)}i.push(a)}return r.fa.u_(o),i}),XS.apply(this,arguments)}function bj(t){return SB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cse(t){return n=gt(t).localStore,gt(gt(n).persistence).Li();var n}function bse(t,e,n,r){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,y.c)(function*(t,e,n,r){const i=gt(t);if(i.Fa)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield ej(i.localStore,xB(o[0])),a=a_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,di.EMPTY_BYTE_STRING);yield tl(i,s,a);break}case"rejected":yield Mf(i.localStore,e,!0),Vf(i,e,r);break;default:xt()}}),ZS.apply(this,arguments)}function Tse(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=(0,y.c)(function*(t,e,n){const r=eR(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const o=yield JU(r.localStore,i),s=yield Pf(r.localStore,o);yield xS(r,bj(o),s.targetId,!1,s.resumeToken),ZE(r.remoteStore,s)}for(const i of n)r.pa.has(i)&&(yield Mf(r.localStore,i,!1).then(()=>{I_(r.remoteStore,i),Vf(r,i)}).catch(cc))}}),JS.apply(this,arguments)}function eR(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ij.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hse.bind(null,e),e.fa.u_=nse.bind(null,e.eventManager),e.fa.xa=rse.bind(null,e.eventManager),e}function tR(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pse.bind(null,e),e}class $f{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,y.c)(function*(){n.serializer=v_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return YU(this.persistence,new KU,e.initialUser,this.serializer)}createPersistence(e){return new GA(zE.Hr,this.serializer)}createSharedClientState(e){return new ij}terminate(){var e=this;return(0,y.c)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nR extends $f{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,y.c)(function*(){yield n().call(r,e),yield r.Na.initialize(r,e),yield tR(r.Na.syncEngine),yield Nf(r.Na.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return YU(this.persistence,new KU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new $U(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Zre(n,this.persistence);return new Xre(e.asyncQueue,r)}createPersistence(e){const n=KA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new WA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,sj(),XE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ij}}class Tj extends nR{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,y.c)(function*(){yield n().call(r,e);const i=r.Na.syncEngine;r.sharedClientState instanceof rS&&(r.sharedClientState.syncEngine={Zs:Ese.bind(null,i),Xs:bse.bind(null,i),eo:Tse.bind(null,i),Li:Cse.bind(null,i),Ys:Ise.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,y.c)(function*(s){yield function wse(t,e){return QS.apply(this,arguments)}(r.Na.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=sj();if(!rS.D(n))throw new Le(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=KA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Bf{initialize(e,n){var r=this;return(0,y.c)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Ej(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_se.bind(null,r.syncEngine),yield wS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tse}createDatastore(e){const n=v_(e.databaseInfo.databaseId),r=new Voe(e.databaseInfo);return new Uoe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>Ej(this.syncEngine,n,0),a=oj.D()?new oj:new Ooe,new zoe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const g=new lse(i,o,s,a,l,u);return h&&(g.Fa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,y.c)(function*(){var n,r;yield(r=(0,y.c)(function*(o){const s=gt(o);Ue("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield xf(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function Dj(t,e=10240){let n=0;return{read:()=>(0,y.c)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,y.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class e0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Sse{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new ui,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,y.c)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,y.c)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,y.c)(function*(){const n=yield e.Ka();if(null===n)return null;const r=e.qa.decode(n),i=Number(r);isNaN(i)&&e.$a(`length string (${r}) is not valid number`);const o=yield e.Ua(i);return new ise(JSON.parse(o),n.length+i)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,y.c)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ua(e){var n=this;return(0,y.c)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const r=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,y.c)(function*(){const n=yield e.ka.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Rse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,y.c)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new Le(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,y.c)(function*(s,a){const l=gt(s),u={documents:a.map(v=>c_(l.serializer,v))},h=yield l.vo("BatchGetDocuments",l.serializer.databaseId,In.emptyPath(),u,a.length),g=new Map;h.forEach(v=>{const b=function Qie(t,e){return"found"in e?function(r,i){Ft(!!i.found);const o=aa(r,i.found.name),s=Hr(i.found.updateTime),a=i.found.createTime?Hr(i.found.createTime):Ut.min(),l=new Oi({mapValue:{fields:i.found.fields}});return mr.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Ft(!!i.missing),Ft(!!i.readTime);const o=aa(r,i.missing),s=Hr(i.readTime);return mr.newNoDocument(o,s)}(t,e):xt()}(l.serializer,v);g.set(b.key.toString(),b)});const m=[];return a.forEach(v=>{const b=g.get(v.toString());Ft(!!b),m.push(b)}),m}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.c)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=vt.fromPath(i);e.mutations.push(new DA(o,e.precondition(o)))}),yield(r=(0,y.c)(function*(o,s){const a=gt(o),l={writes:s.map(u=>u_(a.serializer,u))};yield a.So("Commit",a.serializer.databaseId,In.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xt();n=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Le(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ut.min())?Tr.exists(!1):Tr.updateTime(n):Tr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ut.min()))throw new Le(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tr.updateTime(n)}return Tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pse{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.za=r.maxAttempts,this.jo=new oS(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,y.c)(function*(){const n=new Rse(e.datastore),r=e.Ja(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Ya(o)}))}).catch(i=>{e.Ya(i)})}))}Ja(e){try{const n=this.updateFunction(e);return!qm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!QB(n)}return!1}}class Mse{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ci.UNAUTHENTICATED,this.clientId=q$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,y.c)(function*(a){Ue("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Of(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function t0(t,e){return rR.apply(this,arguments)}function rR(){return rR=(0,y.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,y.c)(function*(o){r.isEqual(o)||(yield QU(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),rR.apply(this,arguments)}function iR(t,e){return oR.apply(this,arguments)}function oR(){return oR=(0,y.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield sR(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fj(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fj(e.remoteStore,i)),t._onlineComponents=e}),oR.apply(this,arguments)}function Aj(t){return"FirebaseError"===t.name?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function sR(t){return aR.apply(this,arguments)}function aR(){return aR=(0,y.c)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield t0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Aj(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),yield t0(t,new $f)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield t0(t,new $f);return t._offlineComponents}),aR.apply(this,arguments)}function n0(t){return lR.apply(this,arguments)}function lR(){return lR=(0,y.c)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield iR(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield iR(t,new Bf))),t._onlineComponents}),lR.apply(this,arguments)}function Sj(t){return sR(t).then(e=>e.persistence)}function Uf(t){return sR(t).then(e=>e.localStore)}function Rj(t){return n0(t).then(e=>e.remoteStore)}function cR(t){return n0(t).then(e=>e.syncEngine)}function jf(t){return uR.apply(this,arguments)}function uR(){return uR=(0,y.c)(function*(t){const e=yield n0(t),n=e.eventManager;return n.onListen=cse.bind(null,e.syncEngine),n.onUnlisten=use.bind(null,e.syncEngine),n}),uR.apply(this,arguments)}function Mj(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function(o,s,a,l,u){const h=new e0({next:m=>{s.enqueueAndForget(()=>AS(o,g));const v=m.docs.has(a);!v&&m.fromCache?u.reject(new Le(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&"server"===l.source?u.reject(new Le(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new PS(_f(a.path),h,{includeMetadataChanges:!0,Z_:!0});return TS(o,g)}(yield jf(t),t.asyncQueue,e,n,r)})),r.promise}function xj(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function(o,s,a,l,u){const h=new e0({next:m=>{s.enqueueAndForget(()=>AS(o,g)),m.fromCache&&"server"===l.source?u.reject(new Le(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new PS(a,h,{includeMetadataChanges:!0,Z_:!0});return TS(o,g)}(yield jf(t),t.asyncQueue,e,n,r)})),r.promise}function Nj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const kj=new Map;function dR(t,e,n){if(!n)throw new Le(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oj(t,e,n,r){if(!0===e&&!0===r)throw new Le(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fj(t){if(!vt.isDocumentKey(t))throw new Le(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lj(t){if(vt.isDocumentKey(t))throw new Le(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function r0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":xt()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r0(t);throw new Le(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Vj(t,e){if(e<=0)throw new Le(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class $j{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Nj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Le(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $j({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $j(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $re;switch(r.type){case"firstParty":return new Hre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kj.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),kj.delete(n),r.terminate())}(this),Promise.resolve()}}class Fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class la extends Fi{constructor(e,n,r){super(e,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new vt(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Uj(t,e,...n){if(t=(0,hn.Yj)(t),dR("collection","path",e),t instanceof E_){const r=In.fromString(e,...n);return Lj(r),new la(t,null,r)}{if(!(t instanceof _r||t instanceof la))throw new Le(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return Lj(r),new la(t.firestore,null,r)}}function o0(t,e,...n){if(t=(0,hn.Yj)(t),1===arguments.length&&(e=q$.newId()),dR("doc","path",e),t instanceof E_){const r=In.fromString(e,...n);return Fj(r),new _r(t,null,new vt(r))}{if(!(t instanceof _r||t instanceof la))throw new Le(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return Fj(r),new _r(t.firestore,t instanceof la?t.converter:null,new vt(r))}}function jj(t,e){return t=(0,hn.Yj)(t),e=(0,hn.Yj)(e),(t instanceof _r||t instanceof la)&&(e instanceof _r||e instanceof la)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hR(t,e){return t=(0,hn.Yj)(t),e=(0,hn.Yj)(e),t instanceof Fi&&e instanceof Fi&&t.firestore===e.firestore&&e_(t._query,e._query)&&t.converter===e.converter}class Hse{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new oS(this,"async_queue_retry"),this._u=()=>{const n=XE();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=XE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=XE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new ui;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,y.c)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!uc(n))throw n;Ue("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,jr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=bS.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&xt()}verifyOperationInProgress(){}hu(){var e=this;return(0,y.c)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function fR(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class zse{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends E_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hse,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hj(this),this._firestoreClient.terminate()}}function Lr(t){return t._firestoreClient||Hj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hj(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new yie(t._databaseId,l,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Nj(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;t._firestoreClient=new Mse(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function zj(t,e,n){const r=new ui;return t.asyncQueue.enqueue((0,y.c)(function*(){try{yield t0(t,n),yield iR(t,e),r.resolve()}catch(i){const o=i;if(!Aj(o))throw o;So("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function Gj(t){if(t._initialized||t._terminated)throw new Le(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(di.fromBase64String(e))}catch(n){throw new Le(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Le(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wu{constructor(e){this._methodName=e}}class s0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const tae=/^__.*__$/;class nae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new wf(e,this.data,n,this.fieldTransforms)}}class qj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class a0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new a0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return u0(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Wj(this.du)&&tae.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class rae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||v_(e)}Su(e,n,r,i=!1){return new a0({du:e,methodName:n,wu:r,path:gr.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(t){const e=t._freezeSettings(),n=v_(t._databaseId);return new rae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l0(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);IR("Data must be an object, but it was:",s,r);const a=Qj(r,s);let l,u;if(o.merge)l=new Ro(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const m=b_(e,g,n);if(!s.contains(m))throw new Le(pe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Zj(h,m)||h.push(m)}l=new Ro(h),u=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=s.fieldTransforms;return new nae(new Oi(a),l,u)}class C_ extends Wu{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof C_}}function Kj(t,e,n){return new a0({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pR extends Wu{_toFieldTransform(e){return new i_(e.path,new If)}isEqual(e){return e instanceof pR}}class gR extends Wu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Kj(this,e,!0),r=this.bu.map(o=>Yu(o,n)),i=new Vu(r);return new i_(e.path,i)}isEqual(e){return e instanceof gR&&(0,hn.IN)(this.bu,e.bu)}}class mR extends Wu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Kj(this,e,!0),r=this.bu.map(o=>Yu(o,n)),i=new $u(r);return new i_(e.path,i)}isEqual(e){return e instanceof mR&&(0,hn.IN)(this.bu,e.bu)}}class _R extends Wu{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new Ef(e.serializer,$B(e.serializer,this.Du));return new i_(e.path,n)}isEqual(e){return e instanceof _R&&this.Du===e.Du}}function vR(t,e,n,r){const i=t.Su(1,e,n);IR("Data must be an object, but it was:",i,r);const o=[],s=Oi.empty();dc(r,(l,u)=>{const h=c0(e,l,n);u=(0,hn.Yj)(u);const g=i.fu(h);if(u instanceof C_)o.push(h);else{const m=Yu(u,g);null!=m&&(o.push(h),s.set(h,m))}});const a=new Ro(o);return new qj(s,a,i.fieldTransforms)}function yR(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[b_(e,r,n)],l=[i];if(o.length%2!=0)throw new Le(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(b_(e,o[m])),l.push(o[m+1]);const u=[],h=Oi.empty();for(let m=a.length-1;m>=0;--m)if(!Zj(u,a[m])){const v=a[m];let b=l[m];b=(0,hn.Yj)(b);const A=s.fu(v);if(b instanceof C_)u.push(v);else{const R=Yu(b,A);null!=R&&(u.push(v),h.set(v,R))}}const g=new Ro(u);return new qj(h,g,s.fieldTransforms)}function Yj(t,e,n,r=!1){return Yu(n,t.Su(r?4:3,e))}function Yu(t,e){if(Xj(t=(0,hn.Yj)(t)))return IR("Unsupported field value:",e,t),Qj(t,e);if(t instanceof Wu)return function(r,i){if(!Wj(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Yu(a,i.gu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,hn.Yj)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return $B(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=br.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof br){const o=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof s0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:sU(i.serializer,r._byteString)};if(r instanceof _r){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xA(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${r0(r)}`)}(t,e)}function Qj(t,e){const n={};return aB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(t,(r,i)=>{const o=Yu(i,e.Ru(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function Xj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof br||t instanceof s0||t instanceof ca||t instanceof _r||t instanceof Wu)}function IR(t,e,n){if(!Xj(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=r0(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function b_(t,e,n){if((e=(0,hn.Yj)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return c0(t,e);throw u0("Field path arguments must be of type string or ",t,!1,void 0,n)}const iae=new RegExp("[~\\*/\\[\\]]");function c0(t,e,n){if(e.search(iae)>=0)throw u0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch{throw u0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function u0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Le(pe.INVALID_ARGUMENT,a+t+l)}function Zj(t,e){return t.some(n=>n.isEqual(e))}class T_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class oae extends T_{data(){return super.data()}}function d0(t,e){return"string"==typeof e?c0(t,e):e instanceof nl?e._internalPath:e._delegate._internalPath}function Jj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Le(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ER{}class D_ extends ER{}function bc(t,e,...n){let r=[];e instanceof ER&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Hf).length,a=o.filter(l=>l instanceof A_).length;if(s>1||s>0&&a>0)throw new Le(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class A_ extends D_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new A_(e,n,r)}_apply(e){const n=this._parse(e);return r4(e._query,n),new Fi(e.firestore,e.converter,bA(e._query,n))}_parse(e){const n=Ku(e.firestore);return function(o,s,a,l,u,h,g){let m;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){n4(g,h);const v=[];for(const b of g)v.push(t4(l,o,b));m={arrayValue:{values:v}}}else m=t4(l,o,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||n4(g,h),m=Yj(a,"where",g,"in"===h||"not-in"===h);return En.create(u,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Hf extends ER{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)r4(s,l),s=bA(s,l)}(e._query,n),new Fi(e.firestore,e.converter,bA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wR extends D_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wR(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zm(o,s)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Xa(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class h0 extends D_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h0(e,n,r)}_apply(e){return new Fi(e.firestore,e.converter,ME(e._query,this._limit,this._limitType))}}class f0 extends D_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f0(e,n,r)}_apply(e){const n=e4(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,(o=n,new Xa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class p0 extends D_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new p0(e,n,r)}_apply(e){const n=e4(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,(o=n,new Xa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function e4(t,e,n,r){if(n[0]=(0,hn.Yj)(n[0]),n[0]instanceof T_)return function(o,s,a,l,u){if(!l)throw new Le(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of vf(o))if(g.field.isKeyField())h.push(Fu(s,l.key));else{const m=l.data.field(g.field);if(bE(m))throw new Le(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const v=g.field.canonicalString();throw new Le(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new _c(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ku(t.firestore);return function(s,a,l,u,h,g){const m=s.explicitOrderBy;if(h.length>m.length)throw new Le(pe.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const A=h[b];if(m[b].field.isKeyField()){if("string"!=typeof A)throw new Le(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof A}`);if(!CA(s)&&-1!==A.indexOf("/"))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${A}' contains a slash.`);const R=s.path.child(In.fromString(A));if(!vt.isDocumentKey(R))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const H=new vt(R);v.push(Fu(a,H))}else{const R=Yj(l,u,A);v.push(R)}}return new _c(v,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function t4(t,e,n){if("string"==typeof(n=(0,hn.Yj)(n))){if(""===n)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CA(e)&&-1!==n.indexOf("/"))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(In.fromString(n));if(!vt.isDocumentKey(r))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fu(t,new vt(r))}if(n instanceof _r)return Fu(t,n._key);throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r0(n)}.`)}function n4(t,e){if(!Array.isArray(t)||0===t.length)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r4(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Le(pe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CR{convertValue(e,n="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new s0(Fr(e.latitude),Fr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=TE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Km(e));default:return null}}convertTimestamp(e){const n=hc(e);return new br(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=In.fromString(e);Ft(_U(r));const i=new fc(r.get(1),r.get(3)),o=new vt(r.popFirst(5));return i.isEqual(n)||jr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function g0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pae extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rl extends T_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new S_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class S_ extends rl{data(e={}){return super.data(e)}}class Tc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new S_(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new S_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new S_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:mae(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function o4(t,e){return t instanceof rl&&e instanceof rl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Tc&&e instanceof Tc&&t._firestore===e._firestore&&hR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Dc extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function s4(t,e,n){t=yn(t,_r);const r=yn(t.firestore,cr),i=g0(t.converter,e,n);return zf(r,[l0(Ku(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Tr.none())])}function a4(t,e,n,...r){t=yn(t,_r);const i=yn(t.firestore,cr),o=Ku(i);let s;return s="string"==typeof(e=(0,hn.Yj)(e))||e instanceof nl?yR(o,"updateDoc",t._key,e,n,r):vR(o,"updateDoc",t._key,e),zf(i,[s.toMutation(t._key,Tr.exists(!0))])}function l4(t,...e){var n,r,i;t=(0,hn.Yj)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||fR(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(fR(e[s])){const g=e[s];e[s]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[s+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[s+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let l,u,h;if(t instanceof _r)u=yn(t.firestore,cr),h=_f(t._key.path),l={next:g=>{e[s]&&e[s](bR(u,t,g))},error:e[s+1],complete:e[s+2]};else{const g=yn(t,Fi);u=yn(g.firestore,cr),h=g._query;const m=new Dc(u);l={next:v=>{e[s]&&e[s](new Tc(u,m,g,v))},error:e[s+1],complete:e[s+2]},Jj(t._query)}return function(m,v,b,A){const R=new e0(A),H=new PS(v,R,b);return m.asyncQueue.enqueueAndForget((0,y.c)(function*(){return TS(yield jf(m),H)})),()=>{R.La(),m.asyncQueue.enqueueAndForget((0,y.c)(function*(){return AS(yield jf(m),H)}))}}(Lr(u),h,a,l)}function zf(t,e){return function(r,i){const o=new ui;return r.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function dse(t,e,n){return OS.apply(this,arguments)}(yield cR(r),i,o)})),o.promise}(Lr(t),e)}function bR(t,e,n){const r=n.docs.get(e._key),i=new Dc(t);return new rl(t,i,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}const kae={maxAttempts:5};class c4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,n,r){this._verifyNotCommitted();const i=Ac(e,this._firestore),o=g0(i.converter,n,r),s=l0(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ac(e,this._firestore);let s;return s="string"==typeof(n=(0,hn.Yj)(n))||n instanceof nl?yR(this._dataReader,"WriteBatch.update",o._key,n,r,i):vR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ac(e,this._firestore);return this._mutations=this._mutations.concat(new Cf(n._key,Tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ac(t,e){if((t=(0,hn.Yj)(t)).firestore!==e)throw new Le(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Oae extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ku(n)}get(n){const r=Ac(n,this._firestore),i=new pae(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return xt();const s=o[0];if(s.isFoundDocument())return new T_(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new T_(this._firestore,i,r._key,null,r.converter);throw xt()})}set(n,r,i){const o=Ac(n,this._firestore),s=g0(o.converter,r,i),a=l0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Ac(n,this._firestore);let a;return a="string"==typeof(r=(0,hn.Yj)(r))||r instanceof nl?yR(this._dataReader,"Transaction.update",s._key,r,i,o):vR(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Ac(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ac(e,this._firestore),r=new Dc(this._firestore);return super.get(e).then(i=>new rl(this._firestore,r,n._key,i._document,new Qu(!1,!1),n.converter))}}function DR(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function f4(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function p4(){if(!function _ie(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){cf=Js.SDK_VERSION,(0,Js._registerComponent)(new KI.Yl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new cr(new Ure(r.getProvider("auth-internal")),new zre(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Js.registerVersion)(H$,"4.4.2",e),(0,Js.registerVersion)(H$,"4.4.2","esm2017")}();class R_{constructor(e){this._delegate=e}static fromBase64String(e){return p4(),new R_(ca.fromBase64String(e))}static fromUint8Array(e){return f4(),new R_(ca.fromUint8Array(e))}toBase64(){return p4(),this._delegate.toBase64()}toUint8Array(){return f4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AR(t){return function Gae(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class qae{enableIndexedDbPersistence(e,n){return function qse(t,e){Gj(t=yn(t,cr));const n=Lr(t);if(n._uninitializedComponentsProvider)throw new Le(pe.FAILED_PRECONDITION,"SDK cache is already specified.");So("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Bf;return zj(n,i,new nR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Wse(t){Gj(t=yn(t,cr));const e=Lr(t);if(e._uninitializedComponentsProvider)throw new Le(pe.FAILED_PRECONDITION,"SDK cache is already specified.");So("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Bf;return zj(e,r,new Tj(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Kse(t){if(t._initialized&&!t._terminated)throw new Le(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return t._queue.enqueueAndForgetEvenWhileRestricted((0,y.c)(function*(){try{yield(n=(0,y.c)(function*(i){if(!ds.D())return Promise.resolve();const o=i+"main";yield ds.delete(o)}),function r(i){return n.apply(this,arguments)})(KA(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class g4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&So("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function Bj(t,e,n,r={}){var i;const o=(t=yn(t,E_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Ci.MOCK_USER;else{a=(0,hn.YD)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Le(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ci(u)}t._authCredentials=new Bre(new z$(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function Qse(t){return function xse(t){return t.asyncQueue.enqueue((0,y.c)(function*(){const e=yield Sj(t),n=yield Rj(t);return e.setNetworkEnabled(!0),function(i){const o=gt(i);return o.v_.delete(0),y_(o)}(n)}))}(Lr(t=yn(t,cr)))}(this._delegate)}disableNetwork(){return function Xse(t){return function Nse(t){return t.asyncQueue.enqueue((0,y.c)(function*(){const e=yield Sj(t),n=yield Rj(t);return e.setNetworkEnabled(!1),(r=(0,y.c)(function*(o){const s=gt(o);s.v_.add(0),yield xf(s),s.x_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Lr(t=yn(t,cr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Oj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Yse(t){return function(n){const r=new ui;return n.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function gse(t,e){return BS.apply(this,arguments)}(yield cR(n),r)})),r.promise}(Lr(t=yn(t,cr)))}(this._delegate)}onSnapshotsInSync(e){return function Tae(t,e){return function Fse(t,e){const n=new e0(e);return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return i=yield jf(t),o=n,gt(i).K_.add(o),void o.next();var i,o})),()=>{n.La(),t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return i=yield jf(t),o=n,void gt(i).K_.delete(o);var i,o}))}}(Lr(t=yn(t,cr)),fR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Gf(this,Uj(this._delegate,e))}catch(n){throw po(n,"collection()","Firestore.collection()")}}doc(e){try{return new hs(this,o0(this._delegate,e))}catch(n){throw po(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new go(this,function jse(t,e){if(t=yn(t,E_),dR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fi(t,null,(r=e,new Xa(In.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw po(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Fae(t,e,n){t=yn(t,cr);const r=Object.assign(Object.assign({},kae),n);return function(o){if(o.maxAttempts<1)throw new Le(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new ui;return o.asyncQueue.enqueueAndForget((0,y.c)(function*(){const u=yield function Pj(t){return n0(t).then(e=>e.datastore)}(o);new Pse(o.asyncQueue,u,a,s,l).ja()})),l.promise}(Lr(t),i=>e(new Oae(t,i)),r)}(this._delegate,n=>e(new m4(this,n)))}batch(){return Lr(this._delegate),new _4(new c4(this._delegate,e=>zf(this._delegate,e)))}loadBundle(e){return function Zse(t,e){const n=Lr(t=yn(t,cr)),r=new zse;return function Lse(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?ZB().encode(s):s,h=function(h,g){if(h instanceof Uint8Array)return Dj(h,g);if(h instanceof ArrayBuffer)return Dj(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Sse(h,a);var h}(n,v_(e));t.asyncQueue.enqueueAndForget((0,y.c)(function*(){!function Dse(t,e,n){const r=gt(t);var i;(i=(0,y.c)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(b,A){const R=gt(b),H=Hr(A.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",B=>R.$r.getBundleMetadata(B,A.id)).then(B=>!!B&&B.createTime.compareTo(H)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(mj(u));const h=new ose(u,s.localStore,a.serializer);let g=yield a.Oa();for(;g;){const v=yield h.na(g);v&&l._updateProgress(v),g=yield a.Oa()}const m=yield h.complete();return yield tl(s,m.sa,void 0),yield function(b,A){const R=gt(b);return R.persistence.runTransaction("Save bundle","readwrite",H=>R.$r.saveBundleMetadata(H,A))}(s.localStore,u),l._completeWith(m.progress),Promise.resolve(m.ia)}catch(u){return So("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var b}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield cR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Jse(t,e){return function Vse(t,e){return t.asyncQueue.enqueue((0,y.c)(function*(){return function(r,i){const o=gt(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Uf(t),e)}))}(Lr(t=yn(t,cr)),e).then(n=>n?new Fi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new go(this,n):null)}}class _0 extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new R_(new ca(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return hs.forKey(n,this.firestore,null)}}class m4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new _0(e)}get(e){const n=Zu(e);return this._delegate.get(n).then(r=>new P_(this._firestore,new rl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Zu(e);return r?(DR("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Zu(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Zu(e);return this._delegate.delete(n),this}}class _4{constructor(e){this._delegate=e}set(e,n,r){const i=Zu(e);return r?(DR("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Zu(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Zu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Xu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new S_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M_(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Xu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Xu(e,new _0(e),n),i.set(n,o)),o}}Xu.INSTANCES=new WeakMap;class hs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _0(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hs(n,new _r(n._delegate,r,new vt(e)))}static forKey(e,n,r){return new hs(n,new _r(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Gf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Gf(this.firestore,Uj(this._delegate,e))}catch(n){throw po(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.Yj)(e))instanceof _r&&jj(this._delegate,e)}set(e,n){n=DR("DocumentReference.set",n);try{return n?s4(this._delegate,e,n):s4(this._delegate,e)}catch(r){throw po(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?a4(this._delegate,e):a4(this._delegate,e,n,...r)}catch(i){throw po(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Cae(t){return zf(yn(t.firestore,cr),[new Cf(t._key,Tr.none())])}(this._delegate)}onSnapshot(...e){const n=v4(e),r=y4(e,i=>new P_(this.firestore,new rl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return l4(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function vae(t){t=yn(t,_r);const e=yn(t.firestore,cr),n=Lr(e),r=new Dc(e);return function kse(t,e){const n=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return(r=(0,y.c)(function*(o,s,a){try{const l=yield function(h,g){const m=gt(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,g))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Le(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=Of(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Uf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new rl(e,r,t._key,i,new Qu(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function yae(t){t=yn(t,_r);const e=yn(t.firestore,cr);return Mj(Lr(e),t._key,{source:"server"}).then(n=>bR(e,t,n))}(this._delegate):function _ae(t){t=yn(t,_r);const e=yn(t.firestore,cr);return Mj(Lr(e),t._key).then(n=>bR(e,t,n))}(this._delegate),n.then(r=>new P_(this.firestore,new rl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function po(t,e,n){return t.message=t.message.replace(e,n),t}function v4(t){for(const e of t)if("object"==typeof e&&!AR(e))return e;return{}}function y4(t,e){var n,r;let i;return i=AR(t[0])?t[0]:AR(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class P_{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new hs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return o4(this._delegate,e._delegate)}}class M_ extends P_{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Vre(t,e){t||xt()}(void 0!==n),n}}class go{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _0(e)}where(e,n,r){try{return new go(this.firestore,bc(this._delegate,function sae(t,e,n){const r=e,i=d0("where",t);return A_._create(i,r,n)}(e,n,r)))}catch(i){throw po(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new go(this.firestore,bc(this._delegate,function aae(t,e="asc"){const n=e,r=d0("orderBy",t);return wR._create(r,n)}(e,n)))}catch(r){throw po(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new go(this.firestore,bc(this._delegate,function lae(t){return Vj("limit",t),h0._create("limit",t,"F")}(e)))}catch(n){throw po(n,"limit()","Query.limit()")}}limitToLast(e){try{return new go(this.firestore,bc(this._delegate,function cae(t){return Vj("limitToLast",t),h0._create("limitToLast",t,"L")}(e)))}catch(n){throw po(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new go(this.firestore,bc(this._delegate,function uae(...t){return f0._create("startAt",t,!0)}(...e)))}catch(n){throw po(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new go(this.firestore,bc(this._delegate,function dae(...t){return f0._create("startAfter",t,!1)}(...e)))}catch(n){throw po(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new go(this.firestore,bc(this._delegate,function hae(...t){return p0._create("endBefore",t,!1)}(...e)))}catch(n){throw po(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new go(this.firestore,bc(this._delegate,function fae(...t){return p0._create("endAt",t,!0)}(...e)))}catch(n){throw po(n,"endAt()","Query.endAt()")}}isEqual(e){return hR(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Eae(t){t=yn(t,Fi);const e=yn(t.firestore,cr),n=Lr(e),r=new Dc(e);return function Ose(t,e){const n=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return(r=(0,y.c)(function*(o,s,a){try{const l=yield WE(o,s,!0),u=new yj(s,l.hs),h=u.ha(l.documents),g=u.applyChanges(h,!1);a.resolve(g.snapshot)}catch(l){const u=Of(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Uf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Tc(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function wae(t){t=yn(t,Fi);const e=yn(t.firestore,cr),n=Lr(e),r=new Dc(e);return xj(n,t._query,{source:"server"}).then(i=>new Tc(e,r,t,i))}(this._delegate):function Iae(t){t=yn(t,Fi);const e=yn(t.firestore,cr),n=Lr(e),r=new Dc(e);return Jj(t._query),xj(n,t._query).then(i=>new Tc(e,r,t,i))}(this._delegate),n.then(r=>new SR(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=v4(e),r=y4(e,i=>new SR(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return l4(this._delegate,n,r)}withConverter(e){return new go(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}class Kae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new M_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SR{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Kae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new M_(this._firestore,r))})}isEqual(e){return o4(this._delegate,e._delegate)}}class Gf extends go{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hs(this.firestore,e):null}doc(e){try{return new hs(this.firestore,void 0===e?o0(this._delegate):o0(this._delegate,e))}catch(n){throw po(n,"doc()","CollectionReference.doc()")}}add(e){return function bae(t,e){const n=yn(t.firestore,cr),r=o0(t),i=g0(t.converter,e);return zf(n,[l0(Ku(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new hs(this.firestore,n))}isEqual(e){return jj(this._delegate,e._delegate)}withConverter(e){return new Gf(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function Zu(t){return yn(t,_r)}class RR{constructor(...e){this._delegate=new nl(...e)}static documentId(){return new RR(gr.keyField().canonicalString())}isEqual(e){return(e=(0,hn.Yj)(e))instanceof nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Vae(){return new pR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ju(e)}static delete(){const e=function Lae(){return new C_("deleteField")}();return e._methodName="FieldValue.delete",new Ju(e)}static arrayUnion(...e){const n=function $ae(...t){return new gR("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Ju(n)}static arrayRemove(...e){const n=function Bae(...t){return new mR("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Ju(n)}static increment(e){const n=function Uae(t){return new _R("increment",t)}(e);return n._methodName="FieldValue.increment",new Ju(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yae={Firestore:g4,GeoPoint:s0,Timestamp:br,Blob:R_,Transaction:m4,WriteBatch:_4,DocumentReference:hs,DocumentSnapshot:P_,Query:go,QueryDocumentSnapshot:M_,QuerySnapshot:SR,CollectionReference:Gf,FieldPath:RR,FieldValue:Ju,setLogLevel:function Wae(t){!function Lre(t){lc.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function I4(t,e){return function Zae(t,e=$T){return new Rn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function PR(t,e){return I4(t,e).pipe(mt(n=>({payload:n,type:"query"})))}!function Xae(t){(function Qae(t,e){t.INTERNAL.registerComponent(new KI.Yl("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Yae)))})(t,(e,n)=>new g4(e,n,new qae)),t.registerVersion("@firebase/firestore-compat","0.3.25")}(cs.c);class E4{constructor(e,n){vn(this,"ref",void 0),vn(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=T4(r,n);return new b4(i,o,this.afs)}snapshotChanges(){return function Jae(t,e){return I4(t,e).pipe(vI(void 0),wD(),mt(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(lo)}valueChanges(e={}){return this.snapshotChanges().pipe(mt(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return jn(this.ref.get(e)).pipe(lo)}}function v0(t,e){return PR(t,e).pipe(vI(void 0),wD(),mt(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(g=>g.doc.ref.isEqual(a.ref)),h=null==r?void 0:r.payload.docs.find(g=>g.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function w4(t,e,n){return v0(t,n).pipe(II((r,i)=>function ele(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function tle(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return MR(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return MR(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MR(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),a2(),mt(r=>r.map(i=>({type:i.type,payload:i}))))}function MR(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function C4(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class b4{constructor(e,n,r){vn(this,"ref",void 0),vn(this,"query",void 0),vn(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=v0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(mt(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(vI(void 0),wD(),Bo(([r,i])=>i.length>0||!r),mt(([,r])=>r),lo)}auditTrail(e){return this.stateChanges(e).pipe(II((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=C4(e);return w4(this.query,n,this.afs.schedulers.outsideAngular).pipe(lo)}valueChanges(e={}){return PR(this.query,this.afs.schedulers.outsideAngular).pipe(mt(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),lo)}get(e){return jn(this.query.get(e)).pipe(lo)}add(e){return this.ref.add(e)}doc(e){return new E4(this.ref.doc(e),this.afs)}}class nle{constructor(e,n){vn(this,"query",void 0),vn(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?v0(this.query,this.afs.schedulers.outsideAngular).pipe(mt(n=>n.filter(r=>e.indexOf(r.type)>-1)),Bo(n=>n.length>0),lo):v0(this.query,this.afs.schedulers.outsideAngular).pipe(lo)}auditTrail(e){return this.stateChanges(e).pipe(II((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=C4(e);return w4(this.query,n,this.afs.schedulers.outsideAngular).pipe(lo)}valueChanges(e={}){return PR(this.query,this.afs.schedulers.outsideAngular).pipe(mt(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),lo)}get(e){return jn(this.query.get(e)).pipe(lo)}}const rle=new st("angularfire2.enableFirestorePersistence"),ile=new st("angularfire2.firestore.persistenceSettings"),ole=new st("angularfire2.firestore.settings"),sle=new st("angularfire2.firestore.use-emulator");function T4(t,e=(n=>n)){return{query:e(t),ref:t}}let qf=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,b,A,R,H,B,ue){vn(this,"schedulers",void 0),vn(this,"firestore",void 0),vn(this,"persistenceEnabled$",void 0),this.schedulers=u;const ge=OI(r,l,i),Ye=g;m&&KL(ge,l,v,A,R,H,b,B),[this.firestore,this.persistenceEnabled$]=HT(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const Ct=l.runOutsideAngular(()=>ge.firestore());if(s&&Ct.settings(s),Ye&&Ct.useEmulator(...Ye),o&&!hI(a)){const fn=()=>{try{return jn(Ct.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(nr){return typeof console<"u"&&console.warn(nr),Bt(!1)}};return[Ct,l.runOutsideAngular(fn)]}return[Ct,Bt(!1)]},[s,Ye,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=T4(o,i),l=this.schedulers.ngZone.run(()=>s);return new b4(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new nle(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new E4(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(He(um),He(dm,8),He(rle,8),He(ole,8),He(Lo),He(Se),He(jT),He(ile,8),He(sle,8),He(qa,8),He(jL,8),He(HL,8),He(zL,8),He(GL,8),He(qL,8),He(WL,8),He(UT,8))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),ale=(()=>{var t;class e{constructor(r,i,o){this.afAuth=r,this.router=i,this.firestore=o}register(){var r=this;return(0,y.c)(function*(){const o=document.getElementById("register-email").value,a=document.getElementById("password1").value;if(a===document.getElementById("password2").value)try{const g=(yield r.afAuth.createUserWithEmailAndPassword(o,a)).user;if(g){const m=g.uid,b=document.getElementById("name_input1").value,R=document.getElementById("username_input1").value,B=document.getElementById("phone_input1").value,ue=g.uid,ge={uid:m,mail:o,name:b,username:R,phone:B};yield r.firestore.collection("users_data").doc(ue).set(ge),console.log("Account registrato con successo"),r.router.navigate(["/home"])}else console.error("L'utente \xe8 null")}catch(h){alert("Errore durante la registrazione: "+h.message)}else alert("Le password inserite non corrispondono")})()}toLogin(){this.router.navigate(["/login"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qa),E(Cr),E(qf))},t.\u0275cmp=qe({type:t,selectors:[["app-register"]],decls:33,vars:0,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","position","fixed","display","flex","flex-direction","column","align-items","center"],["src","assets\\img\\undraw_learning_sketching_nd4f.svg",2,"width","15rem","margin-top","2rem","margin-bottom","2rem"],[1,"card1",2,"width","90%"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\Vector (5).svg",1,"input1_img1"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["id","register-email","type","email","placeholder","Email",1,"field1"],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["src","assets\\img\\Vector (4).svg",1,"input1_img1"],["id","password1","type","password","placeholder","Password",1,"field1"],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-bottom","2rem"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(he(0,"body")(1,"div",0),wt(2,"img",1),he(3,"div",2)(4,"h1",3),it(5,"Il tuo nuovo account"),fe(),he(6,"div",4),wt(7,"img",5)(8,"input",6),fe(),he(9,"div",4),wt(10,"img",5)(11,"input",7),fe(),he(12,"div",4),wt(13,"img",5)(14,"input",8),fe(),he(15,"div",4),wt(16,"img",5)(17,"input",9),fe(),he(18,"div",4),wt(19,"img",10)(20,"input",11),fe(),he(21,"div",4),wt(22,"img",10)(23,"input",12),fe(),he(24,"button",13),tn("click",function(){return i.register()}),he(25,"div",14),wt(26,"img",15),he(27,"p",16),it(28,"Registrati"),fe()()()(),he(29,"p",17),it(30,"Hai gi\xe0 un account?"),he(31,"strong",18),tn("click",function(){return i.toLogin()}),it(32,"Accedi"),fe()()()())}}),e})();const D4="firebasestorage.googleapis.com",A4="storageBucket";class Mr extends hn.kx{constructor(e,n,r=0){super(xR(e),`Firebase Storage: ${n} (${xR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Dr||{});function xR(t){return"storage/"+t}function NR(){return new Mr(Dr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function S4(){return new Mr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R4(){return new Mr(Dr.CANCELED,"User canceled the upload/download.")}function P4(){return new Mr(Dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wf(t){return new Mr(Dr.INVALID_ARGUMENT,t)}function M4(){return new Mr(Dr.APP_DELETED,"The Firebase app was deleted.")}function x4(t){return new Mr(Dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function x_(t,e){return new Mr(Dr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function N_(t){throw new Mr(Dr.INTERNAL_ERROR,"Internal error: "+t)}class Ji{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ji.makeFromUrl(e,n)}catch{return new Ji(e,"")}if(""===r.path)return r;throw function _le(t){return new Mr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(ge){ge.path_=decodeURIComponent(ge.path)}const g=n.replace(/[.]/g,"\\."),ue=[{regex:a,indices:{bucket:1,path:3},postModify:function o(ge){"/"===ge.path.charAt(ge.path.length-1)&&(ge.path_=ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===D4?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let ge=0;ge<ue.length;ge++){const Ye=ue[ge],Ct=Ye.regex.exec(e);if(Ct){let nr=Ct[Ye.indices.path];nr||(nr=""),r=new Ji(Ct[Ye.indices.bucket],nr),Ye.postModify(r);break}}if(null==r)throw function mle(t){return new Mr(Dr.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class wle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function y0(t){return"string"==typeof t||t instanceof String}function N4(t){return kR()&&t instanceof Blob}function kR(){return typeof Blob<"u"}function OR(t,e,n,r){if(r<e)throw Wf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wf(`Invalid value for '${t}'. Expected ${n} or less.`)}function il(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function k4(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Kf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Kf||{});function O4(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Sle{constructor(e,n,r,i,o,s,a,l,u,h,g,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=g,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Tle(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=NR();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?M4():R4():S4())};this.canceled_?n(0,new I0(!1,null,!0)):this.backoffId_=function Cle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function h(...R){u||(u=!0,e.apply(null,R))}function g(R){i=setTimeout(()=>{i=null,t(v,l())},R)}function m(){o&&clearTimeout(o)}function v(R,...H){if(u)return void m();if(R)return m(),void h.call(null,R,...H);if(l()||s)return m(),void h.call(null,R,...H);let ue;r<64&&(r*=2),1===a?(a=2,ue=0):ue=1e3*(r+Math.random()),g(ue)}let b=!1;function A(R){b||(b=!0,m(),!u&&(null!==i?(R||(a=2),clearTimeout(i),g(0)):R||(a=1)))}return g(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}((r,i)=>{if(i)return void r(!1,new I0(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Kf.NO_ERROR,l=o.getStatus();if(!a||O4(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Kf.ABORT;return void r(!1,new I0(!1,null,h))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new I0(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ble(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ole(...t){const e=function kle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(kR())return new Blob(t);throw new Mr(Dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const zo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class FR{constructor(e,n){this.data=e,this.contentType=n||null}}function LR(t,e){switch(t){case zo.RAW:return new FR(F4(e));case zo.BASE64:case zo.BASE64URL:return new FR(L4(t,e));case zo.DATA_URL:return new FR(function $le(t){const e=new V4(t);return e.base64?L4(zo.BASE64,e.rest):function Vle(t){let e;try{e=decodeURIComponent(t)}catch{throw x_(zo.DATA_URL,"Malformed data URL.")}return F4(e)}(e.rest)}(e),function Ble(t){return new V4(t).contentType}(e))}throw NR()}function F4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function L4(t,e){switch(t){case zo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw x_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case zo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw x_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Lle(t){if(typeof atob>"u")throw function Ele(t){return new Mr(Dr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:x_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class V4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw x_(zo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Ule(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ua{constructor(e,n){let r=0,i="";N4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(N4(this.data_)){const i=function Fle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new ua(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ua(r,!0)}}static getBlob(...e){if(kR()){const n=e.map(r=>r instanceof ua?r.data_:r);return new ua(Ole.apply(null,n))}{const n=e.map(s=>y0(s)?LR(zo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ua(i,!0)}}uploadData(){return this.data_}}function VR(t){let e;try{e=JSON.parse(t)}catch{return null}return function Ale(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function $4(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function zle(t,e){return e}class mo{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||zle}}let E0=null;function k_(){if(E0)return E0;const t=[];t.push(new mo("bucket")),t.push(new mo("generation")),t.push(new mo("metageneration")),t.push(new mo("name","fullPath",!0));const n=new mo("name");n.xform=function e(o,s){return function Gle(t){return!y0(t)||t.length<2?t:$4(t)}(s)},t.push(n);const i=new mo("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new mo("timeCreated")),t.push(new mo("updated")),t.push(new mo("md5Hash",null,!0)),t.push(new mo("cacheControl",null,!0)),t.push(new mo("contentDisposition",null,!0)),t.push(new mo("contentEncoding",null,!0)),t.push(new mo("contentLanguage",null,!0)),t.push(new mo("contentType",null,!0)),t.push(new mo("metadata","customMetadata",!0)),E0=t,E0}function B4(t,e,n){const r=VR(e);return null===r?null:function Wle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function qle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Ji(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function $R(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const U4="prefixes",j4="items";class da{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ha(t){if(!t)throw NR()}function w0(t,e){return function n(r,i){const o=B4(t,i,e);return ha(null!==o),o}}function Yf(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function ple(){return new Mr(Dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function fle(){return new Mr(Dr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function hle(t){return new Mr(Dr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function gle(t){return new Mr(Dr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function O_(t){const e=Yf(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function dle(t){return new Mr(Dr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function H4(t,e,n){const i=il(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new da(i,"GET",w0(t,n),s);return a.errorHandler=O_(e),a}function Jle(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=il(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,h=new da(a,"GET",function Xle(t,e){return function n(r,i){const o=function Qle(t,e,n){const r=VR(n);return null===r?null:function Yle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[U4])for(const i of n[U4]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Ji(e,o));r.prefixes.push(s)}if(n[j4])for(const i of n[j4]){const o=t._makeStorageReference(new Ji(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return ha(null!==o),o}}(t,e.bucket),u);return h.urlParams=o,h.errorHandler=Yf(e),h}function G4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function rce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class C0{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function BR(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ha(!1)}return ha(!!n&&-1!==(e||["active"]).indexOf(n)),n}const ace={STATE_CHANGED:"state_changed"},_o={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UR(t){switch(t){case"running":case"pausing":case"canceling":return _o.RUNNING;case"paused":return _o.PAUSED;case"success":return _o.SUCCESS;case"canceled":return _o.CANCELED;default:return _o.ERROR}}class lce{constructor(e,n,r){if(function Dle(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Qf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let K4=null;class cce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw N_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw N_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw N_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw N_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw N_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class uce extends cce{initXhr(){this.xhr_.responseType="text"}}function Ms(){return K4?K4():new uce}class Y4{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=k_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(O4(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=S4()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Dr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function ice(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=G4(e,r,i),a={name:s.fullPath},l=il(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},g=$R(s,n),b=new da(l,"POST",function v(A){let R;BR(A);try{R=A.getResponseHeader("X-Goog-Upload-URL")}catch{ha(!1)}return ha(y0(R)),R},t.maxUploadRetryTime);return b.urlParams=a,b.headers=h,b.body=g,b.errorHandler=Yf(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ms,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function oce(t,e,n,r){const l=new da(n,"POST",function o(u){const h=BR(u,["active","final"]);let g=null;try{g=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ha(!1)}g||ha(!1);const m=Number(g);return ha(!isNaN(m)),new C0(m,r.size(),"final"===h)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Yf(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ms,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new C0(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function sce(t,e,n,r,i,o,s,a){const l=new C0(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function yle(){return new Mr(Dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const g=l.current;let v="";v=0===h?"finalize":u===h?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},A=r.slice(g,g+h);if(null===A)throw P4();const ue=new da(n,"POST",function R(ge,Ye){const Ct=BR(ge,["active","final"]),fn=l.current+h,nr=r.size();let sl;return sl="final"===Ct?w0(e,o)(ge,Ye):null,new C0(fn,nr,"final"===Ct,sl)},e.maxUploadRetryTime);return ue.headers=b,ue.body=A.uploadData(),ue.progressCallback=a||null,ue.errorHandler=Yf(t),ue}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ms,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=H4(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ms,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function q4(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let ue="";for(let ge=0;ge<2;ge++)ue+=Math.random().toString().slice(2);return ue}();s["Content-Type"]="multipart/related; boundary="+l;const u=G4(e,r,i),h=$R(u,n),v=ua.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===v)throw P4();const b={name:u.fullPath},A=il(o,t.host,t._protocol),H=t.maxUploadRetryTime,B=new da(A,"POST",w0(t,n),H);return B.urlParams=b,B.headers=s,B.body=v.uploadData(),B.errorHandler=Yf(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ms,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=R4(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=UR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new lce(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(UR(this._state)){case _o.SUCCESS:Qf(this._resolve.bind(null,this.snapshot))();break;case _o.CANCELED:case _o.ERROR:Qf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UR(this._state)){case _o.RUNNING:case _o.PAUSED:e.next&&Qf(e.next.bind(e,this.snapshot))();break;case _o.SUCCESS:e.complete&&Qf(e.complete.bind(e))();break;default:e.error&&Qf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ed{constructor(e,n){this._service=e,this._location=n instanceof Ji?n:Ji.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ed(e,n)}get root(){const e=new Ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $4(this._location.path)}get storage(){return this._service}get parent(){const e=function jle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Ji(this._location.bucket,e);return new ed(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw x4(e)}}function X4(t,e,n){return jR.apply(this,arguments)}function jR(){return jR=(0,y.c)(function*(t,e,n){const i=yield Z4(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield X4(t,e,i.nextPageToken))}),jR.apply(this,arguments)}function Z4(t,e){null!=e&&"number"==typeof e.maxResults&&OR("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Jle(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ms)}function wce(t){t._throwIfRoot("getDownloadURL");const e=function ece(t,e,n){const i=il(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new da(i,"GET",function Zle(t,e){return function n(r,i){const o=B4(t,i,e);return ha(null!==o),function Kle(t,e,n,r){const i=VR(e);if(null===i||!y0(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const g=t.fullPath;return il("/b/"+s(t.bucket)+"/o/"+s(g),n,r)+k4({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=O_(e),a}(t.storage,t._location,k_());return t.storage.makeRequestWithTokens(e,Ms).then(n=>{if(null===n)throw function Ile(){return new Mr(Dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function J4(t,e){const n=function Hle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ji(t._location.bucket,n);return new ed(t.storage,r)}function e3(t,e){if(t instanceof HR){const n=t;if(null==n._bucket)throw function vle(){return new Mr(Dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A4+"' property when initializing the app?")}();const r=new ed(n,n._bucket);return null!=e?e3(r,e):r}return void 0!==e?J4(t,e):t}function Dce(t,e){if(e&&function bce(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof HR)return function Tce(t,e){return new ed(t,e)}(t,e);throw Wf("To use ref(service, url), the first argument must be a Storage instance.")}return e3(t,e)}function t3(t,e){const n=null==e?void 0:e[A4];return null==n?null:Ji.makeFromBucketSpec(n,t)}class HR{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=D4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ji.makeFromBucketSpec(i,this._host):t3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ji.makeFromBucketSpec(this._url,e):t3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,y.c)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,y.c)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ed(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new wle(M4());{const s=function Nle(t,e,n,r,i,o,s=!0){const a=k4(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function Mle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Rle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function Ple(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function xle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Sle(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,y.c)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const n3="@firebase/storage";function o3(t,e){return Dce(t=(0,hn.Yj)(t),e)}function Fce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HR(n,r,i,e,Js.SDK_VERSION)}!function Lce(){(0,Js._registerComponent)(new KI.Yl("storage",Fce,"PUBLIC").setMultipleInstances(!0)),(0,Js.registerVersion)(n3,"0.12.1",""),(0,Js.registerVersion)(n3,"0.12.1","esm2017")}();class b0{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class a3{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new b0(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new b0(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new b0(s,this,this._ref)):{next:n.next?s=>n.next(new b0(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class l3{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ol(e,this._service))}get items(){return this._delegate.items.map(e=>new ol(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ol{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Oce(t,e){return J4(t,e)}(this._delegate,e);return new ol(n,this.storage)}get root(){return new ol(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ol(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new a3(function Sce(t,e,n){return function _ce(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Y4(t,new ua(e),n)}(t=(0,hn.Yj)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=zo.RAW,r){this._throwIfRoot("putString");const i=LR(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new a3(new Y4(this._delegate,new ua(i.data,!0),o),this)}listAll(){return function xce(t){return function yce(t){const e={prefixes:[],items:[]};return X4(t,e).then(()=>e)}(t=(0,hn.Yj)(t))}(this._delegate).then(e=>new l3(e,this.storage))}list(e){return function Mce(t,e){return Z4(t=(0,hn.Yj)(t),e)}(this._delegate,e||void 0).then(n=>new l3(n,this.storage))}getMetadata(){return function Rce(t){return function Ice(t){t._throwIfRoot("getMetadata");const e=H4(t.storage,t._location,k_());return t.storage.makeRequestWithTokens(e,Ms)}(t=(0,hn.Yj)(t))}(this._delegate)}updateMetadata(e){return function Pce(t,e){return function Ece(t,e){t._throwIfRoot("updateMetadata");const n=function tce(t,e,n,r){const o=il(e.fullServerUrl(),t.host,t._protocol),a=$R(n,r),u=t.maxOperationRetryTime,h=new da(o,"PATCH",w0(t,r),u);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=O_(e),h}(t.storage,t._location,e,k_());return t.storage.makeRequestWithTokens(n,Ms)}(t=(0,hn.Yj)(t),e)}(this._delegate,e)}getDownloadURL(){return function Nce(t){return wce(t=(0,hn.Yj)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function kce(t){return function Cce(t){t._throwIfRoot("deleteObject");const e=function nce(t,e){const r=il(e.fullServerUrl(),t.host,t._protocol),a=new da(r,"DELETE",function s(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=O_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ms)}(t=(0,hn.Yj)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw x4(e)}}class c3{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(u3(e))throw Wf("ref() expected a child path but got a URL, use refFromURL instead.");return new ol(o3(this._delegate,e),this)}refFromURL(e){if(!u3(e))throw Wf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ji.makeFromUrl(e,this._delegate.host)}catch{throw Wf("refFromUrl() expected a valid full URL but got an invalid one.")}return new ol(o3(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function s3(t,e,n,r={}){!function Ace(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,hn.YD)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function u3(t){return/^[A-Za-z]+:\/\//.test(t)}function Uce(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new c3(n,r)}!function jce(t){const e={TaskState:_o,TaskEvent:ace,StringFormat:zo,Storage:c3,Reference:ol};t.INTERNAL.registerComponent(new KI.Yl("storage-compat",Uce,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.4")}(cs.c);let T0=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.afAuth=i,this.router=o}initialize(){this.afAuth.authState.subscribe(r=>{r?this.firestore.collection("users_data",i=>i.where("uid","==",r.uid)).get().subscribe(i=>{if(i.empty)this.router.navigate(["/splash"]);else{const o=i.docs[0].data();this.user_data=o,console.log("the user_data variable will not be usable for 1 to 5 seconds after fetching data from the server")}}):this.router.navigate(["/log"])})}addLike(r){this.firestore.collection("posts").doc(r).set({likes:cs.c.firestore.FieldValue.increment(1)},{merge:!0})}}return(t=e).\u0275fac=function(r){return new(r||t)(He(qf),He(qa),He(Cr))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Xf=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=qe({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[["id","under_bar"],["routerLink","/search","name","search",1,"under_bar_button"],["routerLink","/home","name","albums",1,"under_bar_button"],["routerLink","/add","name","add-circle",1,"under_bar_button"],["routerLink","/chat","name","chatbubble",1,"under_bar_button",2,"font-size","1.8rem"],["routerLink","/account","name","person-circle",1,"under_bar_button"]],template:function(r,i){1&r&&(he(0,"div",0),wt(1,"ion-icon",1)(2,"ion-icon",2)(3,"ion-icon",3)(4,"ion-icon",4)(5,"ion-icon",5),fe())},dependencies:[Jh,Em,Ga]}),e})();function Hce(t,e){if(1&t){const n=function Z1(){return be()}();he(0,"div",42)(1,"div",43),wt(2,"ion-icon",44)(3,"ion-icon",45),fe(),he(4,"img",46),tn("click",function(){const o=fp(n).$implicit;return pp(qs().showDetails(o))}),fe(),he(5,"div",47)(6,"div",48)(7,"ion-icon",49),tn("click",function(){const o=fp(n).$implicit;return pp(qs().addLike(o.id))}),fe(),wt(8,"ion-icon",50),fe(),he(9,"p",51),it(10),fe(),he(11,"h5",51),it(12),fe(),he(13,"p",52),it(14),fe()()()}if(2&t){const n=e.$implicit;Ri(4),Uy("src",n.imageUrl,du),Ri(6),Th("Piace a ",n.likes," persone"),Ri(2),jy(n.title),Ri(2),jy(n.description)}}let zce=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.firebaseService=i}ngOnInit(){this.documents=this.firestore.collection("posts").valueChanges({idField:"id"}).pipe(mt(r=>r.map(i=>({id:i.id,...i}))))}getSpecificFeed(){var r=document.getElementById("selector1");"All"==r.value&&(this.documents=this.firestore.collection("posts").valueChanges({idField:"id"}).pipe(mt(i=>i.map(o=>({id:o.id,...o}))))),"Post"==r.value&&(this.documents=this.firestore.collection("posts",i=>i.where("category","==","post")).valueChanges({idField:"id"}).pipe(mt(i=>i.map(o=>({id:o.id,...o}))))),"ArtisticResidence"==r.value&&(this.documents=this.firestore.collection("posts",i=>i.where("category","==","Artistic-residence")).valueChanges({idField:"id"}).pipe(mt(i=>i.map(o=>({id:o.id,...o}))))),"Coworking"==r.value&&(this.documents=this.firestore.collection("posts",i=>i.where("category","==","Co-working")).valueChanges({idField:"id"}).pipe(mt(i=>i.map(o=>({id:o.id,...o}))))),"Course"==r.value&&(this.documents=this.firestore.collection("posts",i=>i.where("category","==","Course")).valueChanges({idField:"id"}).pipe(mt(i=>i.map(o=>({id:o.id,...o}))))),"Events"==r.value&&(this.documents=this.firestore.collection("posts",i=>i.where("category","==","Event")).valueChanges({idField:"id"}).pipe(mt(i=>i.map(o=>({id:o.id,...o})))))}showDetails(r){document.getElementById("post-details").style.display="flex",document.getElementById("post-img-details").src=r.imageUrl,document.getElementById("post-title-details").innerHTML=r.title,document.getElementById("post-description-details").innerHTML=r.description,document.getElementById("post-description-details").innerHTML=r.description,"Post"!=r.category&&(document.getElementById("post-city-details").innerHTML=r.city,document.getElementById("post-address-details").innerHTML=r.address,document.getElementById("post-date-details").innerHTML="dal "+r.start_date+" al "+r.end_date,document.getElementById("post-time-details").innerHTML="inizio alle "+r.start_time+", fine alle "+r.end_time,document.getElementById("post-money-details").innerHTML="\u20ac"+r.money,document.getElementById("post-delivery-details").innerHTML=r.delivery)}addLike(r){this.firebaseService.addLike(r)}getFeed(){var r=document.getElementById("selector1");"Tutti"==r.value?this.firestore.collection("posts").get().subscribe(i=>{const o=i.docs.map(s=>({id:s.id,...s.data()}));this.documents=Bt(o)}):"Eventi"==r.value?this.firestore.collection("posts").ref.where("category","==","pro").get().then(i=>{const o=i.docs.map(s=>({id:s.id,...s.data()}));this.documents=Bt(o)}):"Spotted"==r.value&&this.firestore.collection("posts").ref.where("category","==","spot").get().then(i=>{const o=i.docs.map(s=>({id:s.id,...s.data()}));this.documents=Bt(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qf),E(T0))},t.\u0275cmp=qe({type:t,selectors:[["app-home"]],decls:95,vars:3,consts:[[1,"body1"],["id","post-details",2,"position","absolute","z-index","999","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","white"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem"],["id","post-title-details"],["onclick","document.getElementById('post-details').style.display = 'none'; ","name","close-outline",2,"font-size","2rem"],[2,"width","100%","display","flex","align-items","center","justify-content","center"],["id","post-img-details",2,"width","100%","max-height","20rem","object-fit","cover"],[2,"width","100%","display","flex","flex-direction","column","padding-left","0.5rem","padding-top","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center"],[1,"material-symbols-outlined","notranslate",2,"color","#343a40"],["id","post-description-details",2,"margin-top","0.5rem"],["id","post-city-details",2,"margin-top","0.5rem"],["id","post-address-details",2,"margin-top","0.5rem"],["id","post-date-details",2,"margin-top","0.5rem"],["id","post-time-details",2,"margin-top","0.5rem"],["id","post-money-details",2,"margin-top","0.5rem"],["id","post-delivery-details",2,"margin-top","0.5rem"],[2,"width","100%","display","flex","flex-direction","column","align-items","center","margin-bottom","2rem"],["onclick","document.getElementById('reserve-details').style.display = 'flex'; ",1,"button1",2,"width","95%","height","2.5rem"],["id","reserve-details",2,"position","absolute","z-index","1000","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","white"],["onclick","document.getElementById('reserve-details').style.display = 'none'; ","name","close-outline",2,"font-size","2rem"],[2,"width","100%","display","flex","align-items","center","justify-content","center","padding-left","1rem","padding-right","1rem"],["id","post-img-details",2,"width","100%"],[2,"width","100%","display","flex","padding-left","1rem"],["id","post-description-details"],[1,"button1",2,"width","95%","height","2.5rem"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","padding-top","4rem","overflow-y","auto","border-bottom","1px solid rgba(0, 0, 0, 0.139)"],["style","width: 100%;",4,"ngFor","ngForOf"],[1,"overflow1"],[1,"header",2,"height","3.5rem !important","pointer-events","visible","background","#f8f9fab3","-webkit-backdrop-filter","blur(5px)","backdrop-filter","blur(5px)","border-top","1px solid rgba(255, 255, 255, 0.046)"],[2,"height","100%","display","flex","flex-direction","row","align-items","center"],[2,"display","flex","border-bottom","1px solid rgba(255, 255, 255, 0.046)"],["src","assets\\img\\Group 311.svg",2,"width","3.5rem","height","3.5rem","padding-top","0.5rem","padding-left","0.5rem","padding-bottom","0.5rem"],["id","selector1",1,"selector1",2,"display","flex","align-items","center","font-size","1.8rem",3,"change"],["value","All"],["value","Post"],["value","ArtisticResidence"],["value","Coworking"],["value","Course"],["value","Events"],["routerLink","/notifications","name","notifications",2,"font-size","2rem","color","#212529","margin-right","0.5rem"],["id","spacer",2,"height","calc(100% - 7rem)"],[2,"width","100%"],[2,"width","100%","height","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["name","person-circle-outline",2,"font-size","1.8rem","padding-left","0.5rem"],["name","ellipsis-vertical",2,"font-size","1.5rem","padding-right","0.5rem"],[2,"width","100%","object-fit","cover",3,"src","click"],[2,"padding-left","0.5rem","padding-top","0.5rem"],[2,"width","100%","height","2rem","display","flex","flex-direction","row","gap","0.8rem","margin-bottom","0.3rem"],["name","heart-outline",2,"font-size","1.9rem",3,"click"],["name","chatbubble-outline",2,"font-size","1.8rem"],[2,"margin-bottom","0.5rem","margin-top","0rem"],[2,"margin-top","0rem","font-weight","200","max-height","5rem","overflow","hidden"]],template:function(r,i){1&r&&(he(0,"body",0)(1,"div",1)(2,"div",2),wt(3,"h3",3)(4,"ion-icon",4),fe(),he(5,"div",5),wt(6,"img",6),fe(),he(7,"div",7)(8,"div",8)(9,"span",9),it(10,"article"),fe(),he(11,"strong"),it(12,"Descrizione"),fe()(),wt(13,"p",10),fe(),he(14,"div",7)(15,"div",8)(16,"span",9),it(17,"apartment"),fe(),he(18,"strong"),it(19,"Citt\xe0"),fe()(),wt(20,"p",11),fe(),he(21,"div",7)(22,"div",8)(23,"span",9),it(24,"signpost"),fe(),he(25,"strong"),it(26,"Indirizzo"),fe()(),wt(27,"p",12),fe(),he(28,"div",7)(29,"div",8)(30,"span",9),it(31,"calendar_month"),fe(),he(32,"strong"),it(33,"Data"),fe()(),wt(34,"p",13),fe(),he(35,"div",7)(36,"div",8)(37,"span",9),it(38,"schedule"),fe(),he(39,"strong"),it(40,"Orari"),fe()(),wt(41,"p",14),fe(),he(42,"div",7)(43,"div",8)(44,"span",9),it(45,"payments"),fe(),he(46,"strong"),it(47,"Quota di partecipazione"),fe()(),wt(48,"p",15),fe(),he(49,"div",7)(50,"div",8)(51,"span",9),it(52,"package"),fe(),he(53,"strong"),it(54,"Recapito"),fe()(),wt(55,"p",16),fe(),he(56,"div",17)(57,"button",18),it(58,"Prenota"),fe()()(),he(59,"div",19)(60,"div",2)(61,"h3"),it(62,"Prenota l'evento"),fe(),wt(63,"ion-icon",20),fe(),he(64,"div",21),wt(65,"img",22),fe(),he(66,"div",23),wt(67,"p",24),fe(),he(68,"div",17)(69,"button",25),it(70,"Conferma"),fe()()(),he(71,"div",26),bo(72,Hce,15,4,"div",27),ub(73,"async"),fe(),he(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",31),wt(78,"img",32),he(79,"select",33),tn("change",function(){return i.getSpecificFeed()}),he(80,"option",34),it(81,"Tutti"),fe(),he(82,"option",35),it(83,"Post"),fe(),he(84,"option",36),it(85,"Residenze"),fe(),he(86,"option",37),it(87,"Coworking"),fe(),he(88,"option",38),it(89,"Corsi"),fe(),he(90,"option",39),it(91,"Eventi"),fe()()()(),wt(92,"ion-icon",40),fe(),wt(93,"div",41)(94,"app-footer"),fe()()),2&r&&(Ri(72),yi("ngForOf",db(73,1,i.documents)))},dependencies:[zb,Jh,Em,Ga,Xf,Kb]}),e})(),Gce=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i,this.afAuth.authState.subscribe(o=>{this.router.navigate(o?["/home"]:["/log"])})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qa),E(Cr))},t.\u0275cmp=qe({type:t,selectors:[["app-splash"]],decls:3,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["src","assets\\img\\Group 311.svg",2,"width","8rem","height","8rem"]],template:function(r,i){1&r&&(he(0,"body")(1,"div",0),wt(2,"img",1),fe()())}}),e})(),qce=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Cr))},t.\u0275cmp=qe({type:t,selectors:[["app-log"]],decls:12,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","position","fixed","overflow-x","hidden","overflow-y","auto","align-items","center"],["src","assets\\img\\Group 311.svg",2,"height","13rem","object-fit","contain","margin-top","2rem","margin-bottom","2rem"],[1,"card4",2,"width","95%","border-radius","1.5rem"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","2rem"],[2,"width","90%","margin-top","0rem"],[1,"button1",2,"width","90%","margin-top","1rem",3,"click"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","#6b9080",3,"click"]],template:function(r,i){1&r&&(he(0,"body")(1,"div",0),wt(2,"img",1),he(3,"div",2)(4,"h1",3),it(5,"Crea, condividi e ispira: l'arte \xe8 a un tocco da qui!"),fe(),he(6,"p",4),it(7,"Astarte, l'app dedicata agli artisti, fatta da artisti"),fe(),he(8,"button",5),tn("click",function(){return i.toLogin()}),it(9,"Accedi"),fe(),he(10,"button",6),tn("click",function(){return i.toRegister()}),it(11,"Registrati"),fe()()()())}}),e})();function d3(t){const e=function Kce(t){return new Rn(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Wce(t,e=$T){return Et((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function l(){const u=s+t,h=e.now();if(h<u)return i=this.schedule(void 0,u-h),void r.add(i);a()}n.subscribe(Ot(r,u=>{o=u,s=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(mt(n=>n.bytesTransferred/n.totalBytes*100))}}function D0(t){return{getDownloadURL:()=>Bt(void 0).pipe(LL,Pr(()=>t.getDownloadURL()),lo),getMetadata:()=>Bt(void 0).pipe(LL,Pr(()=>t.getMetadata()),lo),delete:()=>jn(t.delete()),child:e=>D0(t.child(e)),updateMetadata:e=>jn(t.updateMetadata(e)),put:(e,n)=>d3(t.put(e,n)),putString:(e,n,r)=>d3(t.putString(e,n,r)),list:e=>jn(t.list(e)),listAll:()=>jn(t.listAll())}}const Yce=new st("angularfire2.storageBucket"),Qce=new st("angularfire2.storage.maxUploadRetryTime"),Xce=new st("angularfire2.storage.maxOperationRetryTime"),Zce=new st("angularfire2.storage.use-emulator");let h3=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m){vn(this,"storage",void 0);const v=OI(r,a,i);this.storage=HT(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const b=a.runOutsideAngular(()=>v.storage(o||void 0)),A=g;return A&&b.useEmulator(...A),u&&b.setMaxUploadRetryTime(u),h&&b.setMaxOperationRetryTime(h),b},[u,h])}ref(r){return D0(this.storage.ref(r))}refFromURL(r){return D0(this.storage.refFromURL(r))}upload(r,i,o){return D0(this.storage.ref(r)).put(i,o)}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(He(um),He(dm,8),He(Yce,8),He(Lo),He(Se),He(jT),He(Qce,8),He(Xce,8),He(Zce,8),He(UT,8))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();function Jce(t,e){1&t&&wt(0,"img",50),2&t&&yi("src",qs().imageSrc,du)}function eue(t,e){if(1&t&&(he(0,"div",51),wt(1,"progress",52),he(2,"span"),it(3),fe()()),2&t){const n=qs();Ri(),yi("value",n.uploadProgress),Ri(2),Th("",n.uploadProgress,"%")}}function tue(t,e){1&t&&wt(0,"img",50),2&t&&yi("src",qs().imageSrc,du)}function nue(t,e){if(1&t&&(he(0,"div",51),wt(1,"progress",52),he(2,"span"),it(3),fe()()),2&t){const n=qs();Ri(),yi("value",n.uploadProgress),Ri(2),Th("",n.uploadProgress,"%")}}let rue=(()=>{var t;class e{constructor(r,i,o,s){this.firestore=r,this.afAuth=i,this.storage=o,this.router=s,this.selectedImage=null,this.imageUrl=null,this.uploadProgress=null}ngOnInit(){}goBack(){"flex"==document.getElementById("add-selection").style.display?this.router.navigate(["/home"]):(document.getElementById("add-selection").style.display="flex",document.getElementById("add-post").style.display="none",document.getElementById("add-announcement").style.display="none")}showPostCreation(){document.getElementById("add-selection").style.display="none",document.getElementById("add-post").style.display="flex",document.getElementById("add-announcement").style.display="none"}showAnnouncementCreation(){document.getElementById("add-selection").style.display="none",document.getElementById("add-announcement").style.display="flex",document.getElementById("add-post").style.display="none"}onFileSelected(r){const i=r.target.files[0];if(i){const o=new FileReader;o.onload=s=>{this.imageSrc=s.target.result},o.readAsDataURL(i)}this.selectedImage=i}addPost(){var r=this;return(0,y.c)(function*(){var i=document.getElementById("post-title-input").value,o=document.getElementById("post-description-input").value;r.afAuth.authState.subscribe(function(){var s=(0,y.c)(function*(a){if(a)if(r.selectedImage)try{const h=r.storage.ref("images/").child(r.selectedImage.name).put(r.selectedImage);h.percentageChanges().subscribe(b=>{r.uploadProgress=b});const m=yield(yield h).ref.getDownloadURL(),v={creator_id:a.uid,title:i,description:o,imageUrl:m,category:"post",timestamp:cs.c.firestore.FieldValue.serverTimestamp()};r.firestore.collection("posts").add(v).then(()=>{alert("Post aggiunto con successo")}).catch(b=>{alert("Errore durante l'aggiunta del post: "+b.message.toString())})}catch(l){console.error("Errore durante il caricamento dell'immagine:",l)}else alert("Nessuna immagine selezionata");else alert("Per pubblicare un post \xe8 necessario effettuare il login o la registrazione")});return function(a){return s.apply(this,arguments)}}())})()}addAnnouncement(){var r=this;return(0,y.c)(function*(){var i=document.getElementById("announcement-title-input").value,o=document.getElementById("announcement-description-input").value,s=document.getElementById("announcement-category-input").value,a=document.getElementById("announcement-city-input").value,l=document.getElementById("announcement-address-input").value,u=document.getElementById("announcement-date-start-input").value,h=document.getElementById("announcement-date-end-input").value,g=document.getElementById("announcement-time-start-input").value,m=document.getElementById("announcement-time-end-input").value,v=document.getElementById("announcement-money-input").value,b=document.getElementById("announcement-delivery-input").value;r.afAuth.authState.subscribe(function(){var A=(0,y.c)(function*(R){if(R)if(r.selectedImage)try{const ue=r.storage.ref("images/").child(r.selectedImage.name).put(r.selectedImage);ue.percentageChanges().subscribe(fn=>{r.uploadProgress=fn});const Ye=yield(yield ue).ref.getDownloadURL(),Ct={creator_id:R.uid,title:i,description:o,imageUrl:Ye,timestamp:cs.c.firestore.FieldValue.serverTimestamp(),category:s,city:a,address:l,start_date:u,end_date:h,start_time:g,end_time:m,money:v,delivery:b};r.firestore.collection("posts").add(Ct).then(()=>{alert("Annuncio aggiunto con successo")}).catch(fn=>{alert("Errore durante l'aggiunta dell'annuncio: "+fn.message.toString())})}catch(H){console.error("Errore durante il caricamento dell'immagine:",H)}else alert("Nessuna immagine selezionata");else alert("Per pubblicare un annuncio \xe8 necessario effettuare il login o la registrazione")});return function(R){return A.apply(this,arguments)}}())})()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qf),E(qa),E(h3),E(Cr))},t.\u0275cmp=qe({type:t,selectors:[["app-add"]],decls:107,vars:4,consts:[[2,"height","100%","overflow-y","hidden"],["id","add-selection",2,"width","100%","height","100%","display","flex","flex-direction","column"],[2,"width","100%","display","flex","align-items","center","padding-top","0.5rem","padding-left","0.5rem","pointer-events","all","padding-bottom","0.5rem"],[2,"background","#000000d0","padding","0.5rem","border-radius","50%","display","flex","flex-direction","column","align-items","center",3,"click"],[1,"material-symbols-outlined","notranslate",2,"width","100","text-align","center"],[2,"width","100%","padding-left","0.5rem"],[1,"selection-button",3,"click"],[1,"selection-button",2,"border-top","1px solid rgba(255, 255, 255, 0.062)",3,"click"],["id","add-post",2,"width","100%","height","100%","display","none","flex-direction","column","align-items","center","justify-content","start","pointer-events","all","overflow-x","hidden","padding-bottom","4rem","margin-top","0.5rem","overflow-y","auto"],[2,"width","100%","display","flex","align-items","center","padding-top","0rem","padding-left","0.5rem","pointer-events","all","padding-bottom","0.5rem"],["style","width: 90%; height: 8rem; object-fit: contain; margin-top: 1rem;",3,"src",4,"ngIf"],["for","post-image-input",1,"card1",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","4rem","margin-bottom","1rem","margin-top","1rem"],["src","assets\\img\\material-symbols_perm-media.svg",2,"width","1.5rem","height","1.5rem","margin-right","0.2rem","filter","invert(2)"],["id","post-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","pointer-events","all","z-index","1",3,"change"],["id","post-title-input","type","text","placeholder","Titolo",1,"input1","field1",2,"width","90%","height","2.5rem"],["id","post-description-input","type","text","placeholder","Descrizione",1,"input1","field1",2,"width","90%","min-height","8rem","resize","vertical","margin-top","1rem","margin-bottom","1rem"],[1,"card1",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","3rem"],["src","assets\\img\\material-symbols_location-on-rounded.svg",2,"width","1.5rem","height","1.5rem","margin-right","0.2rem","filter","invert(2)"],[2,"color","#212529"],["style","height: 4rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: -1rem;",4,"ngIf"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","height","3rem",3,"click"],["id","add-announcement",2,"width","100%","height","100%","display","none","flex-direction","column","align-items","center","padding-top","0.5rem","padding-bottom","4rem","overflow-y","auto"],["for","announcement-image-input",1,"card1",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","4rem","margin-bottom","1rem","margin-top","1rem","flex-shrink","0"],["id","announcement-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","pointer-events","all","z-index","1",3,"change"],[1,"input1",2,"margin-top","1rem","flex-shrink","0"],[1,"material-symbols-outlined","notranslate",2,"padding-left","0.5rem","color","#343a40"],["id","announcement-category-input","type","text","placeholder","Categoria",1,"field1"],["value","Co-woriking"],["value","Course"],["value","Event"],["value","Artistic-residence"],["id","announcement-title-input","type","text","placeholder","Titolo",1,"field1"],[1,"input1",2,"margin-top","1rem","min-height","8rem","resize","vertical","display","flex","flex-direction","row","align-items","start"],[1,"material-symbols-outlined","notranslate",2,"padding-left","0.5rem","color","#343a40","padding-top","1rem"],["id","announcement-description-input","type","text","placeholder","Descrizione",1,"field1",2,"padding-top","1rem"],["id","announcement-city-input","type","text","placeholder","Citt\xe0",1,"field1"],["id","announcement-address-input","type","text","placeholder","Indirizzo",1,"field1"],["for","announcement-date-start-input"],["id","announcement-date-start-input","type","date","placeholder","Data di inizio",1,"field1"],["for","announcement-date-end-input"],["id","announcement-date-end-input","type","date","placeholder","Data di fine",1,"field1"],["for","announcement-time-start-input"],["id","announcement-time-start-input","type","time","placeholder","Ora di inizio",1,"field1"],["for","announcement-time-end-input"],["id","announcement-time-end-input","type","time","placeholder","Ora di fine",1,"field1"],["id","announcement-money-input","type","number","placeholder","Quota di partecipazione",1,"field1"],["id","announcement-delivery-input","type","text","placeholder","Recapito",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","height","3rem","flex-shrink","0",3,"click"],[1,"overflow1"],["id","spacer"],[2,"width","90%","height","8rem","object-fit","contain","margin-top","1rem",3,"src"],[2,"height","4rem","display","flex","align-items","center","justify-content","center","gap","0.5rem","margin-bottom","-1rem"],["max","100",3,"value"]],template:function(r,i){1&r&&(he(0,"body",0)(1,"div",1)(2,"div",2)(3,"button",3),tn("click",function(){return i.goBack()}),he(4,"span",4),it(5,"arrow_back_ios_new"),fe()(),he(6,"h3",5),it(7,"Cosa vuoi pubblicare?"),fe()(),he(8,"button",6),tn("click",function(){return i.showPostCreation()}),it(9,"Post"),fe(),he(10,"button",7),tn("click",function(){return i.showAnnouncementCreation()}),it(11,"Annuncio"),fe()(),he(12,"div",8)(13,"div",9)(14,"button",3),tn("click",function(){return i.goBack()}),he(15,"span",4),it(16,"arrow_back_ios_new"),fe()(),he(17,"h3",5),it(18,"Nuovo post"),fe()(),bo(19,Jce,1,1,"img",10),he(20,"label",11),wt(21,"img",12),he(22,"input",13),tn("change",function(s){return i.onFileSelected(s)}),fe(),he(23,"p"),it(24,"Seleziona media"),fe()(),wt(25,"input",14)(26,"textarea",15),he(27,"button",16),wt(28,"img",17),he(29,"p",18),it(30,"Aggiungi posizione"),fe()(),bo(31,eue,4,2,"div",19),he(32,"button",20),tn("click",function(){return i.addPost()}),it(33,"Pubblica"),fe()(),he(34,"div",21)(35,"div",9)(36,"button",3),tn("click",function(){return i.goBack()}),he(37,"span",4),it(38,"arrow_back_ios_new"),fe()(),he(39,"h3",5),it(40,"Nuovo annuncio"),fe()(),bo(41,tue,1,1,"img",10),he(42,"label",22),wt(43,"img",12),he(44,"input",23),tn("change",function(s){return i.onFileSelected(s)}),fe(),he(45,"p"),it(46,"Seleziona media"),fe()(),he(47,"div",24)(48,"span",25),it(49,"category"),fe(),he(50,"select",26)(51,"option",27),it(52,"Co-working"),fe(),he(53,"option",28),it(54,"Course"),fe(),he(55,"option",29),it(56,"Evento artistico generico"),fe(),he(57,"option",30),it(58,"Residenza artistica"),fe()()(),he(59,"div",24)(60,"span",25),it(61,"title"),fe(),wt(62,"input",31),fe(),he(63,"div",32)(64,"span",33),it(65,"article"),fe(),wt(66,"textarea",34),fe(),he(67,"div",24)(68,"span",25),it(69,"apartment"),fe(),wt(70,"input",35),fe(),he(71,"div",24)(72,"span",25),it(73,"signpost"),fe(),wt(74,"input",36),fe(),he(75,"div",24)(76,"span",25),it(77,"calendar_month"),fe(),he(78,"label",37),it(79,"Data inizio"),fe(),wt(80,"input",38),he(81,"label",39),it(82,"Data fine"),fe(),wt(83,"input",40),fe(),he(84,"div",24)(85,"span",25),it(86,"schedule"),fe(),he(87,"label",41),it(88,"Inizio"),fe(),wt(89,"input",42),he(90,"label",43),it(91,"Fine"),fe(),wt(92,"input",44),fe(),he(93,"div",24)(94,"span",25),it(95,"payments"),fe(),wt(96,"input",45),fe(),he(97,"div",24)(98,"span",25),it(99,"package"),fe(),wt(100,"input",46),fe(),bo(101,nue,4,2,"div",19),he(102,"button",47),tn("click",function(){return i.addAnnouncement()}),it(103,"Pubblica"),fe()(),he(104,"div",48),wt(105,"div",49)(106,"app-footer"),fe()()),2&r&&(Ri(19),yi("ngIf",i.imageSrc),Ri(12),yi("ngIf",null!==i.uploadProgress),Ri(10),yi("ngIf",i.imageSrc),Ri(60),yi("ngIf",null!==i.uploadProgress))},dependencies:[jg,Xf]}),e})();function iue(t,e){1&t&&wt(0,"img",48),2&t&&Uy("src",e.$implicit.imageUrl,du)}function oue(t,e){1&t&&wt(0,"img",49),2&t&&yi("src",qs().imageSrc,du)}const sue=[{path:"",redirectTo:"splash",pathMatch:"full"},{path:"login",component:Pne},{path:"register",component:ale},{path:"home",component:zce},{path:"splash",component:Gce},{path:"log",component:qce},{path:"add",component:rue},{path:"account",component:(()=>{var t;class e{constructor(r,i,o,s,a,l){this.firestore=r,this.afAuth=i,this.firebaseService=o,this.storage=s,this.router=a,this.locationStrategy=l,this.selectedImage=null,this.imageUrl=null,this.uploadProgress=null}ngOnInit(){this.afAuth.authState.subscribe(r=>{if(r){this.documents=this.firestore.collection("posts",g=>g.where("creator_id","==",r.uid)).valueChanges();const s=this.firebaseService.user_data;if(s&&void 0!==s.imageUrl){var i=document.getElementById("account-image"),o=document.getElementById("account-image-change");null!=i&&(i.src=s.imageUrl),null!=o&&(o.src=s.imageUrl)}else i=document.getElementById("account-image"),o=document.getElementById("account-image-change"),null!=i&&(i.style.border="1px solid black"),null!=o&&(o.style.border="1px solid black");document.getElementById("name-and-surname").innerHTML=s.name,document.getElementById("description").innerHTML=s.description,document.getElementById("username").innerHTML="@"+s.username;const a=document.getElementById("account-name-and-surname-change"),l=document.getElementById("account-username-change"),u=document.getElementById("account-phone-number-change"),h=document.getElementById("account-description-change");a.value=s.name,l.value=s.username,u.value=s.phone,h.value=s.description}else alert("Impossibile mostrare i dati del profilo se non si possiede un account")})}onFileSelected(r){document.getElementById("changed-image-preview").style.display="flex";const i=r.target.files[0];if(i){const o=new FileReader;o.onload=s=>{this.imageSrc=s.target.result},o.readAsDataURL(i)}this.selectedImage=i}updateAccountDatas(){var r=this;return(0,y.c)(function*(){const i=document.getElementById("account-name-and-surname-change").value,o=document.getElementById("account-username-change").value,s=document.getElementById("account-description-change").value,a=document.getElementById("account-phone-number-change").value;r.afAuth.authState.subscribe(function(){var l=(0,y.c)(function*(u){if(u)try{if(r.selectedImage){const m=r.storage.ref("account-images/").child(r.selectedImage.name).put(r.selectedImage);m.percentageChanges().subscribe(R=>{r.uploadProgress=R});const b=yield(yield m).ref.getDownloadURL(),A={name:i,username:o,description:s,phoneNumber:a,imageUrl:b};yield r.firestore.collection("users_data").doc(u.uid).update(A)}else{const h={name:i,description:s,username:o,phoneNumber:a};yield r.firestore.collection("users_data").doc(u.uid).update(h)}localStorage.removeItem("user_datas"),r.firebaseService.initialize(),alert("Dati dell'account aggiornati con successo")}catch(h){console.error("Si \xe8 verificato un errore durante l'aggiornamento dei dati dell'account:",h),alert("Si \xe8 verificato un errore durante l'aggiornamento dei dati dell'account"+h)}else alert("Per aggiornare i dati dell'account \xe8 necessario effettuare il login")});return function(u){return l.apply(this,arguments)}}())})()}refresh(){this.ngOnInit(),document.getElementById("change-account-data").style.display="none"}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qf),E(qa),E(T0),E(h3),E(Cr),E(Ts))},t.\u0275cmp=qe({type:t,selectors:[["app-account"]],decls:72,vars:4,consts:[[1,"body1"],["id","sidebar"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","pointer-events","all","overflow-x","hidden","overflow-y","auto"],[1,"up_bar",2,"width","100%","min-height","3.5rem","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["id","username",2,"margin-left","1rem"],[2,"display","flex","flex-direction","row","align-items","center","height","100%"],["onclick","document.getElementById('change-account-data').style.display = 'flex'; ","name","pencil",2,"font-size","1.8rem","margin-right","1rem"],[2,"width","100%","height","auto"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","start","gap","1rem","margin-top","1rem","margin-bottom","1rem","padding-left","1rem"],["id","account-image",2,"width","5rem","height","5rem","object-fit","cover","border-radius","50%"],[2,"height","100%","display","flex","flex-direction","column"],["id","name-and-surname",2,"font-size","1.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","0.8rem","overflow-y","hidden","overflow-x","auto","margin-top","1rem"],["id","followers",2,"margin-bottom","0rem","margin-top","0rem"],[2,"margin-top","0.3rem","font-weight","200","color","#00000080","margin-bottom","0rem"],["id","followings",2,"margin-bottom","0rem","margin-top","0rem"],["id","post-number",2,"margin-bottom","0rem","margin-top","0rem"],[2,"flex","1"],["id","description",2,"width","100%","padding-left","1rem","font-weight","200","color","#00000080","padding-right","0.5rem"],[2,"display","flex","flex-direction","row","margin-bottom","1rem"],[1,"button1",2,"height","2rem","border-radius","1rem","margin-right","1rem","flex","1","margin-left","1rem"],[1,"material-symbols-outlined","notranslate"],[1,"button1",2,"height","2rem","border-radius","1rem","margin-right","1rem","flex","1"],["name","send",2,"font-size","1.2rem","margin-right","0.5rem"],[2,"width","100%","padding-left","1rem"],[2,"display","flex","grid","100%","width","100%","height","100%","gap","1rem","padding-left","1rem","padding-right","1rem","flex-wrap","wrap"],["style","width: 5rem; height: 5rem; border-radius: 0.5rem; object-fit: cover; margin-top: 1rem; object-fit: cover;",3,"src",4,"ngFor","ngForOf"],["id","change-account-data",2,"position","absolute","z-index","999","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","rgb(225, 225, 225)"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem"],["name","close-outline",2,"font-size","2rem",3,"click"],[2,"width","100%","display","flex","flex-direction","column","align-items","center","margin-bottom","2rem"],["for","spot-image-input",2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","center","padding-left","1rem","padding-right","1rem","margin-bottom","1rem"],["id","account-image-change",2,"width","8rem","height","8rem","object-fit","cover","border-radius","50%"],["id","changed-image-preview",2,"display","none","flex-direction","row","align-items","center"],["name","chevron-forward-outline",2,"font-size","2rem","margin-left","1rem"],["style","width: 8rem; height: 8rem; border-radius: 50%; margin-left: 1rem;",3,"src",4,"ngIf"],["id","spot-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","z-index","1",3,"change"],[1,"input1",2,"margin-top","1rem","width","95%"],["name","person-outline",2,"font-size","1.5rem","margin-left","0.5rem"],["type","text","id","account-name-and-surname-change","placeholder","Nome e cognome",1,"field1"],["name","at-outline",2,"color","rgb(0, 0, 0)","font-size","1.5rem","margin-left","0.5rem","margin-right","0.5rem"],["type","text","id","account-username-change","placeholder","Username",1,"field1"],["name","call-outline",2,"color","rgb(0, 0, 0)","font-size","1.3rem","margin-left","0.5rem","margin-right","0.5rem"],["type","number","id","account-phone-number-change","placeholder","Numero di telefono",1,"field1"],["id","account-description-change","type","text","placeholder","Descrizione",1,"input1",2,"width","95%","min-height","8rem","resize","vertical","border-radius","1rem","margin-top","1rem"],[1,"button1",2,"width","95%","height","3rem","margin-top","1rem",3,"click"],[1,"overflow1"],["id","spacer"],[2,"width","5rem","height","5rem","border-radius","0.5rem","object-fit","cover","margin-top","1rem","object-fit","cover",3,"src"],[2,"width","8rem","height","8rem","border-radius","50%","margin-left","1rem",3,"src"]],template:function(r,i){1&r&&(he(0,"body",0),wt(1,"div",1),he(2,"div",2)(3,"div",3)(4,"strong",4),it(5,"username"),fe(),he(6,"div",5),wt(7,"ion-icon",6),fe()(),he(8,"div",7)(9,"div",8),wt(10,"img",9),he(11,"div",10)(12,"strong",11),it(13,"Name and surname"),fe(),he(14,"div",12)(15,"div",10)(16,"p",13),it(17,"0"),fe(),he(18,"p",14),it(19,"Followers"),fe()(),he(20,"div",10)(21,"p",15),it(22,"0"),fe(),he(23,"p",14),it(24,"Followings"),fe()(),he(25,"div",10)(26,"p",16),it(27,"0"),fe(),he(28,"p",14),it(29,"Post"),fe()(),wt(30,"div",17),fe()()(),wt(31,"p",18),he(32,"div",19)(33,"button",20)(34,"span",21),it(35,"add"),fe(),it(36,"Segui"),fe(),he(37,"button",22),wt(38,"ion-icon",23),it(39,"Messaggio"),fe()()(),he(40,"h3",24),it(41,"I miei post"),fe(),he(42,"div",25),bo(43,iue,1,1,"img",26),ub(44,"async"),fe()(),he(45,"div",27)(46,"div",28)(47,"h3"),it(48,"Il mio account"),fe(),he(49,"ion-icon",29),tn("click",function(){return i.refresh()}),fe()(),he(50,"div",30)(51,"label",31),wt(52,"img",32),he(53,"div",33),wt(54,"ion-icon",34),bo(55,oue,1,1,"img",35),fe(),he(56,"input",36),tn("change",function(s){return i.onFileSelected(s)}),fe()(),he(57,"div",37),wt(58,"ion-icon",38)(59,"input",39),fe(),he(60,"div",37),wt(61,"ion-icon",40)(62,"input",41),fe(),he(63,"div",37),wt(64,"ion-icon",42)(65,"input",43),fe(),wt(66,"textarea",44),he(67,"button",45),tn("click",function(){return i.updateAccountDatas()}),it(68,"Applica"),fe()()(),he(69,"div",46),wt(70,"div",47)(71,"app-footer"),fe()()),2&r&&(Ri(43),yi("ngForOf",db(44,2,i.documents)),Ri(12),yi("ngIf",i.imageSrc))},dependencies:[zb,jg,Jh,Xf,Kb]}),e})()},{path:"chat",component:(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=qe({type:t,selectors:[["app-chat"]],decls:12,vars:0,consts:[[1,"body1"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","pointer-events","all","overflow-x","hidden","overflow-y","auto"],[1,"header"],[2,"width","100%","padding-left","0.5rem","margin-bottom","0rem","margin-top","0rem"],["routerLink","/notifications","name","notifications",2,"font-size","2rem","color","#212529","margin-right","0.5rem"],[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(he(0,"body",0)(1,"div",1)(2,"div",2)(3,"h3",3),it(4,"Le tue chat"),fe(),wt(5,"ion-icon",4),fe(),he(6,"div",5)(7,"p"),it(8,"Nessuna chat"),fe()()(),he(9,"div",6),wt(10,"div",7)(11,"app-footer"),fe()())},dependencies:[Jh,Em,Ga,Xf]}),e})()},{path:"search",component:(()=>{var t;class e{constructor(r){this.firestore=r}ngOnInit(){}search(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(qf))},t.\u0275cmp=qe({type:t,selectors:[["app-search"]],decls:13,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","overflow-x","hidden","overflow-y","auto","align-items","center","padding-bottom","4rem"],[1,"header"],[1,"input1",2,"height","2.5rem","margin-left","0.5rem","margin-right","0.5rem","border-radius","2rem"],["id","search-input","placeholder","Cerca","type","text",1,"field1"],["name","search",2,"font-size","2rem","color","#212529","margin-right","0.5rem",3,"click"],["routerLink","/notifications","name","notifications",2,"font-size","2rem","color","#212529","margin-right","0.5rem"],[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(he(0,"body")(1,"div",0)(2,"div",1)(3,"div",2),wt(4,"input",3),he(5,"ion-icon",4),tn("click",function(){return i.search()}),fe()(),wt(6,"ion-icon",5),fe(),he(7,"div",6)(8,"p"),it(9,"In fase di sviluppo"),fe()()(),he(10,"div",7),wt(11,"div",8)(12,"app-footer"),fe()())},dependencies:[Jh,Em,Ga,Xf]}),e})()},{path:"notifications",component:(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=qe({type:t,selectors:[["app-notifications"]],decls:11,vars:0,consts:[[1,"body1"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","pointer-events","all","overflow-x","hidden","overflow-y","auto"],[1,"header"],[2,"width","100%","padding-left","0.5rem","margin-bottom","0rem","margin-top","0rem"],[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(he(0,"body",0)(1,"div",1)(2,"div",2)(3,"h3",3),it(4,"Tutte le notifiche"),fe()(),he(5,"div",4)(6,"p"),it(7,"Nessuna notifica"),fe()()(),he(8,"div",5),wt(9,"div",6)(10,"app-footer"),fe()())},dependencies:[Xf]}),e})()}];let aue=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({imports:[LT.forRoot(sue,{preloadingStrategy:VX}),LT]}),e})(),lue=(()=>{var t;class e{constructor(r){this.firebaseService=r,this.firebaseService.initialize()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(T0))},t.\u0275cmp=qe({type:t,selectors:[["app-root"]],decls:1,vars:0,consts:[["id","main-content"]],template:function(r,i){1&r&&wt(0,"ion-router-outlet",0)},dependencies:[Im],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),e})(),cue=(()=>{var t;class e{constructor(r){this.firebaseService=r,this.firebaseService.initialize()}}return(t=e).\u0275fac=function(r){return new(r||t)(He(T0))},t.\u0275mod=Zo({type:t,bootstrap:[lue]}),t.\u0275inj=Fo({providers:[{provide:Ts,useClass:RO}],imports:[YK,Rne.forRoot(),aue,IZ.initializeApp(YL_firebaseConfig),AZ,LT]}),e})();WK().bootstrapModule(cue).catch(t=>console.log(t))},1480:(Mn,Lt,oe)=>{var y={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function ke(U){if(!oe.o(y,U))return Promise.resolve().then(()=>{var Ze=new Error("Cannot find module '"+U+"'");throw Ze.code="MODULE_NOT_FOUND",Ze});var je=y[U],Pt=je[0];return Promise.all(je.slice(1).map(oe.e)).then(()=>oe(Pt))}ke.keys=()=>Object.keys(y),ke.id=1480,Mn.exports=ke},8368:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{c:()=>we});var y=oe(7144),ke=oe(4920),U=oe(9360),je=oe(5976);class Pt{constructor(Q,z){this._delegate=Q,this.firebase=z,(0,U._addComponent)(Q,new ke.Yl("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Q,z=U._DEFAULT_ENTRY_NAME){var Y;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(Q);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Y=Ne.getComponent())||void 0===Y?void 0:Y.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:z})}_removeServiceInstance(Q,z=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(z)}_addComponent(Q){(0,U._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,U._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new y.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function rt(){const De=function Je(De){const Q={},z={__esModule:!0,initializeApp:function Me(S,x={}){const T=U.initializeApp(S,x);if((0,y.Y7)(Q,T.name))return Q[T.name];const V=new De(T,z);return Q[T.name]=V,V},app:Ne,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function xe(S){const x=S.name,T=x.replace("-compat","");if(U._registerComponent(S)&&"PUBLIC"===S.type){const V=(X=Ne())=>{if("function"!=typeof X[T])throw Z.create("invalid-app-argument",{appName:x});return X[T]()};void 0!==S.serviceProps&&(0,y.Ww)(V,S.serviceProps),z[T]=V,De.prototype[T]=function(...X){return this._getService.bind(this,x).apply(this,S.multipleInstances?X:[])}}return"PUBLIC"===S.type?z[T]:null},removeApp:function Y(S){delete Q[S]},useAsService:function et(S,x){return"serverAuth"===x?null:x},modularAPIs:U}};function Ne(S){if(!(0,y.Y7)(Q,S=S||U._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:S});return Q[S]}return z.default=z,Object.defineProperty(z,"apps",{get:function Be(){return Object.keys(Q).map(S=>Q[S])}}),Ne.App=De,z}(Pt);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:rt,extendNamespace:function Q(z){(0,y.Ww)(De,z)},createSubscribe:y.my,ErrorFactory:y.UR,deepExtend:y.Ww}),De}(),W=new je.YJ("@firebase/app-compat");if((0,y.uH)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=ee;!function ve(De){(0,U.registerVersion)("@firebase/app-compat","0.2.27",De)}()},9360:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{FirebaseError:()=>je.kx,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>ri,_addOrOverwriteComponent:()=>Vr,_apps:()=>Xn,_clearComponents:()=>pi,_components:()=>zr,_getProvider:()=>fi,_registerComponent:()=>Li,_removeServiceInstance:()=>Vi,deleteApp:()=>gi,getApp:()=>Mo,getApps:()=>qo,initializeApp:()=>Go,onLog:()=>yo,registerVersion:()=>vo,setLogLevel:()=>Rn});var y=oe(1528),ke=oe(4920),U=oe(5976),je=oe(7144);const Pt=(ye,re)=>re.some(Oe=>ye instanceof Oe);let Ze,Z;const ee=new WeakMap,W=new WeakMap,Ie=new WeakMap,le=new WeakMap,ve=new WeakMap;let Q={get(ye,re,Oe){if(ye instanceof IDBTransaction){if("done"===re)return W.get(ye);if("objectStoreNames"===re)return ye.objectStoreNames||Ie.get(ye);if("store"===re)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Me(ye[re])},set:(ye,re,Oe)=>(ye[re]=Oe,!0),has:(ye,re)=>ye instanceof IDBTransaction&&("done"===re||"store"===re)||re in ye};function Ne(ye){return"function"==typeof ye?function Y(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rt(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...re){return ye.apply(Be(this),re),Me(ee.get(this))}:function(...re){return Me(ye.apply(Be(this),re))}:function(re,...Oe){const At=ye.call(Be(this),re,...Oe);return Ie.set(At,re.sort?re.sort():[re]),Me(At)}}(ye):(ye instanceof IDBTransaction&&function De(ye){if(W.has(ye))return;const re=new Promise((Oe,At)=>{const jt=()=>{ye.removeEventListener("complete",ct),ye.removeEventListener("error",gn),ye.removeEventListener("abort",gn)},ct=()=>{Oe(),jt()},gn=()=>{At(ye.error||new DOMException("AbortError","AbortError")),jt()};ye.addEventListener("complete",ct),ye.addEventListener("error",gn),ye.addEventListener("abort",gn)});W.set(ye,re)}(ye),Pt(ye,function Je(){return Ze||(Ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Q):ye)}function Me(ye){if(ye instanceof IDBRequest)return function we(ye){const re=new Promise((Oe,At)=>{const jt=()=>{ye.removeEventListener("success",ct),ye.removeEventListener("error",gn)},ct=()=>{Oe(Me(ye.result)),jt()},gn=()=>{At(ye.error),jt()};ye.addEventListener("success",ct),ye.addEventListener("error",gn)});return re.then(Oe=>{Oe instanceof IDBCursor&&ee.set(Oe,ye)}).catch(()=>{}),ve.set(re,ye),re}(ye);if(le.has(ye))return le.get(ye);const re=Ne(ye);return re!==ye&&(le.set(ye,re),ve.set(re,ye)),re}const Be=ye=>ve.get(ye),S=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],T=new Map;function V(ye,re){if(!(ye instanceof IDBDatabase)||re in ye||"string"!=typeof re)return;if(T.get(re))return T.get(re);const Oe=re.replace(/FromIndex$/,""),At=re!==Oe,jt=x.includes(Oe);if(!(Oe in(At?IDBIndex:IDBObjectStore).prototype)||!jt&&!S.includes(Oe))return;const ct=function(){var gn=(0,y.c)(function*(vr,...Bn){const yr=this.transaction(vr,jt?"readwrite":"readonly");let Gt=yr.store;return At&&(Gt=Gt.index(Bn.shift())),(yield Promise.all([Gt[Oe](...Bn),jt&&yr.done]))[0]});return function(Bn){return gn.apply(this,arguments)}}();return T.set(re,ct),ct}!function z(ye){Q=ye(Q)}(ye=>({...ye,get:(re,Oe,At)=>V(re,Oe)||ye.get(re,Oe,At),has:(re,Oe)=>!!V(re,Oe)||ye.has(re,Oe)}));class X{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function te(ye){const re=ye.getComponent();return"VERSION"===(null==re?void 0:re.type)}(Oe)){const At=Oe.getImmediate();return`${At.library}/${At.version}`}return null}).filter(Oe=>Oe).join(" ")}}const de="@firebase/app",Tt=new U.YJ("@firebase/app"),pn="[DEFAULT]",hi={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xn=new Map,zr=new Map;function ri(ye,re){try{ye.container.addComponent(re)}catch(Oe){Tt.debug(`Component ${re.name} failed to register with FirebaseApp ${ye.name}`,Oe)}}function Vr(ye,re){ye.container.addOrOverwriteComponent(re)}function Li(ye){const re=ye.name;if(zr.has(re))return Tt.debug(`There were multiple attempts to register component ${re}.`),!1;zr.set(re,ye);for(const Oe of Xn.values())ri(Oe,ye);return!0}function fi(ye,re){const Oe=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ye.container.getProvider(re)}function Vi(ye,re,Oe=pn){fi(ye,re).clearInstance(Oe)}function pi(){zr.clear()}const qr=new je.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(re,Oe,At){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new ke.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const $i="10.8.0";function Go(ye,re={}){let Oe=ye;"object"!=typeof re&&(re={name:re});const At=Object.assign({name:pn,automaticDataCollectionEnabled:!1},re),jt=At.name;if("string"!=typeof jt||!jt)throw qr.create("bad-app-name",{appName:String(jt)});if(Oe||(Oe=(0,je.Yd)()),!Oe)throw qr.create("no-options");const ct=Xn.get(jt);if(ct){if((0,je.IN)(Oe,ct.options)&&(0,je.IN)(At,ct.config))return ct;throw qr.create("duplicate-app",{appName:jt})}const gn=new ke.op(jt);for(const Bn of zr.values())gn.addComponent(Bn);const vr=new xn(Oe,At,gn);return Xn.set(jt,vr),vr}function Mo(ye=pn){const re=Xn.get(ye);if(!re&&ye===pn&&(0,je.Yd)())return Go();if(!re)throw qr.create("no-app",{appName:ye});return re}function qo(){return Array.from(Xn.values())}function gi(ye){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.c)(function*(ye){const re=ye.name;Xn.has(re)&&(Xn.delete(re),yield Promise.all(ye.container.getProviders().map(Oe=>Oe.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function vo(ye,re,Oe){var At;let jt=null!==(At=hi[ye])&&void 0!==At?At:ye;Oe&&(jt+=`-${Oe}`);const ct=jt.match(/\s|\//),gn=re.match(/\s|\//);if(ct||gn){const vr=[`Unable to register library "${jt}" with version "${re}":`];return ct&&vr.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),ct&&gn&&vr.push("and"),gn&&vr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void Tt.warn(vr.join(" "))}Li(new ke.Yl(`${jt}-version`,()=>({library:jt,version:re}),"VERSION"))}function yo(ye,re){if(null!==ye&&"function"!=typeof ye)throw qr.create("invalid-log-argument");(0,U.S2)(ye,re)}function Rn(ye){(0,U.QN)(ye)}const Wo="firebase-heartbeat-database",fs=1,O="firebase-heartbeat-store";let P=null;function L(){return P||(P=function xe(ye,re,{blocked:Oe,upgrade:At,blocking:jt,terminated:ct}={}){const gn=indexedDB.open(ye,re),vr=Me(gn);return At&&gn.addEventListener("upgradeneeded",Bn=>{At(Me(gn.result),Bn.oldVersion,Bn.newVersion,Me(gn.transaction),Bn)}),Oe&&gn.addEventListener("blocked",Bn=>Oe(Bn.oldVersion,Bn.newVersion,Bn)),vr.then(Bn=>{ct&&Bn.addEventListener("close",()=>ct()),jt&&Bn.addEventListener("versionchange",yr=>jt(yr.oldVersion,yr.newVersion,yr))}).catch(()=>{}),vr}(Wo,fs,{upgrade:(ye,re)=>{if(0===re)try{ye.createObjectStore(O)}catch(Oe){console.warn(Oe)}}}).catch(ye=>{throw qr.create("idb-open",{originalErrorMessage:ye.message})})),P}function q(){return(q=(0,y.c)(function*(ye){try{const Oe=(yield L()).transaction(O),At=yield Oe.objectStore(O).get(Ot(ye));return yield Oe.done,At}catch(re){if(re instanceof je.kx)Tt.warn(re.message);else{const Oe=qr.create("idb-get",{originalErrorMessage:null==re?void 0:re.message});Tt.warn(Oe.message)}}})).apply(this,arguments)}function ut(ye,re){return Et.apply(this,arguments)}function Et(){return(Et=(0,y.c)(function*(ye,re){try{const At=(yield L()).transaction(O,"readwrite");yield At.objectStore(O).put(re,Ot(ye)),yield At.done}catch(Oe){if(Oe instanceof je.kx)Tt.warn(Oe.message);else{const At=qr.create("idb-set",{originalErrorMessage:null==Oe?void 0:Oe.message});Tt.warn(At.message)}}})).apply(this,arguments)}function Ot(ye){return`${ye.name}!${ye.options.appId}`}class Ar{constructor(re){this.container=re,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Kr(Oe),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var re=this;return(0,y.c)(function*(){var Oe,At;const ct=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=en();if((null!=(null===(Oe=re._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||(re._heartbeatsCache=yield re._heartbeatsCachePromise,null!=(null===(At=re._heartbeatsCache)||void 0===At?void 0:At.heartbeats)))&&re._heartbeatsCache.lastSentHeartbeatDate!==gn&&!re._heartbeatsCache.heartbeats.some(vr=>vr.date===gn))return re._heartbeatsCache.heartbeats.push({date:gn,agent:ct}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(vr=>{const Bn=new Date(vr.date).valueOf();return Date.now()-Bn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,y.c)(function*(){var Oe;if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null==(null===(Oe=re._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===re._heartbeatsCache.heartbeats.length)return"";const At=en(),{heartbeatsToSend:jt,unsentEntries:ct}=function Te(ye,re=1024){const Oe=[];let At=ye.slice();for(const jt of ye){const ct=Oe.find(gn=>gn.agent===jt.agent);if(ct){if(ct.dates.push(jt.date),Di(Oe)>re){ct.dates.pop();break}}else if(Oe.push({agent:jt.agent,dates:[jt.date]}),Di(Oe)>re){Oe.pop();break}At=At.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:At}}(re._heartbeatsCache.heartbeats),gn=(0,je.Wg)(JSON.stringify({version:2,heartbeats:jt}));return re._heartbeatsCache.lastSentHeartbeatDate=At,ct.length>0?(re._heartbeatsCache.heartbeats=ct,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),gn})()}}function en(){return(new Date).toISOString().substring(0,10)}class Kr{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.c)(function*(){return!!(0,je.yy)()&&(0,je.A3)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,y.c)(function*(){if(yield re._canUseIndexedDBPromise){const At=yield function Ee(ye){return q.apply(this,arguments)}(re.app);return null!=At&&At.heartbeats?At:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(re){var Oe=this;return(0,y.c)(function*(){var At;if(yield Oe._canUseIndexedDBPromise){const ct=yield Oe.read();return ut(Oe.app,{lastSentHeartbeatDate:null!==(At=re.lastSentHeartbeatDate)&&void 0!==At?At:ct.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Oe=this;return(0,y.c)(function*(){var At;if(yield Oe._canUseIndexedDBPromise){const ct=yield Oe.read();return ut(Oe.app,{lastSentHeartbeatDate:null!==(At=re.lastSentHeartbeatDate)&&void 0!==At?At:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...re.heartbeats]})}})()}}function Di(ye){return(0,je.Wg)(JSON.stringify({version:2,heartbeats:ye})).length}!function Ko(ye){Li(new ke.Yl("platform-logger",re=>new X(re),"PRIVATE")),Li(new ke.Yl("heartbeat",re=>new Ar(re),"PRIVATE")),vo(de,"0.9.27",ye),vo(de,"0.9.27","esm2017"),vo("fire-js","")}("")},4920:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{Yl:()=>U,op:()=>Je});var y=oe(1528),ke=oe(7144);class U{constructor(ee,W,Ie){this.name=ee,this.instanceFactory=W,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const je="[DEFAULT]";class Pt{constructor(ee,W){this.name=ee,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const W=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(W)){const Ie=new ke.o9;if(this.instancesDeferred.set(W,Ie),this.isInitialized(W)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:W});le&&Ie.resolve(le)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(ee){var W;const Ie=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),le=null!==(W=null==ee?void 0:ee.optional)&&void 0!==W&&W;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(ve){if(le)return null;throw ve}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Z(rt){return"EAGER"===rt.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:je})}catch{}for(const[W,Ie]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier(W);try{const ve=this.getOrInitializeService({instanceIdentifier:le});Ie.resolve(ve)}catch{}}}}clearInstance(ee=je){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,y.c)(function*(){const W=Array.from(ee.instances.values());yield Promise.all([...W.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...W.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=je){return this.instances.has(ee)}getOptions(ee=je){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:W={}}=ee,Ie=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:Ie,options:W});for(const[ve,we]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(ve)&&we.resolve(le);return le}onInit(ee,W){var Ie;const le=this.normalizeInstanceIdentifier(W),ve=null!==(Ie=this.onInitCallbacks.get(le))&&void 0!==Ie?Ie:new Set;ve.add(ee),this.onInitCallbacks.set(le,ve);const we=this.instances.get(le);return we&&ee(we,le),()=>{ve.delete(ee)}}invokeOnInitCallbacks(ee,W){const Ie=this.onInitCallbacks.get(W);if(Ie)for(const le of Ie)try{le(ee,W)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:W={}}){let Ie=this.instances.get(ee);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:(rt=ee,rt===je?void 0:rt),options:W}),this.instances.set(ee,Ie),this.instancesOptions.set(ee,W),this.invokeOnInitCallbacks(Ie,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ie)}catch{}var rt;return Ie||null}normalizeInstanceIdentifier(ee=je){return this.component?this.component.multipleInstances?ee:je:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Je{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const W=this.getProvider(ee.name);if(W.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);W.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const W=new Pt(ee,this);return this.providers.set(ee,W),W}getProviders(){return Array.from(this.providers.values())}}},5976:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{Ge:()=>ke,QN:()=>Je,S2:()=>rt,YJ:()=>Z});const y=[];var ke=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(ke||{});const U={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},je=ke.INFO,Pt={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Ze=(ee,W,...Ie)=>{if(W<ee.logLevel)return;const le=(new Date).toISOString(),ve=Pt[W];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ve](`[${le}]  ${ee.name}:`,...Ie)};class Z{constructor(W){this.name=W,this._logLevel=je,this._logHandler=Ze,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ke))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?U[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...W),this._logHandler(this,ke.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...W),this._logHandler(this,ke.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...W),this._logHandler(this,ke.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...W),this._logHandler(this,ke.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...W),this._logHandler(this,ke.ERROR,...W)}}function Je(ee){y.forEach(W=>{W.setLogLevel(ee)})}function rt(ee,W){for(const Ie of y){let le=null;W&&W.level&&(le=U[W.level]),Ie.userLogHandler=null===ee?null:(ve,we,...De)=>{const Q=De.map(z=>{if(null==z)return null;if("string"==typeof z)return z;if("number"==typeof z||"boolean"==typeof z)return z.toString();if(z instanceof Error)return z.message;try{return JSON.stringify(z)}catch{return null}}).filter(z=>z).join(" ");we>=(null!=le?le:ve.logLevel)&&ee({level:ke[we].toLowerCase(),message:Q,args:De,type:ve.name})}}}},864:(Mn,Lt,oe)=>{"use strict";oe.r(Lt);var y=oe(1528),ke=oe(8368),U=oe(7144),je=oe(9360),Pt=oe(5976),Ze=oe(1316),Z=oe(4920);const rt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const we=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},De=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new U.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Y=new Pt.YJ("@firebase/auth");function Me(f,...c){Y.logLevel<=Pt.Ge.ERROR&&Y.error(`Auth (${je.SDK_VERSION}): ${f}`,...c)}function Be(f,...c){throw x(f,...c)}function xe(f,...c){return x(f,...c)}function et(f,c,d){const p=Object.assign(Object.assign({},De()),{[c]:d});return new U.UR("auth","Firebase",p).create(c,{appName:f.name})}function S(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&Be(f,"argument-error"),et(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return Q.create(f,...c)}function T(f,c,...d){if(!f)throw x(c,...d)}function V(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Me(c),new Error(c)}function X(f,c){f||V(c)}function te(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function de(){return"http:"===Qe()||"https:"===Qe()}function Qe(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Ce{constructor(c,d){this.shortDelay=c,this.longDelay=d,X(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,U.AV)()||(0,U.AL)()}get(){return function Tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(de()||(0,U.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k(f,c){X(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class D{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j=new Ce(3e4,6e4);function ie(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function G(f,c,d,p){return We.apply(this,arguments)}function We(){return(We=(0,y.c)(function*(f,c,d,p,_={}){return dt(f,_,(0,y.c)(function*(){let w={},N={};p&&("GET"===c?N=p:w={body:JSON.stringify(p)});const J=(0,U.ik)(Object.assign({key:f.config.apiKey},N)).slice(1),Ae=yield f._getAdditionalHeaders();return Ae["Content-Type"]="application/json",f.languageCode&&(Ae["X-Firebase-Locale"]=f.languageCode),D.fetch()(dn(f,f.config.apiHost,d,J),Object.assign({method:c,headers:Ae,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function dt(f,c,d){return tt.apply(this,arguments)}function tt(){return(tt=(0,y.c)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},M),c);try{const _=new Re(f),w=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const N=yield w.json();if("needConfirmation"in N)throw se(f,"account-exists-with-different-credential",N);if(w.ok&&!("errorMessage"in N))return N;{const J=w.ok?N.errorMessage:N.error.message,[Ae,ot]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw se(f,"credential-already-in-use",N);if("EMAIL_EXISTS"===Ae)throw se(f,"email-already-in-use",N);if("USER_DISABLED"===Ae)throw se(f,"user-disabled",N);const Rt=p[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw et(f,Rt,ot);Be(f,Rt)}}catch(_){if(_ instanceof U.kx)throw _;Be(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function pt(f,c,d,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,y.c)(function*(f,c,d,p,_={}){const w=yield G(f,c,d,p,_);return"mfaPendingCredential"in w&&Be(f,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function dn(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?k(f.config,_):`${f.config.apiScheme}://${_}`}function yt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Re{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(xe(this.auth,"network-request-failed")),j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function se(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=xe(f,c,p);return _.customData._tokenResponse=d,_}function me(f){return void 0!==f&&void 0!==f.getResponse}function Ke(f){return void 0!==f&&void 0!==f.enterprise}class Nt{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return yt(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Xt(){return(Xt=(0,y.c)(function*(f){return(yield G(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rn(f,c){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,y.c)(function*(f,c){return G(f,"GET","/v2/recaptchaConfig",ie(f,c))})).apply(this,arguments)}function pn(){return(pn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Xn(){return(Xn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ri(){return(ri=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Vr(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Vi(){return(Vi=(0,y.c)(function*(f,c=!1){const d=(0,U.Yj)(f),p=yield d.getIdToken(c),_=Gr(p);T(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,N=null==w?void 0:w.sign_in_provider;return{claims:_,token:p,authTime:Vr(pi(_.auth_time)),issuedAtTime:Vr(pi(_.iat)),expirationTime:Vr(pi(_.exp)),signInProvider:N||null,signInSecondFactor:(null==w?void 0:w.sign_in_second_factor)||null}})).apply(this,arguments)}function pi(f){return 1e3*Number(f)}function Gr(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,U.WW)(d);return _?JSON.parse(_):(Me("Failed to decode base64 JWT payload"),null)}catch(_){return Me("Caught error parsing JWT payload as JSON",null==_?void 0:_.toString()),null}}function xn(f,c){return $i.apply(this,arguments)}function $i(){return($i=(0,y.c)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof U.kx&&function Go({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Mo{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,y.c)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,y.c)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===(null==d?void 0:d.code)&&c.schedule(!0))}c.schedule()})()}}class qo{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(f){return ur.apply(this,arguments)}function ur(){return ur=(0,y.c)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield xn(f,function zr(f,c){return ri.apply(this,arguments)}(d,{idToken:p}));T(null==_?void 0:_.users.length,d,"internal-error");const w=_.users[0];f._notifyReloadListener(w);const N=null!==(c=w.providerUserInfo)&&void 0!==c&&c.length?function Wo(f){return f.map(c=>{var{providerId:d}=c,p=(0,Ze.sX)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(w.providerUserInfo):[],J=function Rn(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,N),Rt=!!f.isAnonymous&&!(f.email&&w.passwordHash||null!=J&&J.length),Dt={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:J,metadata:new qo(w.createdAt,w.lastLoginAt),isAnonymous:Rt};Object.assign(f,Dt)}),ur.apply(this,arguments)}function yo(){return(yo=(0,y.c)(function*(f){const c=(0,U.Yj)(f);yield gi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function O(){return(O=(0,y.c)(function*(f,c){const d=yield dt(f,{},(0,y.c)(function*(){const p=(0,U.ik)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:w}=f.config,N=dn(f,_,"/v1/token",`key=${w}`),J=yield f._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",D.fetch()(N,{method:"POST",headers:J,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function L(){return(L=(0,y.c)(function*(f,c){return G(f,"POST","/v2/accounts:revokeToken",ie(f,c))})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){T(c.idToken,"internal-error"),T(typeof c.idToken<"u","internal-error"),T(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function qr(f){const c=Gr(f);return T(c,"internal-error"),T(typeof c.exp<"u","internal-error"),T(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,y.c)(function*(){return T(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,y.c)(function*(){const{accessToken:_,refreshToken:w,expiresIn:N}=yield function fs(f,c){return O.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,w,Number(N))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:w}=d,N=new Ee;return p&&(T("string"==typeof p,"internal-error",{appName:c}),N.refreshToken=p),_&&(T("string"==typeof _,"internal-error",{appName:c}),N.accessToken=_),w&&(T("number"==typeof w,"internal-error",{appName:c}),N.expirationTime=w),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return V("not implemented")}}function q(f,c){T("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class ut{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,w=(0,Ze.sX)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new qo(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,y.c)(function*(){const p=yield xn(d,d.stsTokenManager.getToken(d.auth,c));return T(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function fi(f){return Vi.apply(this,arguments)}(this,c)}reload(){return function vo(f){return yo.apply(this,arguments)}(this)}_assign(c){this!==c&&(T(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new ut(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,y.c)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield gi(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,y.c)(function*(){const d=yield c.getIdToken();return yield xn(c,function Gn(f,c){return pn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,w,N,J,Ae,ot,Rt;const Dt=null!==(p=d.displayName)&&void 0!==p?p:void 0,Kn=null!==(_=d.email)&&void 0!==_?_:void 0,qi=null!==(w=d.phoneNumber)&&void 0!==w?w:void 0,$l=null!==(N=d.photoURL)&&void 0!==N?N:void 0,Qp=null!==(J=d.tenantId)&&void 0!==J?J:void 0,Kd=null!==(Ae=d._redirectEventId)&&void 0!==Ae?Ae:void 0,Uv=null!==(ot=d.createdAt)&&void 0!==ot?ot:void 0,Na=null!==(Rt=d.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:ka,emailVerified:jv,isAnonymous:Yd,providerData:Xp,stsTokenManager:Hv}=d;T(ka&&Hv,c,"internal-error");const ww=Ee.fromJSON(this.name,Hv);T("string"==typeof ka,c,"internal-error"),q(Dt,c.name),q(Kn,c.name),T("boolean"==typeof jv,c,"internal-error"),T("boolean"==typeof Yd,c,"internal-error"),q(qi,c.name),q($l,c.name),q(Qp,c.name),q(Kd,c.name),q(Uv,c.name),q(Na,c.name);const zv=new ut({uid:ka,auth:c,email:Kn,emailVerified:jv,displayName:Dt,isAnonymous:Yd,photoURL:$l,phoneNumber:qi,tenantId:Qp,stsTokenManager:ww,createdAt:Uv,lastLoginAt:Na});return Xp&&Array.isArray(Xp)&&(zv.providerData=Xp.map(fP=>Object.assign({},fP))),Kd&&(zv._redirectEventId=Kd),zv}static _fromIdTokenResponse(c,d,p=!1){return(0,y.c)(function*(){const _=new Ee;_.updateFromServerResponse(d);const w=new ut({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield gi(w),w})()}}const Et=new Map;function Ot(f){X(f instanceof Function,"Expected a class definition");let c=Et.get(f);return c?(X(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,Et.set(f,c),c)}const mt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.c)(function*(){return!0})()}_set(d,p){var _=this;return(0,y.c)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,y.c)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,y.c)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Ar(f,c,d){return`firebase:${f}:${c}:${d}`}class en{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=Ar(this.userKey,_.apiKey,w),this.fullPersistenceKey=Ar("persistence",_.apiKey,w),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,y.c)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?ut._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,y.c)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,y.c)(function*(){if(!d.length)return new en(Ot(mt),c,p);const _=(yield Promise.all(d.map(function(){var ot=(0,y.c)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let w=_[0]||Ot(mt);const N=Ar(p,c.config.apiKey,c.name);let J=null;for(const ot of d)try{const Rt=yield ot._get(N);if(Rt){const Dt=ut._fromJSON(c,Rt);ot!==w&&(J=Dt),w=ot;break}}catch{}const Ae=_.filter(ot=>ot._shouldAllowMigration);return w._shouldAllowMigration&&Ae.length?(w=Ae[0],J&&(yield w._set(N,J.toJSON())),yield Promise.all(d.map(function(){var ot=(0,y.c)(function*(Rt){if(Rt!==w)try{yield Rt._remove(N)}catch{}});return function(Rt){return ot.apply(this,arguments)}}())),new en(w,c,p)):new en(w,c,p)})()}}function Te(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(ye(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Kr(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Oe(c))return"Blackberry";if(At(c))return"Webos";if(Di(c))return"Safari";if((c.includes("chrome/")||Ko(c))&&!c.includes("edge/"))return"Chrome";if(re(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==p?void 0:p.length))return p[1]}return"Other"}function Kr(f=(0,U.Su)()){return/firefox\//i.test(f)}function Di(f=(0,U.Su)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ko(f=(0,U.Su)()){return/crios\//i.test(f)}function ye(f=(0,U.Su)()){return/iemobile/i.test(f)}function re(f=(0,U.Su)()){return/android/i.test(f)}function Oe(f=(0,U.Su)()){return/blackberry/i.test(f)}function At(f=(0,U.Su)()){return/webos/i.test(f)}function jt(f=(0,U.Su)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Bn(f=(0,U.Su)()){return jt(f)||re(f)||At(f)||Oe(f)||/windows phone/i.test(f)||ye(f)}function Gt(f,c=[]){let d;switch(f){case"Browser":d=Te((0,U.Su)());break;case"Worker":d=`${Te((0,U.Su)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${je.SDK_VERSION}/${p}`}class rr{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=w=>new Promise((N,J)=>{try{N(c(w))}catch(Ae){J(Ae)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,y.c)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:null==_?void 0:_.message})}})()}}function fa(){return(fa=(0,y.c)(function*(f,c={}){return G(f,"GET","/v2/passwordPolicy",ie(f,c))})).apply(this,arguments)}class Er{constructor(c){var d,p,_,w;const N=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=N.minPasswordLength)&&void 0!==d?d:6,N.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=N.maxPasswordLength),void 0!==N.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=N.containsLowercaseCharacter),void 0!==N.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=N.containsUppercaseCharacter),void 0!==N.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=N.containsNumericCharacter),void 0!==N.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=N.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=c.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,w,N,J;const Ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Ae),this.validatePasswordCharacterOptions(c,Ae),Ae.isValid&&(Ae.isValid=null===(d=Ae.meetsMinPasswordLength)||void 0===d||d),Ae.isValid&&(Ae.isValid=null===(p=Ae.meetsMaxPasswordLength)||void 0===p||p),Ae.isValid&&(Ae.isValid=null===(_=Ae.containsLowercaseLetter)||void 0===_||_),Ae.isValid&&(Ae.isValid=null===(w=Ae.containsUppercaseLetter)||void 0===w||w),Ae.isValid&&(Ae.isValid=null===(N=Ae.containsNumericCharacter)||void 0===N||N),Ae.isValid&&(Ae.isValid=null===(J=Ae.containsNonAlphanumericCharacter)||void 0===J||J),Ae}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=w))}}class _n{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eo(this),this.idTokenSubscription=new eo(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=Ot(d)),this._initializationPromise=this.queue((0,y.c)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield en.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,y.c)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,y.c)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let w=_,N=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const J=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,Ae=null==w?void 0:w._redirectEventId,ot=yield d.tryRedirectSignIn(c);(!J||J===Ae)&&null!=ot&&ot.user&&(w=ot.user,N=!0)}if(!w)return d.directlySetCurrentUser(null);if(!w._redirectEventId){if(N)try{yield d.beforeStateQueue.runMiddleware(w)}catch(J){w=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(J))}return w?d.reloadAndSetCurrentUserOrClear(w):d.directlySetCurrentUser(null)}return T(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===w._redirectEventId?d.directlySetCurrentUser(w):d.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(c){var d=this;return(0,y.c)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,y.c)(function*(){try{yield gi(c)}catch(p){if("auth/network-request-failed"!==(null==p?void 0:p.code))return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,y.c)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,y.c)(function*(){const p=c?(0,U.Yj)(c):null;return p&&T(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,y.c)(function*(){if(!p._deleted)return c&&T(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,y.c)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,y.c)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,y.c)(function*(){yield d.assertedPersistence.setPersistence(Ot(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,y.c)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,y.c)(function*(){const d=yield function Sr(f){return fa.apply(this,arguments)}(c),p=new Er(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new U.UR("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,y.c)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function P(f,c){return L.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,y.c)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,y.c)(function*(){if(!d.redirectPersistenceManager){const p=c&&Ot(c)||d._popupRedirectResolver;T(p,d,"argument-error"),d.redirectPersistenceManager=yield en.create(d,[Ot(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,y.c)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,y.c)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,y.c)(function*(){if(c===d.currentUser)return d.queue((0,y.c)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const w="function"==typeof d?d:d.next.bind(d);let N=!1;const J=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(J,this,"internal-error"),J.then(()=>{N||w(this.currentUser)}),"function"==typeof d){const Ae=c.addObserver(d,p,_);return()=>{N=!0,Ae()}}{const Ae=c.addObserver(d);return()=>{N=!0,Ae()}}}directlySetCurrentUser(c){var d=this;return(0,y.c)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,y.c)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield c._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var c=this;return(0,y.c)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return null!=p&&p.error&&function Ne(f,...c){Y.logLevel<=Pt.Ge.WARN&&Y.warn(`Auth (${je.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),null==p?void 0:p.token})()}}function $n(f){return(0,U.Yj)(f)}class eo{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,U.my)(d=>this.observer=d)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yo={loadJS:()=>(0,y.c)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function al(f){return Yo.loadJS(f)}function pa(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Ht{constructor(c){this.type="recaptcha-enterprise",this.auth=$n(c)}verify(c="verify",d=!1){var p=this;return(0,y.c)(function*(){function w(){return w=(0,y.c)(function*(J){if(!d){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Ae=(0,y.c)(function*(ot,Rt){rn(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dt=>{if(void 0!==Dt.recaptchaKey){const Kn=new Nt(Dt);return null==J.tenantId?J._agentRecaptchaConfig=Kn:J._tenantRecaptchaConfigs[J.tenantId]=Kn,ot(Kn.siteKey)}Rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Dt=>{Rt(Dt)})});return function(ot,Rt){return Ae.apply(this,arguments)}}())}),w.apply(this,arguments)}function N(J,Ae,ot){const Rt=window.grecaptcha;Ke(Rt)?Rt.enterprise.ready(()=>{Rt.enterprise.execute(J,{action:c}).then(Dt=>{Ae(Dt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Ae)=>{(function _(J){return w.apply(this,arguments)})(p.auth).then(ot=>{if(!d&&Ke(window.grecaptcha))N(ot,J,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));let Rt=function cl(){return Yo.recaptchaEnterpriseScript}();0!==Rt.length&&(Rt+=ot),al(Rt).then(()=>{N(ot,J,Ae)}).catch(Dt=>{Ae(Dt)})}}).catch(ot=>{Ae(ot)})})})()}}function ce(f,c,d){return I.apply(this,arguments)}function I(){return(I=(0,y.c)(function*(f,c,d,p=!1){const _=new Ht(f);let w;try{w=yield _.verify(d)}catch{w=yield _.verify(d,!0)}const N=Object.assign({},c);return Object.assign(N,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}function C(f,c,d,p){return F.apply(this,arguments)}function F(){return F=(0,y.c)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield ce(f,c,d,"getOobCode"===d);return p(f,w)}return p(f,c).catch(function(){var w=(0,y.c)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const J=yield ce(f,c,d,"getOobCode"===d);return p(f,J)}return Promise.reject(N)});return function(N){return w.apply(this,arguments)}}())}),F.apply(this,arguments)}function $e(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Pe(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Mt{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return V("not implemented")}_getIdTokenResponse(c){return V("not implemented")}_linkToIdToken(c,d){return V("not implemented")}_getReauthenticationResolver(c){return V("not implemented")}}function on(f,c){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:resetPassword",ie(f,c))})).apply(this,arguments)}function Zn(){return(Zn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function qn(f,c){return xo.apply(this,arguments)}function xo(){return(xo=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Tn(){return(Tn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",ie(f,c))})).apply(this,arguments)}function nd(f,c){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithPassword",ie(f,c))})).apply(this,arguments)}function Sc(f,c){return rd.apply(this,arguments)}function rd(){return(rd=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:sendOobCode",ie(f,c))})).apply(this,arguments)}function id(){return(id=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function F_(f,c){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function L_(f,c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function to(){return(to=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function od(){return(od=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,c))})).apply(this,arguments)}function ep(){return(ep=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,c))})).apply(this,arguments)}class Pc extends Mt{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Pc(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Pc(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(null!=d&&d.email&&null!=d&&d.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,y.c)(function*(){switch(d.signInMethod){case"password":return C(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",nd);case"emailLink":return function R0(f,c){return od.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:Be(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,y.c)(function*(){switch(p.signInMethod){case"password":return C(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qn);case"emailLink":return function P0(f,c){return ep.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:Be(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function ps(f,c){return sd.apply(this,arguments)}function sd(){return(sd=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithIdp",ie(f,c))})).apply(this,arguments)}class Xo extends Mt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Xo(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):Be("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,w=(0,Ze.sX)(d,["providerId","signInMethod"]);if(!p||!_)return null;const N=new Xo(p,_);return N.idToken=w.idToken||void 0,N.accessToken=w.accessToken||void 0,N.secret=w.secret,N.nonce=w.nonce,N.pendingToken=w.pendingToken||null,N}_getIdTokenResponse(c){return ps(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,ps(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,ps(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,U.ik)(d)}return c}}function qe(){return(qe=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:sendVerificationCode",ie(f,c))})).apply(this,arguments)}function tp(){return(tp=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,c))})).apply(this,arguments)}function ad(){return(ad=(0,y.c)(function*(f,c){const d=yield pt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,c));if(d.temporaryProof)throw se(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const kt={USER_NOT_FOUND:"user-not-found"};function ln(){return(ln=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),kt)})).apply(this,arguments)}class Jn extends Mt{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Jn({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Jn({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function N0(f,c){return tp.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Zo(f,c){return ad.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Ui(f,c){return ln.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}=c;return p||d||_||w?new Jn({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class xr{constructor(c){var d,p,_,w,N,J;const Ae=(0,U.aw)((0,U.kF)(c)),ot=null!==(d=Ae.apiKey)&&void 0!==d?d:null,Rt=null!==(p=Ae.oobCode)&&void 0!==p?p:null,Dt=function ii(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Ae.mode)&&void 0!==_?_:null);T(ot&&Rt&&Dt,"argument-error"),this.apiKey=ot,this.operation=Dt,this.code=Rt,this.continueUrl=null!==(w=Ae.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(N=Ae.languageCode)&&void 0!==N?N:null,this.tenantId=null!==(J=Ae.tenantId)&&void 0!==J?J:null}static parseLink(c){const d=function xs(f){const c=(0,U.aw)((0,U.kF)(f)).link,d=c?(0,U.aw)((0,U.kF)(c)).deep_link_id:null,p=(0,U.aw)((0,U.kF)(f)).deep_link_id;return(p?(0,U.aw)((0,U.kF)(p)).link:null)||p||d||c||f}(c);try{return new xr(d)}catch{return null}}}let ld=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Pc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=xr.parseLink(p);return T(_,"argument-error"),Pc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Io{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class dl extends Io{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class hl extends dl{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return T("providerId"in d&&"signInMethod"in d,"argument-error"),Xo._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return T(c.idToken||c.accessToken,"argument-error"),Xo._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return hl.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return hl.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:N,providerId:J}=c;if(!p&&!_&&!d&&!w||!J)return null;try{return new hl(J)._credential({idToken:d,accessToken:p,nonce:N,pendingToken:w})}catch{return null}}}let er=(()=>{class f extends dl{constructor(){super("facebook.com")}static credential(d){return Xo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),nt=(()=>{class f extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Xo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),$t=(()=>{class f extends dl{constructor(){super("github.com")}static credential(d){return Xo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class mi extends Mt{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return ps(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,ps(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,ps(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:w}=d;return p&&_&&w&&p===_?new mi(p,w):null}static _create(c,d){return new mi(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ji extends Io{constructor(c){T(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return ji.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return ji.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=mi.fromJSON(c);return T(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return mi._create(p,d)}catch{return null}}}let ma=(()=>{class f extends dl{constructor(){super("twitter.com")}static credential(d,p){return Xo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Un(f,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signUp",ie(f,c))})).apply(this,arguments)}class Nr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,y.c)(function*(){const w=yield ut._fromIdTokenResponse(c,p,_),N=Wt(p);return new Nr({user:w,providerId:N,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,y.c)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Wt(p);return new Nr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Wt(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function cd(){return(cd=(0,y.c)(function*(f){var c;const d=$n(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Nr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Un(d,{returnSecureToken:!0}),_=yield Nr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class gs extends U.kx{constructor(c,d,p,_){var w;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,gs.prototype),this.customData={appName:c.name,tenantId:null!==(w=c.tenantId)&&void 0!==w?w:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new gs(c,d,p,_)}}function ir(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?gs._fromErrorAndOperation(f,w,c,p):w})}function fl(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function Eo(){return Eo=(0,y.c)(function*(f,c){const d=(0,U.Yj)(f);yield No(!0,d,c);const{providerUserInfo:p}=yield function hi(f,c){return Xn.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=fl(p||[]);return d.providerData=d.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Eo.apply(this,arguments)}function _a(f,c){return ud.apply(this,arguments)}function ud(){return(ud=(0,y.c)(function*(f,c,d=!1){const p=yield xn(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return Nr._forOperation(f,"link",p)})).apply(this,arguments)}function No(f,c,d){return va.apply(this,arguments)}function va(){return(va=(0,y.c)(function*(f,c,d){yield gi(c);const _=!1===f?"provider-already-linked":"no-such-provider";T(fl(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function Ns(f,c){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,y.c)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const w=yield xn(f,ir(p,_,c,f),d);T(w.idToken,p,"internal-error");const N=Gr(w.idToken);T(N,p,"internal-error");const{sub:J}=N;return T(f.uid===J,p,"user-mismatch"),Nr._forOperation(f,_,w)}catch(w){throw"auth/user-not-found"===(null==w?void 0:w.code)&&Be(p,"user-mismatch"),w}})).apply(this,arguments)}function dd(f,c){return ya.apply(this,arguments)}function ya(){return(ya=(0,y.c)(function*(f,c,d=!1){const p="signIn",_=yield ir(f,p,c),w=yield Nr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(w.user)),w})).apply(this,arguments)}function no(f,c){return gl.apply(this,arguments)}function gl(){return(gl=(0,y.c)(function*(f,c){return dd($n(f),c)})).apply(this,arguments)}function Ia(f,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.c)(function*(f,c){const d=(0,U.Yj)(f);return yield No(!1,d,c.providerId),_a(d,c)})).apply(this,arguments)}function hd(f,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.c)(function*(f,c){return Ns((0,U.Yj)(f),c)})).apply(this,arguments)}function xc(){return(xc=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithCustomToken",ie(f,c))})).apply(this,arguments)}function ml(){return ml=(0,y.c)(function*(f,c){const d=$n(f),p=yield function vi(f,c){return xc.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield Nr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),ml.apply(this,arguments)}class Ai{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Nc._fromServerResponse(c,d):"totpInfo"in d?np._fromServerResponse(c,d):Be(c,"internal-error")}}class Nc extends Ai{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Nc(d)}}class np extends Ai{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new np(d)}}function fd(f,c,d){var p;T((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),T(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(T(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(T(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function kc(f){return pd.apply(this,arguments)}function pd(){return(pd=(0,y.c)(function*(f){const c=$n(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Oc(){return(Oc=(0,y.c)(function*(f,c,d){const p=$n(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&fd(p,_,d),yield C(p,_,"getOobCode",F_)})).apply(this,arguments)}function V_(){return V_=(0,y.c)(function*(f,c,d){yield on((0,U.Yj)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,y.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&kc(f),_});return function(_){return p.apply(this,arguments)}}())}),V_.apply(this,arguments)}function $_(){return $_=(0,y.c)(function*(f,c){yield function Bi(f,c){return Tn.apply(this,arguments)}((0,U.Yj)(f),{oobCode:c})}),$_.apply(this,arguments)}function F0(f,c){return B_.apply(this,arguments)}function B_(){return(B_=(0,y.c)(function*(f,c){const d=(0,U.Yj)(f),p=yield on(d,{oobCode:c}),_=p.requestType;switch(T(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":T(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":T(p.mfaInfo,d,"internal-error");default:T(p.email,d,"internal-error")}let w=null;return p.mfaInfo&&(w=Ai._fromServerResponse($n(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function U_(){return(U_=(0,y.c)(function*(f,c){const{data:d}=yield F0((0,U.Yj)(f),c);return d.email})).apply(this,arguments)}function j_(){return(j_=(0,y.c)(function*(f,c,d){const p=$n(f),N=yield C(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Un).catch(Ae=>{throw"auth/password-does-not-meet-requirements"===Ae.code&&kc(f),Ae}),J=yield Nr._fromIdTokenResponse(p,"signIn",N);return yield p._updateCurrentUser(J.user),J})).apply(this,arguments)}function gd(){return(gd=(0,y.c)(function*(f,c,d){const p=$n(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function w(N,J){T(J.handleCodeInApp,p,"argument-error"),J&&fd(p,N,J)})(_,d),yield C(p,_,"getOobCode",L_)})).apply(this,arguments)}function z_(){return(z_=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f),_=ld.credentialWithLink(c,d||te());return T(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),no(p,_)})).apply(this,arguments)}function G_(){return(G_=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:createAuthUri",ie(f,c))})).apply(this,arguments)}function md(){return md=(0,y.c)(function*(f,c){const p={identifier:c,continueUri:de()?te():"http://localhost"},{signinMethods:_}=yield function XR(f,c){return G_.apply(this,arguments)}((0,U.Yj)(f),p);return _||[]}),md.apply(this,arguments)}function rp(){return rp=(0,y.c)(function*(f,c){const d=(0,U.Yj)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&fd(d.auth,_,c);const{email:w}=yield function Rc(f,c){return id.apply(this,arguments)}(d.auth,_);w!==f.email&&(yield f.reload())}),rp.apply(this,arguments)}function Pn(){return Pn=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&fd(p.auth,w,d);const{email:N}=yield function S0(f,c){return to.apply(this,arguments)}(p.auth,w);N!==f.email&&(yield f.reload())}),Pn.apply(this,arguments)}function wa(){return(wa=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function op(){return op=(0,y.c)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,U.Yj)(f),w={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},N=yield xn(p,function ip(f,c){return wa.apply(this,arguments)}(p.auth,w));p.displayName=N.displayName||null,p.photoURL=N.photoUrl||null;const J=p.providerData.find(({providerId:Ae})=>"password"===Ae);J&&(J.displayName=p.displayName,J.photoURL=p.photoURL),yield p._updateTokensIfNecessary(N)}),op.apply(this,arguments)}function Hi(f,c,d){return sp.apply(this,arguments)}function sp(){return sp=(0,y.c)(function*(f,c,d){const{auth:p}=f,w={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(w.email=c),d&&(w.password=d);const N=yield xn(f,function wr(f,c){return Zn.apply(this,arguments)}(p,w));yield f._updateTokensIfNecessary(N,!0)}),sp.apply(this,arguments)}class vl{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class ko extends vl{constructor(c,d,p,_){super(c,d,p),this.username=_}}class K_ extends vl{constructor(c,d){super(c,"facebook.com",d)}}class L0 extends ko{constructor(c,d){super(c,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class Y_ extends vl{constructor(c,d){super(c,"google.com",d)}}class lp extends ko{constructor(c,d,p){super(c,"twitter.com",d,p)}}function cp(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function ap(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},w=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&null!=f&&f.idToken){const N=null===(d=null===(c=Gr(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(N)return new vl(w,"anonymous"!==N&&"custom"!==N?N:null)}if(!p)return null;switch(p){case"facebook.com":return new K_(w,_);case"github.com":return new L0(w,_);case"google.com":return new Y_(w,_);case"twitter.com":return new lp(w,_,f.screenName||null);case"custom":case"anonymous":return new vl(w,null);default:return new vl(w,p,_)}}(d)}class Ca{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new Ca("enroll",c,d)}static _fromMfaPendingCredential(c){return new Ca("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(null!=c&&c.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ca._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return Ca._fromIdtoken(c.multiFactorSession.idToken)}return null}}class hp{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=$n(c),_=d.customData._serverResponse,w=(_.mfaInfo||[]).map(J=>Ai._fromServerResponse(p,J));T(_.mfaPendingCredential,p,"internal-error");const N=Ca._fromMfaPendingCredential(_.mfaPendingCredential);return new hp(N,w,function(){var J=(0,y.c)(function*(Ae){const ot=yield Ae._process(p,N);delete _.mfaInfo,delete _.mfaPendingCredential;const Rt=Object.assign(Object.assign({},_),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(d.operationType){case"signIn":const Dt=yield Nr._fromIdTokenResponse(p,d.operationType,Rt);return yield p._updateCurrentUser(Dt.user),Dt;case"reauthenticate":return T(d.user,p,"internal-error"),Nr._forOperation(d.user,d.operationType,Rt);default:Be(p,"internal-error")}});return function(Ae){return J.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,y.c)(function*(){return d.signInResolver(c)})()}}class Sn{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Ai._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new Sn(c)}getSession(){var c=this;return(0,y.c)(function*(){return Ca._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,y.c)(function*(){const _=c,w=yield p.getSession(),N=yield xn(p.user,_._process(p.user.auth,w,d));return yield p.user._updateTokensIfNecessary(N),p.user.reload()})()}unenroll(c){var d=this;return(0,y.c)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const w=yield xn(d.user,function pp(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ie(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:N})=>N!==p),yield d.user._updateTokensIfNecessary(w),yield d.user.reload()}catch(w){throw w}})()}}const vd=new WeakMap,ro="__sak";class yd{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ro,"1"),this.storage.removeItem(ro),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zr=(()=>{class f extends yd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gp(){const f=(0,U.Su)();return Di(f)||jt(f)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&d(p,w,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((J,Ae,ot)=>{this.notifyListeners(J,ot)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(_);if(d.newValue!==J)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const w=()=>{const J=this.storage.getItem(_);!p&&this.localCache[_]===J||this.notifyListeners(_,J)},N=this.storage.getItem(_);!function vr(){return(0,U.Uv)()&&10===document.documentMode}()||N===d.newValue||d.newValue===d.oldValue?w():setTimeout(w,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,w=this;return(0,y.c)(function*(){yield _().call(w,d,p),w.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,y.c)(function*(){const w=yield p().call(_,d);return _.localCache[d]=JSON.stringify(w),w})()}_remove(d){var p=()=>super._remove,_=this;return(0,y.c)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),_s=(()=>{class f extends yd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let vs=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(w=>w.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,y.c)(function*(){const _=d,{eventId:w,eventType:N,data:J}=_.data,Ae=p.handlersMap[N];if(null==Ae||!Ae.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:N});const ot=Array.from(Ae).map(function(){var Dt=(0,y.c)(function*(Kn){return Kn(_.origin,J)});return function(Kn){return Dt.apply(this,arguments)}}()),Rt=yield function Oo(f){return Promise.all(f.map(function(){var c=(0,y.c)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(ot);_.ports[0].postMessage({status:"done",eventId:w,eventType:N,response:Rt})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function $c(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class Z_{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,y.c)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let N,J;return new Promise((Ae,ot)=>{const Rt=$c("",20);w.port1.start();const Dt=setTimeout(()=>{ot(new Error("unsupported_event"))},p);J={messageChannel:w,onMessage(Kn){const qi=Kn;if(qi.data.eventId===Rt)switch(qi.data.status){case"ack":clearTimeout(Dt),N=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),Ae(qi.data.response);break;default:clearTimeout(Dt),clearTimeout(N),ot(new Error("invalid_response"))}}},_.handlers.add(J),w.port1.addEventListener("message",J.onMessage),_.target.postMessage({eventType:c,eventId:Rt,data:d},[w.port2])}).finally(()=>{J&&_.removeMessageHandler(J)})})()}}function kr(){return window}function Bc(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function Uc(){return(Uc=(0,y.c)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _p="firebaseLocalStorageDb",jc="firebaseLocalStorage",yp="fbase_key";class yl{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Hc(f,c){return f.transaction([jc],c?"readwrite":"readonly").objectStore(jc)}function Ep(){const f=indexedDB.open(_p,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(jc,{keyPath:yp})}catch(_){d(_)}}),f.addEventListener("success",(0,y.c)(function*(){const p=f.result;p.objectStoreNames.contains(jc)?c(p):(p.close(),yield function Ip(){const f=indexedDB.deleteDatabase(_p);return new yl(f).toPromise()}(),c(yield Ep()))}))})}function oi(f,c,d){return ys.apply(this,arguments)}function ys(){return(ys=(0,y.c)(function*(f,c,d){const p=Hc(f,!0).put({[yp]:c,value:d});return new yl(p).toPromise()})).apply(this,arguments)}function wp(){return(wp=(0,y.c)(function*(f,c){const d=Hc(f,!1).get(c),p=yield new yl(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function J_(f,c){const d=Hc(f,!0).delete(c);return new yl(d).toPromise()}const ba=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,y.c)(function*(){return d.db||(d.db=yield Ep()),d.db})()}_withRetries(d){var p=this;return(0,y.c)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield d(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,y.c)(function*(){return Bc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,y.c)(function*(){d.receiver=vs._getInstance(function z0(){return Bc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,y.c)(function*(_,w){return{keyProcessed:(yield d._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,y.c)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,y.c)(function*(){var p,_;if(d.activeServiceWorker=yield function mp(){return Uc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Z_(d.activeServiceWorker);const w=yield d.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,y.c)(function*(){if(p.sender&&p.activeServiceWorker&&function Id(){var f;return(null===(f=null==navigator?void 0:navigator.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.c)(function*(){try{if(!indexedDB)return!1;const d=yield Ep();return yield oi(d,ro,"1"),yield J_(d,ro),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,y.c)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,y.c)(function*(){return _._withPendingWrite((0,y.c)(function*(){return yield _._withRetries(w=>oi(w,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,y.c)(function*(){const _=yield p._withRetries(w=>function Wn(f,c){return wp.apply(this,arguments)}(w,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,y.c)(function*(){return p._withPendingWrite((0,y.c)(function*(){return yield p._withRetries(_=>J_(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,y.c)(function*(){const p=yield d._withRetries(N=>{const J=Hc(N,!1).getAll();return new yl(J).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:N,value:J}of p)w.add(N),JSON.stringify(d.localCache[N])!==JSON.stringify(J)&&(d.notifyListeners(N,J),_.push(N));for(const N of Object.keys(d.localCache))d.localCache[N]&&!w.has(N)&&(d.notifyListeners(N,null),_.push(N));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,y.c)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),zc=1e12;class Y0{constructor(c){this.auth=c,this.counter=zc,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new zi(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||zc;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||zc))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,y.c)(function*(){var p;return null===(p=d._widgets.get(c||zc))||void 0===p||p.execute(),""})()}}class zi{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;T(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function El(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wd=pa("rcb"),Cd=new Ce(3e4,6e4);class bd{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=kr().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return T(function Cp(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&me(kr().grecaptcha)?Promise.resolve(kr().grecaptcha):new Promise((p,_)=>{const w=kr().setTimeout(()=>{_(xe(c,"network-request-failed"))},Cd.get());kr()[wd]=()=>{kr().clearTimeout(w),delete kr()[wd];const J=kr().grecaptcha;if(!J||!me(J))return void _(xe(c,"internal-error"));const Ae=J.render;J.render=(ot,Rt)=>{const Dt=Ae(ot,Rt);return this.counter++,Dt},this.hostLanguage=d,p(J)},al(`${function ll(){return Yo.recaptchaV2Script}()}?${(0,U.ik)({onload:wd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(w),_(xe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=kr().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rP{load(c){return(0,y.c)(function*(){return new Y0(c)})()}clearedOneInstance(){}}const bp="recaptcha",iP={theme:"light",type:"image"};class io{constructor(c,d,p=Object.assign({},iP)){this.parameters=p,this.type=bp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(c),this.isInvisible="invisible"===this.parameters.size,T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;T(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rP:new bd,this.validateStartingState()}verify(){var c=this;return(0,y.c)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(w=>{const N=J=>{J&&(c.tokenChangeListeners.delete(N),w(J))};c.tokenChangeListeners.add(N),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=kr()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,y.c)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,y.c)(function*(){T(de()&&!Bc(),c.auth,"internal-error"),yield function Tp(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function wn(f){return Xt.apply(this,arguments)}(c.auth);T(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fs{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Jn._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function Td(){return(Td=(0,y.c)(function*(f,c,d){const p=$n(f),_=yield Wc(p,c,(0,U.Yj)(d));return new Fs(_,w=>no(p,w))})).apply(this,arguments)}function Gc(){return(Gc=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f);yield No(!1,p,"phone");const _=yield Wc(p.auth,c,(0,U.Yj)(d));return new Fs(_,w=>Ia(p,w))})).apply(this,arguments)}function Dp(){return(Dp=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f),_=yield Wc(p.auth,c,(0,U.Yj)(d));return new Fs(_,w=>hd(p,w))})).apply(this,arguments)}function Wc(f,c,d){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,y.c)(function*(f,c,d){var p;const _=yield d.verify();try{let w;if(T("string"==typeof _,f,"argument-error"),T(d.type===bp,f,"argument-error"),w="string"==typeof c?{phoneNumber:c}:c,"session"in w){const N=w.session;if("phoneNumber"in w)return T("enroll"===N.type,f,"internal-error"),(yield function B0(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:start",ie(f,c))}(f,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{T("signin"===N.type,f,"internal-error");const J=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return T(J,f,"missing-multi-factor-info"),(yield function Ed(f,c){return G(f,"POST","/v2/accounts/mfaSignIn:start",ie(f,c))}(f,{mfaPendingCredential:N.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function x0(f,c){return qe.apply(this,arguments)}(f,{phoneNumber:w.phoneNumber,recaptchaToken:_});return N}}finally{d._reset()}}),Dd.apply(this,arguments)}function wl(){return(wl=(0,y.c)(function*(f,c){yield _a((0,U.Yj)(f),c)})).apply(this,arguments)}let Ta=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=$n(d)}verifyPhoneNumber(d,p){return Wc(this.auth,d,(0,U.Yj)(p))}static credential(d,p){return Jn._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Jn._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Da(f,c){return c?Ot(c):(T(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Jo extends Mt{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return ps(c,this._buildIdpRequest())}_linkToIdToken(c,d){return ps(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return ps(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function St(f){return dd(f.auth,new Jo(f),f.bypassAuthState)}function sP(f){const{auth:c,user:d}=f;return T(d,c,"internal-error"),Ns(d,new Jo(f),f.bypassAuthState)}function Fo(f){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,y.c)(function*(f){const{auth:c,user:d}=f;return T(d,c,"internal-error"),_a(d,new Jo(f),f.bypassAuthState)})).apply(this,arguments)}class ev{constructor(c,d,p,_,w=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,y.c)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(w){c.reject(w)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,y.c)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:N,error:J,type:Ae}=c;if(J)return void d.reject(J);const ot={auth:d.auth,requestUri:p,sessionId:_,tenantId:N||void 0,postBody:w||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ae)(ot))}catch(Rt){d.reject(Rt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return St;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return sP;default:Be(this.auth,"internal-error")}}resolve(c){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tv=new Ce(2e3,1e4);function bl(){return(bl=(0,y.c)(function*(f,c,d){const p=$n(f);S(f,c,Io);const _=Da(p,d);return new st(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Kc(){return(Kc=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f);S(p.auth,c,Io);const _=Da(p.auth,d);return new st(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function Ap(){return(Ap=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f);S(p.auth,c,Io);const _=Da(p.auth,d);return new st(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let st=(()=>{class f extends ev{constructor(d,p,_,w,N){super(d,p,w,N),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,y.c)(function*(){const p=yield d.execute();return T(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,y.c)(function*(){X(1===d.filter.length,"Popup operations only handle one event");const p=$c();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(xe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,tv.get())};d()}}return f.currentPopupAction=null,f})();const Rd="pendingRedirect",Yc=new Map;class rv extends ev{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,y.c)(function*(){let p=Yc.get(d.auth._key());if(!p){try{const w=(yield function Lo(f,c){return iv.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}Yc.set(d.auth._key(),p)}return d.bypassAuthState||Yc.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,y.c)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,y.c)(function*(){})()}cleanUp(){}}function iv(){return(iv=(0,y.c)(function*(f,c){const d=kn(c),p=sv(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function ov(f,c){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,y.c)(function*(f,c){return sv(f)._set(kn(c),"true")})).apply(this,arguments)}function Sp(f,c){Yc.set(f._key(),c)}function sv(f){return Ot(f._redirectPersistence)}function kn(f){return Ar(Rd,f.config.apiKey,f.name)}function zt(f,c,d){return function Md(f,c,d){return Qc.apply(this,arguments)}(f,c,d)}function Qc(){return(Qc=(0,y.c)(function*(f,c,d){const p=$n(f);S(f,c,Io),yield p._initializationPromise;const _=Da(p,d);return yield ov(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function Rp(f,c,d){return function av(f,c,d){return Xc.apply(this,arguments)}(f,c,d)}function Xc(){return(Xc=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f);S(p.auth,c,Io),yield p.auth._initializationPromise;const _=Da(p.auth,d);yield ov(_,p.auth);const w=yield Yt(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",w)})).apply(this,arguments)}function J0(f,c,d){return function Pp(f,c,d){return lv.apply(this,arguments)}(f,c,d)}function lv(){return(lv=(0,y.c)(function*(f,c,d){const p=(0,U.Yj)(f);S(p.auth,c,Io),yield p.auth._initializationPromise;const _=Da(p.auth,d);yield No(!1,p,c.providerId),yield ov(_,p.auth);const w=yield Yt(p);return _._openRedirect(p.auth,c,"linkViaRedirect",w)})).apply(this,arguments)}function cv(){return(cv=(0,y.c)(function*(f,c){return yield $n(f)._initializationPromise,Mp(f,c,!1)})).apply(this,arguments)}function Mp(f,c){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,y.c)(function*(f,c,d=!1){const p=$n(f),_=Da(p,c),N=yield new rv(p,_,d).execute();return N&&!d&&(delete N.user._redirectEventId,yield p._persistUserIfCurrent(N.user),yield p._setRedirectUser(null,c)),N})).apply(this,arguments)}function Yt(f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.c)(function*(f){const c=$c(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class uv{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function tw(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ew(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!ew(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(xe(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(c))}saveEventToCache(c){this.cachedEventUids.add(dv(c)),this.lastProcessedEventTime=Date.now()}}function dv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function ew({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===(null==c?void 0:c.code)}function xd(f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,y.c)(function*(f,c={}){return G(f,"GET","/v1/projects",c)})).apply(this,arguments)}const hv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gi=/^https?/;function pv(){return(pv=(0,y.c)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield xd(f);for(const d of c)try{if(cP(d))return}catch{}Be(f,"unauthorized-domain")})).apply(this,arguments)}function cP(f){const c=te(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const N=new URL(f);return""===N.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&N.hostname===p}if(!Gi.test(d))return!1;if(hv.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const eu=new Ce(3e4,6e4);function Nd(){const f=kr().___jsl;if(null!=f&&f.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Od=null;const rw=new Ce(5e3,15e3),gv="__/auth/iframe",Tl="emulator/auth/iframe",iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(f){const c=f.config;T(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?k(c,Tl):`https://${f.config.authDomain}/${gv}`,p={apiKey:c.apiKey,appName:f.name,v:je.SDK_VERSION},_=Ls.get(f.config.apiHost);_&&(p.eid=_);const w=f._getFrameworks();return w.length&&(p.fw=w.join(",")),`${d}?${(0,U.ik)(p).slice(1)}`}function Fd(){return Fd=(0,y.c)(function*(f){const c=yield function nw(f){return Od=Od||function kd(f){return new Promise((c,d)=>{var p,_,w;function N(){Nd(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Nd(),d(xe(f,"network-request-failed"))},timeout:eu.get()})}if(null!==(_=null===(p=kr().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(w=kr().gapi)||void 0===w||!w.load){const J=pa("iframefcb");return kr()[J]=()=>{gapi.load?N():d(xe(f,"network-request-failed"))},al(`${function ul(){return Yo.gapiScript}()}?onload=${J}`).catch(Ae=>d(Ae))}N()}}).catch(c=>{throw Od=null,c})}(f),Od}(f),d=kr().gapi;return T(d,f,"internal-error"),c.open({where:document.body,url:ow(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iw,dontclear:!0},p=>new Promise(function(){var _=(0,y.c)(function*(w,N){yield p.restyle({setHideOnLeave:!1});const J=xe(f,"network-request-failed"),Ae=kr().setTimeout(()=>{N(J)},rw.get());function ot(){kr().clearTimeout(Ae),w(p)}p.ping(ot).then(ot,()=>{N(J)})});return function(w,N){return _.apply(this,arguments)}}()))}),Fd.apply(this,arguments)}const ze={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mv{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dP="__/auth/handler",Vd="emulator/auth/handler",lw=encodeURIComponent("fac");function nu(f,c,d,p,_,w){return ru.apply(this,arguments)}function ru(){return(ru=(0,y.c)(function*(f,c,d,p,_,w){T(f.config.authDomain,f,"auth-domain-config-required"),T(f.config.apiKey,f,"invalid-api-key");const N={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:je.SDK_VERSION,eventId:_};if(c instanceof Io){c.setDefaultLanguage(f.languageCode),N.providerId=c.providerId||"",(0,U.t7)(c.getCustomParameters())||(N.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Rt,Dt]of Object.entries(w||{}))N[Rt]=Dt}if(c instanceof dl){const Rt=c.getScopes().filter(Dt=>""!==Dt);Rt.length>0&&(N.scopes=Rt.join(","))}f.tenantId&&(N.tid=f.tenantId);const J=N;for(const Rt of Object.keys(J))void 0===J[Rt]&&delete J[Rt];const Ae=yield f._getAppCheckToken(),ot=Ae?`#${lw}=${encodeURIComponent(Ae)}`:"";return`${function Dl({config:f}){return f.emulator?k(f,Vd):`https://${f.authDomain}/${dP}`}(f)}?${(0,U.ik)(J).slice(1)}${ot}`})).apply(this,arguments)}const Al="webStorageSupport",Aa=class $d{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Mp,this._overrideRedirectResult=Sp}_openPopup(c,d,p,_){var w=this;return(0,y.c)(function*(){var N;X(null===(N=w.eventManagers[c._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const J=yield nu(c,d,p,te(),_);return function aw(f,c,d,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),N=Math.max((window.screen.availWidth-p)/2,0).toString();let J="";const Ae=Object.assign(Object.assign({},ze),{width:p.toString(),height:_.toString(),top:w,left:N}),ot=(0,U.Su)().toLowerCase();d&&(J=Ko(ot)?"_blank":d),Kr(ot)&&(c=c||"http://localhost",Ae.scrollbars="yes");const Rt=Object.entries(Ae).reduce((Kn,[qi,$l])=>`${Kn}${qi}=${$l},`,"");if(function gn(f=(0,U.Su)()){var c;return jt(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(ot)&&"_self"!==J)return function uP(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",J),new mv(null);const Dt=window.open(c||"",J,Rt);T(Dt,f,"popup-blocked");try{Dt.focus()}catch{}return new mv(Dt)}(c,J,$c())})()}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w._originValidation(c),function H0(f){kr().location.href=f}(yield nu(c,d,p,te(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:w}=this.eventManagers[d];return _?Promise.resolve(_):(X(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,y.c)(function*(){const p=yield function He(f){return Fd.apply(this,arguments)}(c),_=new uv(c);return p.register("authEvent",w=>(T(null==w?void 0:w.authEvent,c,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Al,{type:Al},_=>{var w;const N=null===(w=null==_?void 0:_[0])||void 0===w?void 0:w[Al];void 0!==N&&d(!!N),Be(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function fv(f){return pv.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Bn()||Di()||jt()}};class Sl{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return V("unexpected MultiFactorSessionType")}}}class Vs extends Sl{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Vs(c)}_finalizeEnroll(c,d,p){return function be(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:finalize",ie(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Os(f,c){return G(f,"POST","/v2/accounts/mfaSignIn:finalize",ie(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Np=(()=>{class f{constructor(){}static assertion(d){return Vs._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Pl="@firebase/auth";class vv{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,y.c)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c((null==p?void 0:p.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Is(){return window}(0,U.sX)("authIdTokenMaxAge"),function td(f){Yo=f}({loadJS:f=>new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const w=xe("internal-error");w.customData=_,d(w)},p.type="text/javascript",p.charset="UTF-8",function Ev(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function dw(f){(0,je._registerComponent)(new Z.Yl("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),w=c.getProvider("app-check-internal"),{apiKey:N,authDomain:J}=p.options;T(N&&!N.includes(":"),"invalid-api-key",{appName:p.name});const Ae={apiKey:N,authDomain:J,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(f)},ot=new _n(p,_,w,Ae);return function _e(f,c){const d=(null==c?void 0:c.persistence)||[],p=(Array.isArray(d)?d:[d]).map(Ot);null!=c&&c.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,null==c?void 0:c.popupRedirectResolver)}(ot,d),ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,je._registerComponent)(new Z.Yl("auth-internal",c=>{const d=$n(c.getProvider("auth").getImmediate());return new vv(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,je.registerVersion)(Pl,"1.6.0",function uw(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,je.registerVersion)(Pl,"1.6.0","esm2017")}("Browser");function Cv(){return Cv=(0,y.c)(function*(f,c,d){var p;const{BuildInfo:_}=Is();X(c.sessionId,"AuthEvent did not contain a session ID");const w=yield function $p(f){return Ml.apply(this,arguments)}(c.sessionId),N={};return jt()?N.ibi=_.packageName:re()?N.apn=_.packageName:Be(f,"operation-not-supported-in-this-environment"),_.displayName&&(N.appDisplayName=_.displayName),N.sessionId=w,nu(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,N)}),Cv.apply(this,arguments)}function Fp(){return(Fp=(0,y.c)(function*(f){const{BuildInfo:c}=Is(),d={};jt()?d.iosBundleId=c.packageName:re()?d.androidPackageName=c.packageName:Be(f,"operation-not-supported-in-this-environment"),yield xd(f,d)})).apply(this,arguments)}function Vp(){return(Vp=(0,y.c)(function*(f,c,d){const{cordova:p}=Is();let _=()=>{};try{yield new Promise((w,N)=>{let J=null;function Ae(){var Dt;w();const Kn=null===(Dt=p.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof Kn&&Kn(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function ot(){J||(J=window.setTimeout(()=>{N(xe(f,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}c.addPassiveListener(Ae),document.addEventListener("resume",ot,!1),re()&&document.addEventListener("visibilitychange",Rt,!1),_=()=>{c.removePassiveListener(Ae),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Rt,!1),J&&window.clearTimeout(J)}})}finally{_()}})).apply(this,arguments)}function Ml(){return(Ml=(0,y.c)(function*(f){const c=function xl(f){if(X(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class kl extends uv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,y.c)(function*(){yield c.initPromise})()}}function Ra(f){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,y.c)(function*(f){const c=yield Up()._get(Ol(f));return c&&(yield Up()._remove(Ol(f))),c})).apply(this,arguments)}function su(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Up(){return Ot(Zr)}function Ol(f){return Ar("authEvent",f.config.apiKey,f.name)}function es(f){if(null==f||!f.includes("?"))return{};const[c,...d]=f.split("?");return(0,U.aw)(d.join("?"))}const Ud=class jp{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mp,this._overrideRedirectResult=Sp}_initialize(c){var d=this;return(0,y.c)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new kl(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){Be(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){!function bv(f){var c,d,p,_,w,N,J,Ae,ot,Rt;const Dt=Is();T("function"==typeof(null===(c=null==Dt?void 0:Dt.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),T(typeof(null===(d=null==Dt?void 0:Dt.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),T("function"==typeof(null===(w=null===(_=null===(p=null==Dt?void 0:Dt.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===w?void 0:w.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),T("function"==typeof(null===(Ae=null===(J=null===(N=null==Dt?void 0:Dt.cordova)||void 0===N?void 0:N.plugins)||void 0===J?void 0:J.browsertab)||void 0===Ae?void 0:Ae.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),T("function"==typeof(null===(Rt=null===(ot=null==Dt?void 0:Dt.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Rt?void 0:Rt.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const N=yield w._initialize(c);yield N.initialized(),N.resetRedirect(),function Z0(){Yc.clear()}(),yield w._originValidation(c);const J=function Tv(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:su(),postBody:null,tenantId:f.tenantId,error:xe(f,"no-auth-event")}}(c,p,_);yield function Bp(f,c){return Up()._set(Ol(f),c)}(c,J);const Ae=yield function hP(f,c,d){return Cv.apply(this,arguments)}(c,J,d),ot=yield function Bd(f){const{cordova:c}=Is();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function ct(f=(0,U.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(Ae);return function Lp(f,c,d){return Vp.apply(this,arguments)}(c,N,ot)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function ou(f){return Fp.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:w}=Is(),N=setTimeout((0,y.c)(function*(){yield Ra(c),d.onEvent(jd())}),500),J=function(){var Rt=(0,y.c)(function*(Dt){clearTimeout(N);const Kn=yield Ra(c);let qi=null;Kn&&null!=Dt&&Dt.url&&(qi=function fw(f,c){var d,p;const _=function Pa(f){const c=es(f),d=c.link?decodeURIComponent(c.link):void 0,p=es(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return es(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const w=es(_),N=w.firebaseError?function pw(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,J=null===(p=null===(d=null==N?void 0:N.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],Ae=J?xe(J):null;return Ae?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(Kn,Dt.url)),d.onEvent(qi||jd())});return function(Kn){return Rt.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,J);const Ae=_,ot=`${w.packageName.toLowerCase()}://`;Is().handleOpenURL=function(){var Rt=(0,y.c)(function*(Dt){if(Dt.toLowerCase().startsWith(ot)&&J({url:Dt}),"function"==typeof Ae)try{Ae(Dt)}catch(Kn){console.error(Kn)}});return function(Dt){return Rt.apply(this,arguments)}}()}};function jd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xe("no-auth-event")}}function zd(){var f;return(null===(f=null==self?void 0:self.location)||void 0===f?void 0:f.protocol)||null}function Pv(f=(0,U.Su)()){return!("file:"!==zd()&&"ionic:"!==zd()&&"capacitor:"!==zd()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nv(){try{const f=self.localStorage,c=$c();if(f)return f.setItem(c,"1"),f.removeItem(c),!function Ma(f=(0,U.Su)()){return function Mv(){return(0,U.Uv)()&&11===(null==document?void 0:document.documentMode)}()||function xv(f=(0,U.Su)()){return/Edge\/\d+/.test(f)}(f)}()||(0,U.yy)()}catch{return au()&&(0,U.yy)()}return!1}function au(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fl(){return(function Hp(){return"http:"===zd()||"https:"===zd()}()||(0,U.Cc)()||Pv())&&!function zp(){return(0,U.AL)()||(0,U.yW)()}()&&Nv()&&!au()}function kv(){return Pv()&&typeof document<"u"}function Ll(){return(Ll=(0,y.c)(function*(){return!!kv()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},xa=T,Ov="persistence";function Gd(f){return $s.apply(this,arguments)}function $s(){return($s=(0,y.c)(function*(f){yield f._initializationPromise;const c=Fv(),d=Ar(Ov,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function Fv(){var f;try{return(null===(f=function si(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const vw=T;class ts{constructor(){this.browserResolver=Ot(Aa),this.cordovaResolver=Ot(Ud),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Mp,this._overrideRedirectResult=Sp}_initialize(c){var d=this;return(0,y.c)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return kv()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vw(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,y.c)(function*(){if(c.underlyingResolver)return;const d=yield function Gp(){return Ll.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function Bs(f){return f.unwrap()}function Vl(f){return Lv(f)}function Lv(f){const{_tokenResponse:c}=f instanceof U.kx?f.customData:f;if(!c)return null;if(!(f instanceof U.kx)&&"temporaryProof"in c&&"phoneNumber"in c)return Ta.credentialFromResult(f);const d=c.providerId;if(!d||d===rt.PASSWORD)return null;let p;switch(d){case rt.GOOGLE:p=nt;break;case rt.FACEBOOK:p=er;break;case rt.GITHUB:p=$t;break;case rt.TWITTER:p=ma;break;default:const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:J,nonce:Ae}=c;return w||N||_||J?J?d.startsWith("saml.")?mi._create(d,J):Xo._fromParams({providerId:d,signInMethod:d,pendingToken:J,idToken:_,accessToken:w}):new hl(d).credential({idToken:_,accessToken:w,rawNonce:Ae}):null}return f instanceof U.kx?p.credentialFromError(f):p.credentialFromResult(f)}function Dn(f,c){return c.catch(d=>{throw d instanceof U.kx&&function yw(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===(null==c?void 0:c.code))c.resolver=new lu(f,function $0(f,c){var d;const p=(0,U.Yj)(f),_=c;return T(c.customData.operationType,p,"argument-error"),T(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),hp._fromError(p,_)}(f,c));else if(p){const _=Lv(c),w=c;_&&(w.credential=_,w.tenantId=p.tenantId||void 0,w.email=p.email||void 0,w.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:Vl(d),additionalUserInfo:cp(d),user:Es.getOrCreate(_)}})}function qd(f,c){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,y.c)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>Dn(f,d.confirm(p))}})).apply(this,arguments)}class lu{constructor(c,d){this.resolver=d,this.auth=function qp(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Dn(Bs(this.auth),this.resolver.resolveSignIn(c))}}class Es{constructor(c){this._delegate=c,this.multiFactor=function Vc(f){const c=(0,U.Yj)(f);return vd.has(c)||vd.set(c,Sn._fromUser(c)),vd.get(c)}(c)}static getOrCreate(c){return Es.USER_MAP.has(c)||Es.USER_MAP.set(c,new Es(c)),Es.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,y.c)(function*(){return Dn(d.auth,Ia(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,y.c)(function*(){return qd(p.auth,function Q0(f,c,d){return Gc.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,y.c)(function*(){return Dn(d.auth,function nv(f,c,d){return Ap.apply(this,arguments)}(d._delegate,c,ts))})()}linkWithRedirect(c){var d=this;return(0,y.c)(function*(){return yield Gd($n(d.auth)),J0(d._delegate,c,ts)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,y.c)(function*(){return Dn(d.auth,hd(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return qd(this.auth,function qc(f,c,d){return Dp.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Dn(this.auth,function Sd(f,c,d){return Kc.apply(this,arguments)}(this._delegate,c,ts))}reauthenticateWithRedirect(c){var d=this;return(0,y.c)(function*(){return yield Gd($n(d.auth)),Rp(d._delegate,c,ts)})()}sendEmailVerification(c){return function W_(f,c){return rp.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,y.c)(function*(){return yield function pl(f,c){return Eo.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function Fc(f,c){return Hi((0,U.Yj)(f),c,null)}(this._delegate,c)}updatePassword(c){return function _l(f,c){return Hi((0,U.Yj)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Ad(f,c){return wl.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Si(f,c){return op.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function ZR(f,c,d){return Pn.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;const cu=T;let Vv=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;cu(_,"invalid-api-key",{appName:d.name}),cu(_,"invalid-api-key",{appName:d.name});const w=typeof window<"u"?ts:void 0;this._delegate=p.initialize({options:{persistence:Iw(_,d.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function Ge(f,c,d){const p=$n(f);T(p._canInitEmulator,p,"emulator-config-failed"),T(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!(null==d||!d.disableWarnings),w=$e(c),{host:N,port:J}=function Fe(f){const c=$e(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:Pe(p.substr(w.length+1))}}{const[w,N]=p.split(":");return{host:w,port:Pe(N)}}}(c);p.config.emulator={url:`${w}//${N}${null===J?"":`:${J}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:N,port:J,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Xe(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function GR(f,c){return $_.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return F0(this._delegate,d)}confirmPasswordReset(d,p){return function zR(f,c,d){return V_.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,y.c)(function*(){return Dn(_._delegate,function WR(f,c,d){return j_.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function q_(f,c){return md.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function H_(f,c){const d=xr.parseLink(c);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,y.c)(function*(){cu(Fl(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function aP(f,c){return cv.apply(this,arguments)}(d._delegate,ts);return p?Dn(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function gw(f,c){$n(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:w,error:N,complete:J}=$v(d,p,_);return this._delegate.onAuthStateChanged(w,N,J)}onIdTokenChanged(d,p,_){const{next:w,error:N,complete:J}=$v(d,p,_);return this._delegate.onIdTokenChanged(w,N,J)}sendSignInLinkToEmail(d,p){return function YR(f,c,d){return gd.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function O0(f,c,d){return Oc.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,y.c)(function*(){let _;switch(function mw(f,c){xa(Object.values(Jr).includes(c),f,"invalid-persistence-type"),(0,U.AL)()?xa(c!==Jr.SESSION,f,"unsupported-persistence-type"):(0,U.yW)()?xa(c===Jr.NONE,f,"unsupported-persistence-type"):au()?xa(c===Jr.NONE||c===Jr.LOCAL&&(0,U.yy)(),f,"unsupported-persistence-type"):xa(c===Jr.NONE||Nv(),f,"unsupported-persistence-type")}(p._delegate,d),d){case Jr.SESSION:_=_s;break;case Jr.LOCAL:_=(yield Ot(ba)._isAvailable())?ba:Zr;break;case Jr.NONE:_=mt;break;default:return Be("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Dn(this._delegate,function Mc(f){return cd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Dn(this._delegate,no(this._delegate,d))}signInWithCustomToken(d){return Dn(this._delegate,function Ea(f,c){return ml.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Dn(this._delegate,function KR(f,c,d){return no((0,U.Yj)(f),ld.credential(c,d)).catch(function(){var p=(0,y.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&kc(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Dn(this._delegate,function QR(f,c,d){return z_.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return qd(this._delegate,function oP(f,c,d){return Td.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,y.c)(function*(){return cu(Fl(),p._delegate,"operation-not-supported-in-this-environment"),Dn(p._delegate,function X0(f,c,d){return bl.apply(this,arguments)}(p._delegate,d,ts))})()}signInWithRedirect(d){var p=this;return(0,y.c)(function*(){return cu(Fl(),p._delegate,"operation-not-supported-in-this-environment"),yield Gd(p._delegate),zt(p._delegate,d,ts)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function qR(f,c){return U_.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Jr,f})();function $v(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:N=>_(N&&Es.getOrCreate(N)),error:c,complete:d}}function Iw(f,c){const d=function _w(f,c){const d=Fv();if(!d)return[];const p=Ar(Ov,f,c);switch(d.getItem(p)){case Jr.NONE:return[mt];case Jr.LOCAL:return[ba,_s];case Jr.SESSION:return[_s];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes(ba)&&d.push(ba),typeof window<"u")for(const p of[Zr,_s])d.includes(p)||d.push(p);return d.includes(mt)||d.push(mt),d}class Kp{constructor(){this.providerId="phone",this._delegate=new Ta(Bs(ke.c.auth()))}static credential(c,d){return Ta.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Kp.PHONE_SIGN_IN_METHOD=Ta.PHONE_SIGN_IN_METHOD,Kp.PROVIDER_ID=Ta.PROVIDER_ID;const Yp=T;class Wd{constructor(c,d,p=ke.c.app()){var _;Yp(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new io(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bv(f){f.INTERNAL.registerComponent(new Z.Yl("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new Vv(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ld,FacebookAuthProvider:er,GithubAuthProvider:$t,GoogleAuthProvider:nt,OAuthProvider:hl,SAMLAuthProvider:ji,PhoneAuthProvider:Kp,PhoneMultiFactorGenerator:Np,RecaptchaVerifier:Wd,TwitterAuthProvider:ma,Auth:Vv,AuthCredential:Mt,Error:U.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.2")}(ke.c)},1528:(Mn,Lt,oe)=>{"use strict";function y(U,je,Pt,Ze,Z,Je,rt){try{var ee=U[Je](rt),W=ee.value}catch(Ie){return void Pt(Ie)}ee.done?je(W):Promise.resolve(W).then(Ze,Z)}function ke(U){return function(){var je=this,Pt=arguments;return new Promise(function(Ze,Z){var Je=U.apply(je,Pt);function rt(W){y(Je,Ze,Z,rt,ee,"next",W)}function ee(W){y(Je,Ze,Z,rt,ee,"throw",W)}rt(void 0)})}}oe.d(Lt,{c:()=>ke})},1316:(Mn,Lt,oe)=>{"use strict";function je(k,D){var M={};for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&D.indexOf(j)<0&&(M[j]=k[j]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(j=Object.getOwnPropertySymbols(k);ie<j.length;ie++)D.indexOf(j[ie])<0&&Object.prototype.propertyIsEnumerable.call(k,j[ie])&&(M[j[ie]]=k[j[ie]])}return M}function Pt(k,D,M,j){var We,ie=arguments.length,G=ie<3?D:null===j?j=Object.getOwnPropertyDescriptor(D,M):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(k,D,M,j);else for(var dt=k.length-1;dt>=0;dt--)(We=k[dt])&&(G=(ie<3?We(G):ie>3?We(D,M,G):We(D,M))||G);return ie>3&&G&&Object.defineProperty(D,M,G),G}function Ie(k,D,M,j){return new(M||(M=Promise))(function(G,We){function dt(Vt){try{pt(j.next(Vt))}catch(dn){We(dn)}}function tt(Vt){try{pt(j.throw(Vt))}catch(dn){We(dn)}}function pt(Vt){Vt.done?G(Vt.value):function ie(G){return G instanceof M?G:new M(function(We){We(G)})}(Vt.value).then(dt,tt)}pt((j=j.apply(k,D||[])).next())})}function Me(k){return this instanceof Me?(this.v=k,this):new Me(k)}function Be(k,D,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,j=M.apply(k,D||[]),G=[];return ie={},We("next"),We("throw"),We("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function We(yt){j[yt]&&(ie[yt]=function(Re){return new Promise(function(se,me){G.push([yt,Re,se,me])>1||dt(yt,Re)})})}function dt(yt,Re){try{!function tt(yt){yt.value instanceof Me?Promise.resolve(yt.value.v).then(pt,Vt):dn(G[0][2],yt)}(j[yt](Re))}catch(se){dn(G[0][3],se)}}function pt(yt){dt("next",yt)}function Vt(yt){dt("throw",yt)}function dn(yt,Re){yt(Re),G.shift(),G.length&&dt(G[0][0],G[0][1])}}function et(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,D=k[Symbol.asyncIterator];return D?D.call(k):(k=function De(k){var D="function"==typeof Symbol&&Symbol.iterator,M=D&&k[D],j=0;if(M)return M.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&j>=k.length&&(k=void 0),{value:k&&k[j++],done:!k}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}(k),M={},j("next"),j("throw"),j("return"),M[Symbol.asyncIterator]=function(){return this},M);function j(G){M[G]=k[G]&&function(We){return new Promise(function(dt,tt){!function ie(G,We,dt,tt){Promise.resolve(tt).then(function(pt){G({value:pt,done:dt})},We)}(dt,tt,(We=k[G](We)).done,We.value)})}}}oe.d(Lt,{U1:()=>Me,UN:()=>Pt,kH:()=>Ie,mA:()=>et,o7:()=>Be,sX:()=>je}),"function"==typeof SuppressedError&&SuppressedError}},Mn=>{Mn(Mn.s=4812)}]);